"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2962],{2962:(J,f,g)=>{g.r(f),g.d(f,{HearingScreeningModule:()=>j});var h=g(6814),u=g(3699),p=g(5861),Z=g(5619),e=g(6689),m=g(3970),i=g(9810);function k(o,a){if(1&o){const r=e.EpF();e.TgZ(0,"ion-button",4),e.NdJ("click",function(){e.CHM(r);const t=e.oxw();return e.KtG(t.navigate("/admin/patient/details/hearing-screening/add"))}),e._uU(1,"Add Child"),e.qZA()}}function F(o,a){if(1&o&&(e.TgZ(0,"div")(1,"a",5)(2,"ion-card",6)(3,"ion-card-content",6),e._uU(4),e.qZA()()()()),2&o){const r=a.$implicit;e.xp6(1),e.MGl("routerLink","/admin/patient/details/hearing-screening/list/",r.id,""),e.xp6(3),e.lnq(" ",r.lastName,", ",r.firstName," ",r.middleName," ")}}let x=(()=>{var o;class a{constructor(n,t,s){this.router=n,this.route=t,this.pouchService=s,this.access=localStorage.getItem("access"),this.hsSubject=new Z.X([]),this.hs$=this.hsSubject.asObservable(),this.noHs=!0}ngOnInit(){}ionViewWillEnter(){var n=this;return(0,p.Z)(function*(){yield n.getHearingScreening()})()}navigate(n){this.router.navigate([n])}getHearingScreening(){var n=this;return(0,p.Z)(function*(){n.pouchService.motherDb||(yield n.pouchService.reiniMotherPouch());try{const{rows:t}=yield n.pouchService.hsDb.allDocs({include_docs:!0});console.log(t),n.noHs=!(t.length>0);const s=t.map(c=>({id:c.doc._id,lastName:c.doc.patient.lastName,firstName:c.doc.patient.firstName,middleName:c.doc.patient.middleName}));n.hsSubject.next(s)}catch(t){console.log(t)}})()}}return(o=a).\u0275fac=function(n){return new(n||o)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(m.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-hearing-screening",5,"a"]],decls:11,vars:4,consts:[["slot","start"],["slot","end"],[3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],[1,"ion-justify-content-start"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Select Child"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1),e.YNc(7,k,2,0,"ion-button",2),e.qZA()()(),e.TgZ(8,"ion-content"),e.YNc(9,F,5,4,"div",3),e.ALo(10,"async"),e.qZA()),2&n&&(e.xp6(7),e.Q6J("ngIf","approved"==t.access),e.xp6(2),e.Q6J("ngForOf",e.lcZ(10,2,t.hs$)))},dependencies:[h.sg,h.O5,u.rH,u.Od,i.YG,i.Sm,i.PM,i.FN,i.W2,i.Gu,i.wd,i.sr,i.oU,i.Fo,h.Ov]}),a})();var _=g(6676);function D(o,a){if(1&o){const r=e.EpF();e.TgZ(0,"div")(1,"a",5),e.NdJ("click",function(){const s=e.CHM(r).$implicit,c=e.oxw();return e.KtG(c.setIds(s.id))}),e.TgZ(2,"ion-card")(3,"ion-card-content",6)(4,"div",7)(5,"ion-label",7),e._uU(6),e.qZA()(),e.TgZ(7,"ion-row",8)(8,"ion-col",9),e._uU(9),e.qZA(),e.TgZ(10,"ion-col",9),e._uU(11),e.qZA()()()()()()}if(2&o){const r=a.$implicit;e.xp6(6),e.Oqu(r.dateOfScreening),e.xp6(3),e.hij("Result Left: ",r.resultLeft,""),e.xp6(2),e.hij("Result Right: ",r.resultRight,"")}}let S=(()=>{var o;class a{constructor(n,t,s){this.router=n,this.route=t,this.pouchService=s,this.alertButtons=["Untrack"],this.hsSubject=new Z.X([]),this.hs$=this.hsSubject.asObservable(),this.id=String(this.route.snapshot.paramMap.get("id"))}ngOnInit(){}ionViewWillEnter(){var n=this;return(0,p.Z)(function*(){localStorage.setItem("selected_patient",String(n.route.snapshot.paramMap.get("id"))),yield n.getHearingScreening()})()}getHearingScreening(){var n=this;return(0,p.Z)(function*(){try{const s=(yield n.pouchService.hsDb.get(n.id)).hearingScreening.map(c=>({id:c.id,dateOfScreening:_(c.dateOfScreening).format("MMMM, DD, YYYY"),resultLeft:c.resultLeft,resultRight:c.resultRight}));console.log(s),n.hsSubject.next(s)}catch(t){console.log(t)}})()}delete(n){var t=this;return(0,p.Z)(function*(){if("backdrop"!==n.detail.role)try{var s=yield t.pouchService.hsDb.get(t.id),c=yield t.pouchService.hsDb.remove(s);console.log(c),t.router.navigate(["/admin/patient/details/hearing-screening"])}catch(l){console.log(l)}})()}setIds(n){localStorage.setItem("selected_hs",n)}}return(o=a).\u0275fac=function(n){return new(n||o)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(m.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list",5,"a"]],decls:13,vars:4,consts:[["slot","start"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Untrack Screenings","message","Are you sure you want to untrack hearing screening record?",3,"buttons","ionAlertDidDismiss"],[4,"ngFor","ngForOf"],["routerLink","/admin/patient/details/hearing-screening/results","routerLinkActive","active","ariaCurrentWhenActive","page",3,"click"],[1,"ion-no-padding"],[1,"ion-padding"],[1,"ion-padding","border-1"],["size","6"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Screenings"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e._uU(8,"Remove"),e.qZA(),e.TgZ(9,"ion-alert",3),e.NdJ("ionAlertDidDismiss",function(c){return t.delete(c)}),e.qZA()()()(),e.TgZ(10,"ion-content"),e.YNc(11,D,12,3,"div",4),e.ALo(12,"async"),e.qZA()),2&n&&(e.xp6(9),e.Q6J("buttons",t.alertButtons),e.xp6(2),e.Q6J("ngForOf",e.lcZ(12,2,t.hs$)))},dependencies:[h.sg,u.rH,u.Od,i.Ge,i.YG,i.Sm,i.PM,i.FN,i.wI,i.W2,i.Gu,i.Q$,i.Nd,i.wd,i.sr,i.oU,i.Fo,h.Ov]}),a})(),A=(()=>{var o;class a{constructor(n,t,s){this.router=n,this.route=t,this.pouchService=s,this.hsSubject=new Z.X(null),this.hs$=this.hsSubject.asObservable()}ngOnInit(){}ionViewWillEnter(){var n=this;return(0,p.Z)(function*(){yield n.getHearingScreening()})()}getHearingScreening(){var n=this;return(0,p.Z)(function*(){n.pouchService.motherDb||n.pouchService.reiniMotherPouch();try{const t=localStorage.getItem("selected_patient");let s=yield n.pouchService.hsDb.get(t);console.log(s);const c=s.hearingScreening.filter(l=>l.id===localStorage.getItem("selected_hs"))[0];console.log(c),c.dateOfScreening=_(c.dateOfScreening).format("MMMM, DD, YYYY"),n.hsSubject.next(c)}catch(t){console.log(t)}})()}}return(o=a).\u0275fac=function(n){return new(n||o)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(m.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-results"]],decls:120,vars:48,consts:[["slot","start"],[1,"ion-text-center"],[1,"padding-top-10"],["size","10"],["size","2"],["disabled","true",3,"checked"],[1,"border-1"],["size","6"],["size","12"]],template:function(n,t){if(1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Screening Results"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"h3",1),e._uU(8,"Risk Factors"),e.qZA(),e.TgZ(9,"ion-card",2)(10,"ion-list")(11,"ion-item")(12,"ion-col",3)(13,"p"),e._uU(14,"Hyperbilirubinemia requiring transfusion"),e.qZA()(),e.TgZ(15,"ion-col",4),e._UZ(16,"ion-checkbox",5),e.ALo(17,"async"),e.qZA()(),e.TgZ(18,"ion-item",6)(19,"ion-col",3)(20,"p"),e._uU(21,"NICU admission more than 48 hours"),e.qZA()(),e.TgZ(22,"ion-col",4),e._UZ(23,"ion-checkbox",5),e.ALo(24,"async"),e.qZA()(),e.TgZ(25,"ion-item",6)(26,"ion-col",3)(27,"p"),e._uU(28,"Family history of permanent childhood hearing loss"),e.qZA()(),e.TgZ(29,"ion-col",4),e._UZ(30,"ion-checkbox",5),e.ALo(31,"async"),e.qZA()(),e.TgZ(32,"ion-item",6)(33,"ion-col",3)(34,"p"),e._uU(35,"Features associated with syndrome"),e.qZA()(),e.TgZ(36,"ion-col",4),e._UZ(37,"ion-checkbox",5),e.ALo(38,"async"),e.qZA()(),e.TgZ(39,"ion-item",6)(40,"ion-col",3)(41,"p"),e._uU(42,"Ventilation more than 48 hours"),e.qZA()(),e.TgZ(43,"ion-col",4),e._UZ(44,"ion-checkbox",5),e.ALo(45,"async"),e.qZA()(),e.TgZ(46,"ion-item",6)(47,"ion-col",3)(48,"p"),e._uU(49,"Ototoxic medication"),e.qZA()(),e.TgZ(50,"ion-col",4),e._UZ(51,"ion-checkbox",5),e.ALo(52,"async"),e.qZA()(),e.TgZ(53,"ion-item",6)(54,"ion-col",3)(55,"p"),e._uU(56,"Craniofacial anomalies with deformed pinna or ear canal"),e.qZA()(),e.TgZ(57,"ion-col",4),e._UZ(58,"ion-checkbox",5),e.ALo(59,"async"),e.qZA()(),e.TgZ(60,"ion-item",6)(61,"ion-col",3)(62,"p"),e._uU(63,"In-utero infections"),e.qZA()(),e.TgZ(64,"ion-col",4),e._UZ(65,"ion-checkbox",5),e.ALo(66,"async"),e.qZA()()()(),e.TgZ(67,"h3",1),e._uU(68,"Screening"),e.qZA(),e.TgZ(69,"ion-card",2)(70,"ion-list")(71,"ion-item")(72,"ion-col",7)(73,"p",1),e._uU(74,"Date of Screening"),e.qZA(),e.TgZ(75,"div",1),e._uU(76),e.ALo(77,"async"),e.qZA()(),e.TgZ(78,"ion-col",7)(79,"p",1),e._uU(80,"Time of Screening"),e.qZA(),e.TgZ(81,"div",1),e._uU(82),e.ALo(83,"async"),e.qZA()()(),e.TgZ(84,"ion-item",6)(85,"ion-col",7)(86,"p",1),e._uU(87,"Type of Screening"),e.qZA(),e.TgZ(88,"div",1),e._uU(89),e.ALo(90,"async"),e.qZA()(),e.TgZ(91,"ion-col",7)(92,"p",1),e._uU(93,"Method of Screening"),e.qZA(),e.TgZ(94,"div",1),e._uU(95),e.ALo(96,"async"),e.qZA()()(),e.TgZ(97,"ion-item",6)(98,"ion-col",7)(99,"p",1),e._uU(100,"Result Right"),e.qZA(),e.TgZ(101,"div",1),e._uU(102),e.ALo(103,"async"),e.qZA()(),e.TgZ(104,"ion-col",7)(105,"p",1),e._uU(106,"Result Left"),e.qZA(),e.TgZ(107,"div",1),e._uU(108),e.ALo(109,"async"),e.qZA()()(),e.TgZ(110,"ion-item",6)(111,"ion-col",8)(112,"p"),e._uU(113),e.ALo(114,"async"),e.qZA()()(),e.TgZ(115,"ion-item",6)(116,"ion-col",8)(117,"p"),e._uU(118),e.ALo(119,"async"),e.qZA()()()()()()),2&n){let s,c,l,b,v,T,y,U,q,M,C,L,O,N,Y,H;e.xp6(16),e.Q6J("checked","Yes"==(null==(s=e.lcZ(17,16,t.hs$))?null:s.hyperbilirubinemia)),e.xp6(7),e.Q6J("checked","Yes"==(null==(c=e.lcZ(24,18,t.hs$))?null:c.nicu)),e.xp6(7),e.Q6J("checked","Yes"==(null==(l=e.lcZ(31,20,t.hs$))?null:l.familyHistoryHearingLoss)),e.xp6(7),e.Q6J("checked","Yes"==(null==(b=e.lcZ(38,22,t.hs$))?null:b.featuresAssociated)),e.xp6(7),e.Q6J("checked","Yes"==(null==(v=e.lcZ(45,24,t.hs$))?null:v.ventilation)),e.xp6(7),e.Q6J("checked","Yes"==(null==(T=e.lcZ(52,26,t.hs$))?null:T.ototoxicMedication)),e.xp6(7),e.Q6J("checked","Yes"==(null==(y=e.lcZ(59,28,t.hs$))?null:y.craniofacialAnomalies)),e.xp6(7),e.Q6J("checked","Yes"==(null==(U=e.lcZ(66,30,t.hs$))?null:U.inUteroInfections)),e.xp6(11),e.hij(" ",null==(q=e.lcZ(77,32,t.hs$))?null:q.dateOfScreening,""),e.xp6(6),e.hij(" ",null==(M=e.lcZ(83,34,t.hs$))?null:M.timeOfScreening,""),e.xp6(7),e.Oqu(null==(C=e.lcZ(90,36,t.hs$))?null:C.typeOfScreening),e.xp6(6),e.Oqu(null==(L=e.lcZ(96,38,t.hs$))?null:L.methodOfScreening),e.xp6(7),e.Oqu(null==(O=e.lcZ(103,40,t.hs$))?null:O.resultRight),e.xp6(6),e.Oqu(null==(N=e.lcZ(109,42,t.hs$))?null:N.resultLeft),e.xp6(5),e.hij("Screener Name: ",null==(Y=e.lcZ(114,44,t.hs$))?null:Y.screenerName,""),e.xp6(5),e.hij("NHSRC Seal Control Number: ",null==(H=e.lcZ(119,46,t.hs$))?null:H.nhsrcSealControlNumber,"")}},dependencies:[i.Sm,i.PM,i.nz,i.wI,i.W2,i.Gu,i.Ie,i.q_,i.wd,i.sr,i.w,i.oU,h.Ov]}),a})();var d=g(95),$=g(9862);const I=[{path:"",component:x},{path:"list",component:S},{path:"list/:id",component:S},{path:"results/:id",component:A},{path:"results",component:A},{path:"add",component:(()=>{var o;class a{constructor(n,t,s,c){this.formBuilder=n,this.http=t,this.pouchService=s,this.router=c,this.baseUrl="http://18.140.63.176:80/api/hearing-screening/userdata"}ngOnInit(){this.regForm=this.formBuilder.group({patientNumber:[null]})}getUserData(){this.handleInput(this.regForm.value.patientNumber).subscribe(t=>{const s=t.hearingScreening.results.map(l=>({id:l.modelId,dateOfScreening:l.dataModel.dateOfScreening,timeOfScreening:l.dataModel.timeOfScreening,typeOfScreening:l.dataModel.typeOfScreening,methodOfScreening:l.dataModel.methodOfScreening,resultLeft:l.dataModel.resultLeft,resultRight:l.dataModel.resultRight,screenerName:l.dataModel.screenerName,nhsrcSealControlNumber:l.dataModel.nhsrcSealControlNumber,hyperbilirubinemia:l.dataModel.hyperbilirubinemia,nicu:l.dataModel.nicu,familyHistoryHearingLoss:l.dataModel.familyHistoryHearingLoss,featuresAssociated:l.dataModel.featuresAssociated,ventilation:l.dataModel.ventilation,ototoxicMedication:l.dataModel.ototoxicMedication,craniofacialAnomalies:l.dataModel.craniofacialAnomalies,inUteroInfections:l.dataModel.inUteroInfections}));this.pouchService.hsDb.post({patient:t.patient.dataModel,hearingScreening:s}).then(()=>{this.pouchService.hsDb.replicate.to(this.pouchService.customRemote("hearingscreening","per-user"),{retry:!0})}),this.router.navigate(["/admin/patient/details/hearing-screening"])},t=>{console.error("Error:",t)})}handleInput(n){return this.http.get(`${this.baseUrl}/${n}`)}}return(o=a).\u0275fac=function(n){return new(n||o)(e.Y36(d.qu),e.Y36($.eN),e.Y36(m.M),e.Y36(u.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form",5,"y"]],decls:15,vars:1,consts:[["slot","start"],[3,"formGroup","ngSubmit"],["label","Patient Number","formControlName","patientNumber","labelPlacement","stacked","placeholder","Patient Number"],[1,"d-flex","ion-justify-content-center"],["type","submit"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Track Child"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"form",1),e.NdJ("ngSubmit",function(){return t.getUserData()}),e.TgZ(8,"ion-card")(9,"ion-list")(10,"ion-item"),e._UZ(11,"ion-input",2),e.qZA()()(),e.TgZ(12,"ion-row",3)(13,"ion-button",4),e._uU(14,"Track"),e.qZA()()()()),2&n&&(e.xp6(7),e.Q6J("formGroup",t.regForm))},dependencies:[i.YG,i.Sm,i.PM,i.W2,i.Gu,i.pK,i.Ie,i.q_,i.Nd,i.wd,i.sr,i.j9,i.oU,d._Y,d.JJ,d.JL,d.sg,d.u]}),a})()}];let R=(()=>{var o;class a{}return(o=a).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.Bz.forChild(I),u.Bz]}),a})(),j=(()=>{var o;class a{}return(o=a).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.ez,R,i.Pc,d.UX,d.u5]}),a})()}}]);