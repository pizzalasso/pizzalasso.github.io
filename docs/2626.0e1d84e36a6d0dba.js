"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2626],{2626:(Rt,S,_)=>{_.r(S),_.d(S,{MaternalNutritionModule:()=>$t});var u=_(6814),d=_(3699),m=_(5861),h=_(5619),t=_(6689),Z=_(3970),i=_(9810);function x(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ion-button",6),t.NdJ("click",function(){t.CHM(a);const n=t.oxw();return t.KtG(n.navigate())}),t._uU(1,"Add"),t.qZA()}}function Y(o,r){1&o&&(t.TgZ(0,"p",7),t._uU(1,"No scheduled day added yet"),t.qZA())}function J(o,r){if(1&o&&(t.TgZ(0,"a",8)(1,"ion-card")(2,"ion-card-content")(3,"ion-row"),t._UZ(4,"ion-col",9),t.TgZ(5,"ion-col",10),t._uU(6),t.ALo(7,"date"),t.qZA(),t._UZ(8,"ion-col",11),t.qZA()()()()),2&o){const a=r.$implicit;t.MGl("routerLink","/admin/patient/details/maternal-nutrition/log/",a.id,""),t.xp6(6),t.hij(" ",t.xi3(7,2,a.startDate,"longDate")," ")}}let M=(()=>{var o;class r{constructor(e,n){this.router=e,this.pouchService=n,this.access=localStorage.getItem("access"),this.noScheds=!0,this.schedsSubject=new h.X([]),this.scheds$=this.schedsSubject.asObservable()}ionViewWillEnter(){this.getScheds()}ngOnInit(){}getScheds(){var e=this;return(0,m.Z)(function*(){try{e.pouchService.motherDb||e.pouchService.reiniMotherPouch();const n=yield e.pouchService.schedDb.find({selector:{maternalNutritionId:localStorage.getItem("selected_mn")}});e.noScheds=!(n.docs.length>0);const l=n.docs.map(c=>({id:c._id,maternalNutritionId:c.maternalNutritionId,startDate:c.startDate}));l.sort((c,p)=>c.startDate<p.startDate?-1:c.startDate>p.startDate?1:0).reverse(),e.schedsSubject.next(l)}catch(n){console.log(n)}})()}navigate(){this.router.navigate(["/admin/patient/details/maternal-nutrition/add"])}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.F0),t.Y36(Z.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-maternal-nutrition"]],decls:14,vars:5,consts:[["slot","start"],["slot","end"],[3,"click",4,"ngIf"],[1,"ion-text-center"],["class","ion-text-center ion-padding-top",4,"ngIf"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink",4,"ngFor","ngForOf"],[3,"click"],[1,"ion-text-center","ion-padding-top"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","2",1,"ion-text-start","ion-no-padding"],["size","8",1,"d-flex","ion-align-items-center","ion-justify-content-center","ion-no-padding"],["size","2",1,"d-flex","ion-align-items-center"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Maternal Nutrition"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA(),t.TgZ(6,"ion-buttons",1),t.YNc(7,x,2,0,"ion-button",2),t.qZA()()(),t.TgZ(8,"ion-content")(9,"h4",3),t._uU(10,"My Schedule"),t.qZA(),t.YNc(11,Y,2,0,"p",4),t.YNc(12,J,9,5,"a",5),t.ALo(13,"async"),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngIf","approved"==n.access),t.xp6(4),t.Q6J("ngIf",n.noScheds),t.xp6(1),t.Q6J("ngForOf",t.lcZ(13,3,n.scheds$)))},dependencies:[u.sg,u.O5,d.rH,d.Od,i.YG,i.Sm,i.PM,i.FN,i.wI,i.W2,i.Gu,i.Nd,i.wd,i.sr,i.oU,i.Fo,u.Ov,u.uU]}),r})();function P(o,r){1&o&&(t.TgZ(0,"ion-badge",8),t._uU(1,"Met"),t.qZA())}function D(o,r){1&o&&(t.TgZ(0,"ion-badge",9),t._uU(1,"Not Met"),t.qZA())}function Q(o,r){1&o&&(t.TgZ(0,"ion-badge",8),t._uU(1,"Met"),t.qZA())}function O(o,r){1&o&&(t.TgZ(0,"ion-badge",9),t._uU(1,"Not Met"),t.qZA())}let G=(()=>{var o;class r{constructor(e,n,l){this.router=e,this.route=n,this.pouchService=l,this.alertButtons=["Delete"],this.schedSubject=new h.X(""),this.sched$=this.schedSubject.asObservable(),this.vitASubj=new h.X(!1),this.vitA$=this.vitASubj.asObservable(),this.ironSubj=new h.X(!1),this.iron$=this.ironSubj.asObservable()}ngOnInit(){}ionViewWillEnter(){var e=this;return(0,m.Z)(function*(){yield e.getSched(),yield e.getConsumption()})()}navigate(e){this.router.navigate(["/admin/patient/details/maternal-nutrition/"+e])}mealNav(e){this.router.navigate(["/admin/patient/details/maternal-nutrition/meal/"+e])}getSched(){var e=this;return(0,m.Z)(function*(){e.pouchService.motherDb||e.pouchService.reiniMotherPouch();const n=String(e.route.snapshot.paramMap.get("id"));localStorage.setItem("selected_sched",n);const{startDate:l}=yield e.pouchService.schedDb.get(n);e.schedSubject.next(l)})()}getConsumption(){var e=this;return(0,m.Z)(function*(){console.log(e.route.snapshot.paramMap.get("type")),e.pouchService.motherDb||e.pouchService.reiniMotherPouch();try{const{docs:n}=yield e.pouchService.consumptionDb.find({selector:{scheduleId:String(e.route.snapshot.paramMap.get("id")),validated:!0}}),l=n.reduce((p,g)=>p+g.retinolAmt,0);e.vitASubj.next(Math.min(l/433*100,100)>=100);const c=n.reduce((p,g)=>p+g.ironAmt,0);e.ironSubj.next(Math.min(c/433*100,100)>=100)}catch(n){console.log(n)}})()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.F0),t.Y36(d.gz),t.Y36(Z.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-log"]],decls:55,vars:18,consts:[["slot","start"],[1,""],["size","12"],["slot","end","color","success",4,"ngIf"],["slot","end","color","warning",4,"ngIf"],[3,"click"],["size","2",1,"ion-no-padding"],["size","8",1,"d-flex","ion-align-items-center","ion-justify-content-center","ion-no-padding"],["slot","end","color","success"],["slot","end","color","warning"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.ALo(4,"date"),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"ion-buttons",0),t._UZ(7,"ion-back-button"),t.qZA()()(),t.TgZ(8,"ion-content",1)(9,"ion-row")(10,"ion-col",2)(11,"ion-item")(12,"ion-label"),t._uU(13,"Percent Adequacy for Vit A"),t.qZA(),t.YNc(14,P,2,0,"ion-badge",3),t.ALo(15,"async"),t.YNc(16,D,2,0,"ion-badge",4),t.ALo(17,"async"),t.qZA(),t.TgZ(18,"ion-item")(19,"ion-label"),t._uU(20,"Percent Adequacy for Iron"),t.qZA(),t.YNc(21,Q,2,0,"ion-badge",3),t.ALo(22,"async"),t.YNc(23,O,2,0,"ion-badge",4),t.ALo(24,"async"),t.qZA()()(),t.TgZ(25,"ion-card",5),t.NdJ("click",function(){return n.mealNav("breakfast")}),t.TgZ(26,"ion-card-content")(27,"ion-row"),t._UZ(28,"ion-col",6),t.TgZ(29,"ion-col",7),t._uU(30," Breakfast "),t.qZA(),t._UZ(31,"ion-col",6),t.qZA()()(),t.TgZ(32,"ion-card",5),t.NdJ("click",function(){return n.navigate("snack/am")}),t.TgZ(33,"ion-card-content"),t._uU(34," AM Snack "),t.qZA()(),t.TgZ(35,"ion-card",5),t.NdJ("click",function(){return n.mealNav("lunch")}),t.TgZ(36,"ion-card-content")(37,"ion-row"),t._UZ(38,"ion-col",6),t.TgZ(39,"ion-col",7),t._uU(40," Lunch "),t.qZA(),t._UZ(41,"ion-col",6),t.qZA()()(),t.TgZ(42,"ion-card",5),t.NdJ("click",function(){return n.navigate("snack/pm")}),t.TgZ(43,"ion-card-content"),t._uU(44," PM Snack "),t.qZA()(),t.TgZ(45,"ion-card",5),t.NdJ("click",function(){return n.mealNav("dinner")}),t.TgZ(46,"ion-card-content")(47,"ion-row"),t._UZ(48,"ion-col",6),t.TgZ(49,"ion-col",7),t._uU(50," Dinner "),t.qZA(),t._UZ(51,"ion-col",6),t.qZA()()(),t.TgZ(52,"ion-card",5),t.NdJ("click",function(){return n.navigate("snack/mn")}),t.TgZ(53,"ion-card-content"),t._uU(54," Midnight Snack "),t.qZA()()()),2&e&&(t.xp6(3),t.Oqu(t.xi3(4,5,t.lcZ(5,8,n.sched$),"longDate")),t.xp6(11),t.Q6J("ngIf",t.lcZ(15,10,n.vitA$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(17,12,n.vitA$)),t.xp6(5),t.Q6J("ngIf",t.lcZ(22,14,n.iron$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(24,16,n.iron$)))},dependencies:[u.O5,i.yp,i.Sm,i.PM,i.FN,i.wI,i.W2,i.Gu,i.Ie,i.Q$,i.Nd,i.wd,i.sr,i.oU,u.Ov,u.uU],styles:[".percent-bar-container[_ngcontent-%COMP%]{width:100%;height:20px;background-color:#ddd}.percent-bar[_ngcontent-%COMP%]{height:100%;background-color:#4caf50}"]}),r})();var f=_(6188);function V(o,r){1&o&&(t.TgZ(0,"ion-card",5)(1,"ion-card-content")(2,"p",6),t._uU(3,"No vitamins indicated"),t.qZA()()())}function L(o,r){if(1&o&&(t.TgZ(0,"div")(1,"a",7)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",8),t._uU(6),t.qZA()()()()()()),2&o){const a=r.$implicit;t.xp6(1),t.MGl("routerLink","/admin/patient/details/maternal-nutrition/vitamins-minerals/edit/",a.id,""),t.xp6(5),t.Oqu(a.name)}}let W=(()=>{var o;class r{constructor(e,n){this.router=e,this.mNService=n,this.vitamins=[],this.noVits=!0}ngOnInit(){}ionViewWillEnter(){this.getVitamins()}getVitamins(){this.vitamins=[],this.mNService.getAllByRefId("vitamins","scheduleId",this.mNService.currentSched.id).then(e=>{console.log(this.mNService.currentSched),console.log(e),e.forEach(n=>{this.vitamins.push(n)}),0!=e.length&&(this.noVits=!1)})}getAllVitamins(){this.mNService.getAll("vitamins").then(e=>{console.log(e)})}getAllVitamins2(){console.log(this.vitamins)}navigate(e){console.log(e),this.router.navigate([e])}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.F0),t.Y36(f.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-vitamins"]],decls:12,vars:2,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Vitamins"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA(),t.TgZ(6,"ion-buttons",1)(7,"ion-button",2),t.NdJ("click",function(){return n.navigate("/admin/patient/details/maternal-nutrition/vitamins-minerals/add")}),t._uU(8,"Add"),t.qZA()()()(),t.TgZ(9,"ion-content"),t.YNc(10,V,4,0,"ion-card",3),t.YNc(11,L,7,2,"div",4),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngIf",n.noVits),t.xp6(1),t.Q6J("ngForOf",n.vitamins))},dependencies:[u.sg,u.O5,d.rH,d.Od,i.YG,i.Sm,i.PM,i.FN,i.wI,i.W2,i.Gu,i.Nd,i.wd,i.sr,i.oU,i.Fo]}),r})();var v=_(4004),s=_(95);function j(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Add Vitamin"),t.qZA())}function z(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Edit Vitamin"),t.qZA())}function B(o,r){if(1&o&&(t.TgZ(0,"ion-buttons",9)(1,"ion-button",10),t._uU(2,"Delete"),t.qZA(),t._UZ(3,"ion-alert",11),t.qZA()),2&o){const a=t.oxw();t.xp6(3),t.Q6J("buttons",a.alertButtons)}}let I=(()=>{var o;class r{constructor(e,n,l,c,p){this.route=e,this.formBuilder=n,this.mNService=l,this.toastController=c,this.router=p,this.alertButtons=["Delete"]}ngOnInit(){this.vitForm=this.formBuilder.group({id:[""],scheduleId:[""],name:[""],iron:[""],vitaminA:[""]}),this.getVitamin()}onSubmit(){const e=this.vitForm.value;this.mNService.addUpdateElement("vitamins",{id:e.id,scheduleId:e.scheduleId,name:e.name,iron:e.iron,vitaminA:e.vitaminA}).then(()=>{this.presentToast("null"==this.vitId?"Vitamin added":"Vitamin updated"),this.router.navigate(["/admin/patient/details/maternal-nutrition/vitamins-minerals"])})}getVitamin(){this.vitId=String(this.route.snapshot.paramMap.get("id")),console.log(this.vitId),"null"==this.vitId?(console.log("walang id"),this.vitForm.setValue({id:(0,v.Z)(),scheduleId:this.mNService.currentSched.id,name:"",iron:"",vitaminA:""})):this.mNService.getById("vitamins",this.vitId).then(e=>{this.vitForm.setValue({id:e.id,scheduleId:e.scheduleId,name:e.name,iron:e.iron,vitaminA:e.vitaminA})})}presentToast(e){var n=this;return(0,m.Z)(function*(){yield(yield n.toastController.create({message:e,duration:1500,position:"top"})).present()})()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.gz),t.Y36(s.qu),t.Y36(f.R),t.Y36(i.yF),t.Y36(d.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form",5,"e"]],decls:20,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","value",""],["label","Iron","formControlName","iron","id","iron","labelPlacement","stacked","value",""],["label","Vitamin A","formControlName","vitaminA","id","vitaminA","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Vitamin","message","Are you sure you want to delete vitamin?",3,"buttons"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar"),t.YNc(2,j,2,0,"ion-title",0),t.YNc(3,z,2,0,"ion-title",0),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button"),t.qZA(),t.YNc(6,B,4,1,"ion-buttons",2),t.qZA()(),t.TgZ(7,"ion-content")(8,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item"),t._UZ(12,"ion-input",4),t.qZA(),t.TgZ(13,"ion-item"),t._UZ(14,"ion-input",5),t.qZA(),t.TgZ(15,"ion-item"),t._UZ(16,"ion-input",6),t.qZA()()(),t.TgZ(17,"ion-row",7)(18,"ion-button",8),t._uU(19,"Save"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf","null"==n.vitId),t.xp6(1),t.Q6J("ngIf","null"!=n.vitId),t.xp6(3),t.Q6J("ngIf","null"!=n.vitId),t.xp6(2),t.Q6J("formGroup",n.vitForm))},dependencies:[u.O5,i.Ge,i.YG,i.Sm,i.PM,i.W2,i.Gu,i.pK,i.Ie,i.q_,i.Nd,i.wd,i.sr,i.j9,i.oU,s._Y,s.JJ,s.JL,s.sg,s.u]}),r})();function E(o,r){1&o&&(t.TgZ(0,"ion-card",5)(1,"ion-card-content")(2,"p",6),t._uU(3,"No snacks indicated"),t.qZA()()())}function $(o,r){if(1&o&&(t.TgZ(0,"div")(1,"a",7)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",8),t._uU(6),t.qZA()()()()()()),2&o){const a=r.$implicit;t.xp6(1),t.MGl("routerLink","/admin/patient/details/maternal-nutrition/food/edit/",a.id,""),t.xp6(5),t.Oqu(a.name)}}let F=(()=>{var o;class r{constructor(e,n,l){this.router=e,this.route=n,this.pouchService=l,this.foodsSubject=new h.X([]),this.foods$=this.foodsSubject.asObservable(),this.noSnacks=!0}ngOnInit(){}ionViewWillEnter(){this.getFoods()}navigate(e){localStorage.setItem("selected_food_type",String(this.route.snapshot.paramMap.get("type"))),this.router.navigate([e])}getFoods(){var e=this;return(0,m.Z)(function*(){try{let n=yield e.pouchService.consumptionDb.find({selector:{scheduleId:localStorage.getItem("selected_sched"),type:e.route.snapshot.paramMap.get("type")}});e.noSnacks=!(n.docs.length>0);const l=n.docs.map(c=>({id:c._id,name:c.name}));e.foodsSubject.next(l)}catch(n){console.log(n)}})()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.F0),t.Y36(d.gz),t.Y36(Z.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-snacks"]],decls:13,vars:4,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Snacks"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA(),t.TgZ(6,"ion-buttons",1)(7,"ion-button",2),t.NdJ("click",function(){return n.navigate("/admin/patient/details/maternal-nutrition/food/add")}),t._uU(8,"Add Food"),t.qZA()()()(),t.TgZ(9,"ion-content"),t.YNc(10,E,4,0,"ion-card",3),t.YNc(11,$,7,2,"div",4),t.ALo(12,"async"),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngIf",n.noSnacks),t.xp6(1),t.Q6J("ngForOf",t.lcZ(12,2,n.foods$)))},dependencies:[u.sg,u.O5,d.rH,d.Od,i.YG,i.Sm,i.PM,i.FN,i.wI,i.W2,i.Gu,i.Nd,i.wd,i.sr,i.oU,i.Fo,u.Ov]}),r})();function X(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Add Snack"),t.qZA())}function R(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Edit Snack"),t.qZA())}function H(o,r){if(1&o&&(t.TgZ(0,"ion-buttons",9)(1,"ion-button",10),t._uU(2,"Delete"),t.qZA(),t._UZ(3,"ion-alert",11),t.qZA()),2&o){const a=t.oxw();t.xp6(3),t.Q6J("buttons",a.alertButtons)}}let y=(()=>{var o;class r{constructor(e,n,l,c,p){this.route=e,this.formBuilder=n,this.mNService=l,this.toastController=c,this.router=p,this.alertButtons=["Delete"]}ngOnInit(){this.snackForm=this.formBuilder.group({id:[""],scheduleId:[""],name:[""],iron:[""],vitaminA:[""]}),this.getSnack()}onSubmit(){const e=this.snackForm.value;this.mNService.addUpdateElement("snacks",{id:e.id,scheduleId:e.scheduleId,name:e.name,iron:e.iron,vitaminA:e.vitaminA}).then(()=>{this.presentToast("null"==this.snackId?"Snack added":"Snack updated"),this.router.navigate(["/admin/patient/details/maternal-nutrition/snacks"])})}getSnack(){this.snackId=String(this.route.snapshot.paramMap.get("id")),console.log(this.snackId),"null"==this.snackId?(console.log("walang id"),this.snackForm.setValue({id:(0,v.Z)(),scheduleId:this.mNService.currentSched.id,name:"",iron:"",vitaminA:""})):this.mNService.getById("snacks",this.snackId).then(e=>{this.snackForm.setValue({id:e.id,scheduleId:e.scheduleId,name:e.name,iron:e.iron,vitaminA:e.vitaminA})})}presentToast(e){var n=this;return(0,m.Z)(function*(){yield(yield n.toastController.create({message:e,duration:1500,position:"top"})).present()})()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.gz),t.Y36(s.qu),t.Y36(f.R),t.Y36(i.yF),t.Y36(d.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form",5,"d"]],decls:20,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","value",""],["label","Iron","formControlName","iron","id","iron","labelPlacement","stacked","value",""],["label","Vitamin A","formControlName","vitaminA","id","vitaminA","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Snack","message","Are you sure you want to delete snack?",3,"buttons"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar"),t.YNc(2,X,2,0,"ion-title",0),t.YNc(3,R,2,0,"ion-title",0),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button"),t.qZA(),t.YNc(6,H,4,1,"ion-buttons",2),t.qZA()(),t.TgZ(7,"ion-content")(8,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item"),t._UZ(12,"ion-input",4),t.qZA(),t.TgZ(13,"ion-item"),t._UZ(14,"ion-input",5),t.qZA(),t.TgZ(15,"ion-item"),t._UZ(16,"ion-input",6),t.qZA()()(),t.TgZ(17,"ion-row",7)(18,"ion-button",8),t._uU(19,"Save"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf","null"==n.snackId),t.xp6(1),t.Q6J("ngIf","null"!=n.snackId),t.xp6(3),t.Q6J("ngIf","null"!=n.snackId),t.xp6(2),t.Q6J("formGroup",n.snackForm))},dependencies:[u.O5,i.Ge,i.YG,i.Sm,i.PM,i.W2,i.Gu,i.pK,i.Ie,i.q_,i.Nd,i.wd,i.sr,i.j9,i.oU,s._Y,s.JJ,s.JL,s.sg,s.u]}),r})();function K(o,r){1&o&&(t.TgZ(0,"ion-card",5)(1,"ion-card-content")(2,"p",6),t._uU(3,"No milk indicated"),t.qZA()()())}function tt(o,r){if(1&o&&(t.TgZ(0,"div")(1,"a",7)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",8),t._uU(6),t.qZA()()()()()()),2&o){const a=r.$implicit;t.xp6(1),t.MGl("routerLink","/admin/patient/details/maternal-nutrition/milk/edit/",a.id,""),t.xp6(5),t.Oqu(a.name)}}let et=(()=>{var o;class r{constructor(e,n){this.router=e,this.mNService=n,this.milk=[],this.noMilk=!0}ngOnInit(){}ionViewWillEnter(){this.getMilk()}navigate(e){console.log(e),this.router.navigate([e])}getMilk(){this.milk=[],this.mNService.getAllByRefId("milk","scheduleId",this.mNService.currentSched.id).then(e=>{console.log(this.mNService.currentSched),console.log(e),e.forEach(n=>{this.milk.push(n)}),0!=e.length&&(this.noMilk=!1)})}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.F0),t.Y36(f.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-milk",5,"a"]],decls:12,vars:2,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Milk"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA(),t.TgZ(6,"ion-buttons",1)(7,"ion-button",2),t.NdJ("click",function(){return n.navigate("/admin/patient/details/maternal-nutrition/milk/add")}),t._uU(8,"Add"),t.qZA()()()(),t.TgZ(9,"ion-content"),t.YNc(10,K,4,0,"ion-card",3),t.YNc(11,tt,7,2,"div",4),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngIf",n.noMilk),t.xp6(1),t.Q6J("ngForOf",n.milk))},dependencies:[u.sg,u.O5,d.rH,d.Od,i.YG,i.Sm,i.PM,i.FN,i.wI,i.W2,i.Gu,i.Nd,i.wd,i.sr,i.oU,i.Fo]}),r})();function nt(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Add Milk"),t.qZA())}function ot(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Edit Milk"),t.qZA())}function it(o,r){if(1&o&&(t.TgZ(0,"ion-buttons",9)(1,"ion-button",10),t._uU(2,"Delete"),t.qZA(),t._UZ(3,"ion-alert",11),t.qZA()),2&o){const a=t.oxw();t.xp6(3),t.Q6J("buttons",a.alertButtons)}}let C=(()=>{var o;class r{constructor(e,n,l,c,p){this.route=e,this.formBuilder=n,this.mNService=l,this.toastController=c,this.router=p,this.alertButtons=["Delete"]}ngOnInit(){this.milkForm=this.formBuilder.group({id:[""],scheduleId:[""],name:[""],iron:[""],vitaminA:[""]}),this.getMilk()}onSubmit(){const e=this.milkForm.value;this.mNService.addUpdateElement("milk",{id:e.id,scheduleId:e.scheduleId,name:e.name,iron:e.iron,vitaminA:e.vitaminA}).then(()=>{this.presentToast("Milk added updated"),this.router.navigate(["/admin/patient/details/maternal-nutrition/milk"])})}getMilk(){const e=String(this.route.snapshot.paramMap.get("id"));console.log(e),"null"==e?(console.log("walang id"),this.milkForm.setValue({id:(0,v.Z)(),scheduleId:this.mNService.currentSched.id,name:"",iron:"",vitaminA:""})):this.mNService.getById("milk",e).then(n=>{this.milkForm.setValue({id:n.id,scheduleId:n.scheduleId,name:n.name,iron:n.iron,vitaminA:n.vitaminA})})}presentToast(e){var n=this;return(0,m.Z)(function*(){yield(yield n.toastController.create({message:e,duration:1500,position:"top"})).present()})()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.gz),t.Y36(s.qu),t.Y36(f.R),t.Y36(i.yF),t.Y36(d.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form",5,"c"]],decls:20,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","value",""],["label","Iron","formControlName","iron","id","iron","labelPlacement","stacked","value",""],["label","Vitamin A","formControlName","vitaminA","id","vitaminA","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Milk Log","message","Are you sure you want to delete milk log?",3,"buttons"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar"),t.YNc(2,nt,2,0,"ion-title",0),t.YNc(3,ot,2,0,"ion-title",0),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button"),t.qZA(),t.YNc(6,it,4,1,"ion-buttons",2),t.qZA()(),t.TgZ(7,"ion-content")(8,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item"),t._UZ(12,"ion-input",4),t.qZA(),t.TgZ(13,"ion-item"),t._UZ(14,"ion-input",5),t.qZA(),t.TgZ(15,"ion-item"),t._UZ(16,"ion-input",6),t.qZA()()(),t.TgZ(17,"ion-row",7)(18,"ion-button",8),t._uU(19,"Save"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf","null"==n.milkId),t.xp6(1),t.Q6J("ngIf","null"!=n.milkId),t.xp6(3),t.Q6J("ngIf","null"!=n.milkId),t.xp6(2),t.Q6J("formGroup",n.milkForm))},dependencies:[u.O5,i.Ge,i.YG,i.Sm,i.PM,i.W2,i.Gu,i.pK,i.Ie,i.q_,i.Nd,i.wd,i.sr,i.j9,i.oU,s._Y,s.JJ,s.JL,s.sg,s.u]}),r})();function at(o,r){1&o&&(t.TgZ(0,"ion-card",5)(1,"ion-card-content")(2,"p",6),t._uU(3,"No fluid indicated"),t.qZA()()())}function rt(o,r){if(1&o&&(t.TgZ(0,"div")(1,"a",7)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",8),t._uU(6),t.qZA()()()()()()),2&o){const a=r.$implicit;t.xp6(1),t.MGl("routerLink","/admin/patient/details/maternal-nutrition/fluid/edit/",a.id,""),t.xp6(5),t.Oqu(a.name)}}let lt=(()=>{var o;class r{constructor(e,n){this.router=e,this.mNService=n,this.fluid=[],this.noFluid=!0}ngOnInit(){}ionViewWillEnter(){this.getFluid()}navigate(e){console.log(e),this.router.navigate([e])}getFluid(){this.fluid=[],this.mNService.getAllByRefId("fluid","scheduleId",this.mNService.currentSched.id).then(e=>{console.log(this.mNService.currentSched),console.log(e),e.forEach(n=>{this.fluid.push(n)}),0!=e.length&&(this.noFluid=!1)})}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.F0),t.Y36(f.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-fluid",5,"a"]],decls:12,vars:2,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Fluid"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA(),t.TgZ(6,"ion-buttons",1)(7,"ion-button",2),t.NdJ("click",function(){return n.navigate("/admin/patient/details/maternal-nutrition/fluid/add")}),t._uU(8,"Add"),t.qZA()()()(),t.TgZ(9,"ion-content"),t.YNc(10,at,4,0,"ion-card",3),t.YNc(11,rt,7,2,"div",4),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngIf",n.noFluid),t.xp6(1),t.Q6J("ngForOf",n.fluid))},dependencies:[u.sg,u.O5,d.rH,d.Od,i.YG,i.Sm,i.PM,i.FN,i.wI,i.W2,i.Gu,i.Nd,i.wd,i.sr,i.oU,i.Fo]}),r})();function st(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Add Fluid"),t.qZA())}function ct(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Edit Fluid"),t.qZA())}function dt(o,r){if(1&o&&(t.TgZ(0,"ion-buttons",9)(1,"ion-button",10),t._uU(2,"Delete"),t.qZA(),t._UZ(3,"ion-alert",11),t.qZA()),2&o){const a=t.oxw();t.xp6(3),t.Q6J("buttons",a.alertButtons)}}let N=(()=>{var o;class r{constructor(e,n,l,c,p){this.route=e,this.formBuilder=n,this.mNService=l,this.toastController=c,this.router=p,this.alertButtons=["Delete"]}ngOnInit(){this.fluidForm=this.formBuilder.group({id:[""],scheduleId:[""],name:[""],iron:[""],vitaminA:[""]}),this.getFluid()}onSubmit(){const e=this.fluidForm.value;this.mNService.addUpdateElement("fluid",{id:e.id,scheduleId:e.scheduleId,name:e.name,iron:e.iron,vitaminA:e.vitaminA}).then(()=>{this.presentToast("null"==this.fluidId?"Fluid added":"Fluid updated"),this.router.navigate(["/admin/patient/details/maternal-nutrition/fluid"])})}getFluid(){this.fluidId=String(this.route.snapshot.paramMap.get("id")),console.log(this.fluidId),"null"==this.fluidId?(console.log("walang id"),this.fluidForm.setValue({id:(0,v.Z)(),scheduleId:this.mNService.currentSched.id,name:"",iron:"",vitaminA:""})):this.mNService.getById("fluid",this.fluidId).then(e=>{this.fluidForm.setValue({id:e.id,scheduleId:e.scheduleId,name:e.name,iron:e.iron,vitaminA:e.vitaminA})})}presentToast(e){var n=this;return(0,m.Z)(function*(){yield(yield n.toastController.create({message:e,duration:1500,position:"top"})).present()})()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.gz),t.Y36(s.qu),t.Y36(f.R),t.Y36(i.yF),t.Y36(d.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form",5,"a"]],decls:20,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","value",""],["label","Iron","formControlName","iron","id","iron","labelPlacement","stacked","value",""],["label","Vitamin A","formControlName","vitaminA","id","vitaminA","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Fluid","message","Are you sure you want to delete fluid?",3,"buttons"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar"),t.YNc(2,st,2,0,"ion-title",0),t.YNc(3,ct,2,0,"ion-title",0),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button"),t.qZA(),t.YNc(6,dt,4,1,"ion-buttons",2),t.qZA()(),t.TgZ(7,"ion-content")(8,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item"),t._UZ(12,"ion-input",4),t.qZA(),t.TgZ(13,"ion-item"),t._UZ(14,"ion-input",5),t.qZA(),t.TgZ(15,"ion-item"),t._UZ(16,"ion-input",6),t.qZA()()(),t.TgZ(17,"ion-row",7)(18,"ion-button",8),t._uU(19,"Save"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf","null"==n.fluidId),t.xp6(1),t.Q6J("ngIf","null"!=n.fluidId),t.xp6(3),t.Q6J("ngIf","null"!=n.fluidId),t.xp6(2),t.Q6J("formGroup",n.fluidForm))},dependencies:[u.O5,i.Ge,i.YG,i.Sm,i.PM,i.W2,i.Gu,i.pK,i.Ie,i.q_,i.Nd,i.wd,i.sr,i.j9,i.oU,s._Y,s.JJ,s.JL,s.sg,s.u]}),r})();function ut(o,r){1&o&&(t.TgZ(0,"ion-card",6)(1,"ion-card-content")(2,"p",7),t._uU(3,"No water intake recorded"),t.qZA()()())}function mt(o,r){if(1&o&&(t.TgZ(0,"ion-card")(1,"ion-card-content")(2,"b"),t._uU(3,"Total Intake"),t.qZA(),t._UZ(4,"br"),t._uU(5),t._UZ(6,"br")(7,"ion-progress-bar",8),t.qZA()()),2&o){const a=t.oxw();t.xp6(5),t.hij(" ",a.totalWater,"/8 glasses "),t.xp6(2),t.Q6J("value",a.totalWater/8)}}function pt(o,r){if(1&o&&(t.TgZ(0,"div")(1,"a",9)(2,"ion-card")(3,"ion-card-content")(4,"ion-row"),t._UZ(5,"ion-col",10),t.TgZ(6,"ion-col",11),t._uU(7),t.qZA(),t.TgZ(8,"ion-col",12),t._UZ(9,"ion-icon",13),t.qZA()()()()()()),2&o){const a=r.$implicit;t.xp6(1),t.MGl("routerLink","admin/patient/details/maternal-nutrition/water/edit/",a.id,""),t.xp6(6),t.hij("",a.amount," glasses")}}let _t=(()=>{var o;class r{constructor(e,n,l,c){this.router=e,this.route=n,this.formBuilder=l,this.mNService=c,this.water=[],this.totalWater=0,this.noWater=!0}ngOnInit(){}ionViewWillEnter(){this.getWater()}navigate(e){console.log(e),this.router.navigate([e])}getWater(){this.water=[],this.totalWater=0,this.mNService.getAllByRefId("water","scheduleId",this.mNService.currentSched.id).then(e=>{console.log(this.mNService.currentSched),console.log(e),e.forEach(n=>{this.water.push(n),this.totalWater+=Number(n.amount)}),0!=e.length&&(this.noWater=!1)})}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.F0),t.Y36(d.gz),t.Y36(s.qu),t.Y36(f.R))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-water"]],decls:13,vars:3,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],[3,"value"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","2"],["size","8",1,"d-flex","ion-align-items-center","ion-justify-content-center"],["size","2",1,"d-flex","ion-align-items-center","ion-justify-content-center"],["name","trash-outline","size","large","color","delete"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Water"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA(),t.TgZ(6,"ion-buttons",1)(7,"ion-button",2),t.NdJ("click",function(){return n.navigate("/admin/patient/details/maternal-nutrition/water/add")}),t._uU(8,"Add"),t.qZA()()()(),t.TgZ(9,"ion-content"),t.YNc(10,ut,4,0,"ion-card",3),t.YNc(11,mt,8,2,"ion-card",4),t.YNc(12,pt,10,2,"div",5),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngIf",n.noWater),t.xp6(1),t.Q6J("ngIf",!n.noWater),t.xp6(1),t.Q6J("ngForOf",n.water))},dependencies:[u.sg,u.O5,d.rH,d.Od,i.YG,i.Sm,i.PM,i.FN,i.wI,i.W2,i.Gu,i.gu,i.X7,i.Nd,i.wd,i.sr,i.oU,i.Fo]}),r})();function gt(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Add Water"),t.qZA())}function ft(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Edit Water"),t.qZA())}function ht(o,r){if(1&o&&(t.TgZ(0,"ion-buttons",7)(1,"ion-button",8),t._uU(2,"Delete"),t.qZA(),t._UZ(3,"ion-alert",9),t.qZA()),2&o){const a=t.oxw();t.xp6(3),t.Q6J("buttons",a.alertButtons)}}let k=(()=>{var o;class r{constructor(e,n,l,c,p){this.route=e,this.formBuilder=n,this.mNService=l,this.toastController=c,this.router=p,this.alertButtons=["Delete"]}ngOnInit(){this.waterForm=this.formBuilder.group({id:[""],scheduleId:[""],amount:[]}),this.getWater()}onSubmit(){const e=this.waterForm.value;this.mNService.addUpdateElement("water",{id:e.id,scheduleId:e.scheduleId,amount:e.amount}).then(()=>{this.presentToast("null"==this.waterId?"Water added":"Water updated"),this.router.navigate(["/admin/patient/details/maternal-nutrition/water"])})}getWater(){this.waterId=String(this.route.snapshot.paramMap.get("id")),console.log(this.waterId),"null"==this.waterId?(console.log("walang id"),this.waterForm.setValue({id:(0,v.Z)(),scheduleId:this.mNService.currentSched.id,amount:0})):this.mNService.getById("water",this.waterId).then(e=>{this.waterForm.setValue({id:e.id,scheduleId:e.scheduleId,amount:e.amount})})}presentToast(e){var n=this;return(0,m.Z)(function*(){yield(yield n.toastController.create({message:e,duration:1500,position:"top"})).present()})()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.gz),t.Y36(s.qu),t.Y36(f.R),t.Y36(i.yF),t.Y36(d.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form",5,"f"]],decls:16,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["type","number","label","Amount","formControlName","amount","labelPlacement","stacked","placeholder","glasses","helperText","240ml = 1 Glass"],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Water Log","message","Are you sure you want to delete water log?",3,"buttons"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar"),t.YNc(2,gt,2,0,"ion-title",0),t.YNc(3,ft,2,0,"ion-title",0),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button"),t.qZA(),t.YNc(6,ht,4,1,"ion-buttons",2),t.qZA()(),t.TgZ(7,"ion-content")(8,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item"),t._UZ(12,"ion-input",4),t.qZA()()(),t.TgZ(13,"ion-row",5)(14,"ion-button",6),t._uU(15,"Save"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf","null"==n.waterId),t.xp6(1),t.Q6J("ngIf","null"!=n.waterId),t.xp6(3),t.Q6J("ngIf","null"!=n.waterId),t.xp6(2),t.Q6J("formGroup",n.waterForm))},dependencies:[u.O5,i.Ge,i.YG,i.Sm,i.PM,i.W2,i.Gu,i.pK,i.Ie,i.q_,i.Nd,i.wd,i.sr,i.as,i.oU,s._Y,s.JJ,s.JL,s.sg,s.u]}),r})();var q=_(5472),Zt=_(4678),T=_(4532);function vt(o,r){if(1&o&&(t.TgZ(0,"ion-row")(1,"ion-col"),t._UZ(2,"ion-img",6),t.qZA()()),2&o){const a=t.oxw(2);t.xp6(2),t.Q6J("src",a.mealPhoto)}}function bt(o,r){if(1&o&&(t.TgZ(0,"ion-grid"),t.YNc(1,vt,3,1,"ion-row",4),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.mealPhoto)}}function At(o,r){1&o&&(t.TgZ(0,"ion-card",10)(1,"ion-card-content")(2,"p",11),t._uU(3,"No food indicated"),t.qZA()()())}function Tt(o,r){if(1&o&&(t.TgZ(0,"div")(1,"a",12)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",13),t._uU(6),t.qZA()()()()()()),2&o){const a=r.$implicit;t.xp6(1),t.MGl("routerLink","/admin/patient/details/maternal-nutrition/food/edit/",a.id,""),t.xp6(5),t.hij("",a.name," ")}}function St(o,r){if(1&o&&(t.TgZ(0,"div")(1,"h3",7),t._uU(2,"Food Consumed"),t.qZA(),t.YNc(3,At,4,0,"ion-card",8),t.YNc(4,Tt,7,2,"div",9),t.ALo(5,"async"),t.qZA()),2&o){const a=t.oxw();t.xp6(3),t.Q6J("ngIf",a.noFood),t.xp6(1),t.Q6J("ngForOf",t.lcZ(5,2,a.foods$))}}function It(o,r){1&o&&(t.TgZ(0,"h3",7),t._uU(1,"Meal Skipped"),t.qZA())}let Ft=(()=>{var o;class r{constructor(e,n,l,c,p,g){this.router=n,this.route=l,this.photoService=c,this.pouchService=p,this.utilsService=g,this.mealType=String(this.route.snapshot.paramMap.get("type")),this.foodsSubject=new h.X([]),this.foods$=this.foodsSubject.asObservable(),this.noFood=!0,this.skipMeal=!1,this.platform=e}ngOnInit(){return(0,m.Z)(function*(){})()}ionViewWillEnter(){var e=this;return(0,m.Z)(function*(){localStorage.setItem("selected_food_type",String(e.route.snapshot.paramMap.get("type"))),e.mealPhoto=null,e.skipMeal=!1,e.getMealFoods().then(()=>{e.photoService.loadSaved().then(()=>{e.photoService.mealDoc&&(e.mealDoc=e.photoService.mealDoc,e.skipMeal=e.photoService.mealDoc.skipped),e.mealPhoto=e.photoService.mealPhoto})})})()}ionViewWillLeave(){return(0,m.Z)(function*(){})()}navigate(e){this.router.navigate([e])}addPhotoToGallery(){var e=this;return(0,m.Z)(function*(){yield e.photoService.addNewToGallery().then((0,m.Z)(function*(){for(;;){if(e.photoService.mealPhoto){e.mealPhoto=e.photoService.mealPhoto;break}yield e.delay(100)}}))})()}delay(e){return(0,m.Z)(function*(){return new Promise(n=>setTimeout(n,e))})()}deleteImage(){var e=this;return(0,m.Z)(function*(){e.mealPhoto=null,e.photoService.mealPhoto=null,yield e.photoService.deleteImage()})()}patchSkipped(){var e=this;return(0,m.Z)(function*(){try{const{docs:n}=yield e.pouchService.mealDb.find({selector:{scheduleId:localStorage.getItem("selected_sched"),type:localStorage.getItem("selected_food_type")}});if(n.length>0){const l=n[0];yield e.pouchService.mealDb.put({_id:l._id,_rev:l._rev,scheduleId:l.scheduleId,type:l.type,skipped:e.skipMeal})}else yield e.pouchService.mealDb.put({_id:e.utilsService.generateId(),scheduleId:localStorage.getItem("selected_sched"),type:localStorage.getItem("selected_food_type"),skipped:e.skipMeal});yield e.pouchService.mealDb.replicate.to(e.pouchService.customRemote("meal-"+localStorage.getItem("mother_userId"),"by-id"),{retry:!0})}catch(n){console.log(n)}})()}getMealFoods(){var e=this;return(0,m.Z)(function*(){try{let n=yield e.pouchService.consumptionDb.find({selector:{scheduleId:localStorage.getItem("selected_sched"),type:e.route.snapshot.paramMap.get("type")}});e.noFood=!(n.docs.length>0);const l=n.docs.map(c=>({id:c._id,name:c.name}));e.foodsSubject.next(l)}catch(n){console.log(n)}})()}toggleDisable(){this.skipMeal=!this.skipMeal}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(q.t4),t.Y36(d.F0),t.Y36(d.gz),t.Y36(Zt.T),t.Y36(Z.M),t.Y36(T.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-meal"]],decls:13,vars:3,consts:[["slot","start"],["slot","end"],[3,"click"],[1,""],[4,"ngIf"],["class","ion-text-center",4,"ngIf"],[3,"src"],[1,"ion-text-center"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Log Meal"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA(),t.TgZ(6,"ion-buttons",1)(7,"ion-button",2),t.NdJ("click",function(){return n.navigate("/admin/patient/details/maternal-nutrition/food/add")}),t._uU(8,"Add Food"),t.qZA()()()(),t.TgZ(9,"ion-content",3),t.YNc(10,bt,2,1,"ion-grid",4),t.YNc(11,St,6,4,"div",4),t.YNc(12,It,2,0,"h3",5),t.qZA()),2&e&&(t.xp6(10),t.Q6J("ngIf",!n.skipMeal),t.xp6(1),t.Q6J("ngIf",!n.skipMeal),t.xp6(1),t.Q6J("ngIf",n.skipMeal))},dependencies:[u.sg,u.O5,d.rH,d.Od,i.YG,i.Sm,i.PM,i.FN,i.wI,i.W2,i.jY,i.Gu,i.Xz,i.Nd,i.wd,i.sr,i.oU,i.Fo,u.Ov]}),r})(),yt=(()=>{var o;class r{constructor(e,n,l,c){this.formBuilder=e,this.router=n,this.pouchService=l,this.utilsService=c}ngOnInit(){this.mNScheduleForm=this.formBuilder.group({mnSchedule:[""]})}onSubmit(){var e=this;return(0,m.Z)(function*(){e.pouchService.motherDb||(yield e.pouchService.reiniMotherPouch());const n=e.mNScheduleForm.value,l={_id:e.utilsService.generateId(),maternalNutritionId:localStorage.getItem("selected_mn"),startDate:n.mnSchedule};yield e.pouchService.schedDb.put(l),yield e.pouchService.schedDb.replicate.to(e.pouchService.customRemote("sched-"+localStorage.getItem("mother_userId"),"by-id"),{retry:!0}),e.navigate("/admin/patient/details/maternal-nutrition")})()}navigate(e){this.router.navigate([e])}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(s.qu),t.Y36(d.F0),t.Y36(Z.M),t.Y36(T.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add"]],decls:15,vars:2,consts:[[3,"translucent"],["slot","start"],[1,"ion-padding"],[3,"formGroup","ngSubmit"],[1,"ion-no-padding"],["size","12"],["formControlName","mnSchedule","label","Date","type","date","labelPlacement","stacked"],[1,"d-flex","ion-justify-content-center"],["type","submit"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Add Schedule"),t.qZA()()(),t.TgZ(6,"ion-content",2)(7,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(8,"ion-card",4)(9,"ion-list")(10,"ion-item",5),t._UZ(11,"ion-input",6),t.qZA()()(),t.TgZ(12,"ion-row",7)(13,"ion-button",8),t._uU(14,"Save"),t.qZA()()()()),2&e&&(t.Q6J("translucent",!0),t.xp6(7),t.Q6J("formGroup",n.mNScheduleForm))},dependencies:[i.YG,i.Sm,i.PM,i.W2,i.Gu,i.pK,i.Ie,i.q_,i.Nd,i.wd,i.sr,i.j9,i.oU,s._Y,s.JJ,s.JL,s.sg,s.u]}),r})();var Ct=_(3989);function Nt(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Add Food"),t.qZA())}function kt(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Edit Food"),t.qZA())}function qt(o,r){if(1&o&&(t.TgZ(0,"ion-buttons",9)(1,"ion-button",10),t._uU(2,"Delete"),t.qZA(),t._UZ(3,"ion-alert",11),t.qZA()),2&o){const a=t.oxw();t.xp6(3),t.Q6J("buttons",a.alertButtons)}}function wt(o,r){if(1&o&&(t.TgZ(0,"ion-select-option",12),t._uU(1),t.qZA()),2&o){const a=r.$implicit;t.Q6J("value",a.name_en),t.xp6(1),t.Oqu(a.name_en)}}let w=(()=>{var o;class r{constructor(e,n,l,c,p,g){this.route=e,this.formBuilder=n,this.mNService=l,this.loggedService=c,this.toastController=p,this.router=g,this.alertButtons=["Delete"],console.log("qweqwe")}ngOnInit(){this.foodForm=this.formBuilder.group({id:[""],mealId:[""],portion:[""],name_en:[""],name_ph:[""]})}ionViewWillEnter(){this.getFctFood()}onSubmit(){const e=this.foodForm.value,n={id:e.id,mealId:e.mealId,portion:e.portion,name_en:e.name_en,name_ph:e.name_ph};this.mNService.addUpdateElement("food",n).then(()=>{this.presentToast("null"==this.foodId?"Food added":"Food updated"),this.router.navigate(["/admin/patient/details/maternal-nutrition/meal/edit/"+n.mealId])})}getFctFood(){this.foodId=String(this.route.snapshot.paramMap.get("id")),this.mNService.getAll("fctFood").then(e=>{this.fctFoods=e}).then(()=>{console.log(this.mNService.currentMealId),"null"==this.foodId?this.foodForm.setValue({id:(0,v.Z)(),mealId:this.mNService.currentMealId,portion:0,name_en:"",name_ph:""}):this.mNService.getById("food",this.foodId).then(e=>{this.foodForm.setValue({id:e.id,mealId:e.mealId,portion:e.portion,name_en:e.name_en,name_ph:e.name_ph})})})}presentToast(e){var n=this;return(0,m.Z)(function*(){yield(yield n.toastController.create({message:e,duration:1500,position:"top"})).present()})()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.gz),t.Y36(s.qu),t.Y36(f.R),t.Y36(Ct.A),t.Y36(i.yF),t.Y36(d.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-form",5,"b"]],decls:19,vars:5,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["interface","action-sheet","label","Food","labelPlacement","stacked","formControlName","name_en"],[3,"value",4,"ngFor","ngForOf"],["label","Portion","formControlName","portion","id","portion","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Meal","message","Are you sure you want to delete meal?",3,"buttons"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar"),t.YNc(2,Nt,2,0,"ion-title",0),t.YNc(3,kt,2,0,"ion-title",0),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button"),t.qZA(),t.YNc(6,qt,4,1,"ion-buttons",2),t.qZA()(),t.TgZ(7,"ion-content")(8,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item")(12,"ion-select",4),t.YNc(13,wt,2,2,"ion-select-option",5),t.qZA()(),t.TgZ(14,"ion-item"),t._UZ(15,"ion-input",6),t.qZA()()(),t.TgZ(16,"ion-row",7)(17,"ion-button",8),t._uU(18,"Save"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf","null"!=n.foodId),t.xp6(1),t.Q6J("ngIf","null"==n.foodId),t.xp6(3),t.Q6J("ngIf","null"!=n.foodId),t.xp6(2),t.Q6J("formGroup",n.foodForm),t.xp6(5),t.Q6J("ngForOf",n.fctFoods))},dependencies:[u.sg,u.O5,i.Ge,i.YG,i.Sm,i.PM,i.W2,i.Gu,i.pK,i.Ie,i.q_,i.Nd,i.t9,i.n0,i.wd,i.sr,i.QI,i.j9,i.oU,s._Y,s.JJ,s.JL,s.sg,s.u]}),r})(),Ut=(()=>{var o;class r{constructor(e,n){this.router=e,this.formBuilder=n}ngOnInit(){this.validateForm=this.formBuilder.group({id:[""],scheduleId:[""],amount:[]})}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.F0),t.Y36(s.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-validate"]],decls:19,vars:2,consts:[["slot","start"],[3,"formGroup"],["labelPlacement","end"],["size","12"],["type","text","label","Notes","formControlName","amount","labelPlacement","stacked","fill","outline",3,"autoGrow"],[2,"display","flex","justify-content","center"],["type","submit"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Validate Day Log"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA()()(),t.TgZ(6,"ion-content")(7,"form",1)(8,"ion-card")(9,"ion-list")(10,"ion-item")(11,"ion-checkbox",2),t._uU(12,"Maternal Nutrition Day Log Validated"),t.qZA()(),t.TgZ(13,"ion-item")(14,"ion-col",3),t._UZ(15,"ion-textarea",4),t.qZA()()()(),t.TgZ(16,"ion-row",5)(17,"ion-button",6),t._uU(18,"Save"),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("formGroup",n.validateForm),t.xp6(8),t.Q6J("autoGrow",!0))},dependencies:[i.YG,i.Sm,i.PM,i.nz,i.wI,i.W2,i.Gu,i.Ie,i.q_,i.Nd,i.g2,i.wd,i.sr,i.w,i.j9,i.oU,s._Y,s.JJ,s.JL,s.sg,s.u]}),r})();const xt=["selectSubtype"];function Yt(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Validate Food"),t.qZA())}function Jt(o,r){1&o&&(t.TgZ(0,"ion-title"),t._uU(1,"Add & Validate Food"),t.qZA())}function Mt(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ion-buttons",20)(1,"ion-button",21),t._uU(2,"Delete"),t.qZA(),t.TgZ(3,"ion-alert",22),t.NdJ("ionAlertDidDismiss",function(n){t.CHM(a);const l=t.oxw();return t.KtG(l.delete(n))}),t.qZA()()}if(2&o){const a=t.oxw();t.xp6(3),t.Q6J("buttons",a.alertButtons)}}function Pt(o,r){if(1&o&&(t.TgZ(0,"ion-select-option",28),t._uU(1),t.qZA()),2&o){const a=r.$implicit;t.Q6J("value",a),t.xp6(1),t.hij("",a," ")}}function Dt(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ion-card",4)(1,"ion-list")(2,"ion-item"),t._UZ(3,"ion-input",23),t.qZA(),t.TgZ(4,"ion-item")(5,"ion-input",24),t.NdJ("ionInput",function(n){t.CHM(a);const l=t.oxw();return t.KtG(l.formatInput(n,"measure"))}),t.qZA()(),t.TgZ(6,"ion-item")(7,"ion-select",25),t.YNc(8,Pt,2,2,"ion-select-option",26),t.qZA()(),t.TgZ(9,"ion-item"),t._UZ(10,"ion-textarea",27),t.qZA()()()}if(2&o){const a=t.oxw();t.Q6J("disabled",!1),t.xp6(8),t.Q6J("ngForOf",a.units),t.xp6(2),t.Q6J("autoGrow",!0)}}function Qt(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ion-card",4)(1,"ion-list")(2,"ion-item"),t._UZ(3,"ion-input",29),t.qZA(),t.TgZ(4,"ion-item")(5,"ion-input",30),t.NdJ("ionInput",function(n){t.CHM(a);const l=t.oxw();return t.KtG(l.formatInput(n,"servingSize"))}),t.qZA()(),t.TgZ(6,"ion-item")(7,"ion-input",31),t.NdJ("ionInput",function(n){t.CHM(a);const l=t.oxw();return t.KtG(l.formatInput(n,"servingSize"))}),t.qZA()(),t.TgZ(8,"ion-item"),t._UZ(9,"ion-input",32),t.qZA(),t.TgZ(10,"ion-item"),t._UZ(11,"ion-input",33),t.qZA(),t.TgZ(12,"ion-item"),t._UZ(13,"ion-input",34),t.qZA(),t.TgZ(14,"ion-item"),t._UZ(15,"ion-input",35),t.qZA(),t.TgZ(16,"ion-item"),t._UZ(17,"ion-textarea",27),t.qZA()()()}2&o&&(t.Q6J("disabled",!1),t.xp6(17),t.Q6J("autoGrow",!0))}function Ot(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ion-card",4)(1,"ion-list")(2,"ion-item"),t._UZ(3,"ion-input",29),t.qZA(),t.TgZ(4,"ion-item")(5,"ion-input",30),t.NdJ("ionInput",function(n){t.CHM(a);const l=t.oxw();return t.KtG(l.formatInput(n,"servingSize"))}),t.qZA()(),t.TgZ(6,"ion-item")(7,"ion-input",31),t.NdJ("ionInput",function(n){t.CHM(a);const l=t.oxw();return t.KtG(l.formatInput(n,"servingSize"))}),t.qZA()(),t.TgZ(8,"ion-item"),t._UZ(9,"ion-input",32),t.qZA(),t.TgZ(10,"ion-item"),t._UZ(11,"ion-input",33),t.qZA(),t.TgZ(12,"ion-item"),t._UZ(13,"ion-input",34),t.qZA(),t.TgZ(14,"ion-item"),t._UZ(15,"ion-input",35),t.qZA(),t.TgZ(16,"ion-item"),t._UZ(17,"ion-textarea",27),t.qZA()()()}2&o&&(t.Q6J("disabled",!1),t.xp6(17),t.Q6J("autoGrow",!0))}function Gt(o,r){1&o&&(t.TgZ(0,"ion-card",4)(1,"ion-list")(2,"ion-item"),t._UZ(3,"ion-input",29),t.qZA(),t.TgZ(4,"ion-item"),t._UZ(5,"ion-input",32),t.qZA(),t.TgZ(6,"ion-item"),t._UZ(7,"ion-input",33),t.qZA(),t.TgZ(8,"ion-item"),t._UZ(9,"ion-input",34),t.qZA()()()),2&o&&t.Q6J("disabled",!1)}function Vt(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ion-card",4)(1,"ion-list")(2,"ion-item")(3,"ion-input",36),t.NdJ("ionInput",function(n){t.CHM(a);const l=t.oxw();return t.KtG(l.formatInput(n,"waterAmt"))}),t.qZA()(),t.TgZ(4,"ion-item",37)(5,"ion-note"),t._uU(6,"One glass is equal to 240mL"),t.qZA()()()()}2&o&&t.Q6J("disabled",!1)}function Lt(o,r){if(1&o&&(t.TgZ(0,"div",41)(1,"ion-card")(2,"ion-card-content")(3,"ion-row")(4,"ion-col",42),t._uU(5,"Code "),t.qZA(),t.TgZ(6,"ion-col",43),t._uU(7),t.qZA()(),t.TgZ(8,"ion-row")(9,"ion-col",42),t._uU(10,"Name En "),t.qZA(),t.TgZ(11,"ion-col",43),t._uU(12),t.qZA()(),t.TgZ(13,"ion-row")(14,"ion-col",42),t._uU(15,"Name Ph "),t.qZA(),t.TgZ(16,"ion-col",43),t._uU(17),t.qZA()()()()()),2&o){const a=r.$implicit;t.xp6(7),t.hij("",a.code," "),t.xp6(5),t.hij("",a.nameen," "),t.xp6(5),t.hij("",a.nameph," ")}}function Wt(o,r){if(1&o&&(t.TgZ(0,"ion-accordion-group")(1,"ion-accordion",38)(2,"ion-item",39)(3,"ion-label"),t._uU(4,"Suggested Foods"),t.qZA()(),t.YNc(5,Lt,18,3,"div",40),t.ALo(6,"async"),t.qZA()()),2&o){const a=t.oxw();t.xp6(5),t.Q6J("ngForOf",t.lcZ(6,1,a.fct$))}}function jt(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ion-row",44)(1,"ion-button",45),t._uU(2,"Validate"),t.qZA(),t.TgZ(3,"ion-alert",46),t.NdJ("ionAlertDidDismiss",function(){t.CHM(a);const n=t.oxw();return t.KtG(n.validate())}),t.qZA()()}if(2&o){const a=t.oxw();t.xp6(3),t.Q6J("buttons",a.buttons)}}function zt(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"ion-row",44)(1,"ion-button",47),t._uU(2,"Add & Validate"),t.qZA(),t.TgZ(3,"ion-alert",48),t.NdJ("ionAlertDidDismiss",function(){t.CHM(a);const n=t.oxw();return t.KtG(n.validate())}),t.qZA()()}if(2&o){const a=t.oxw();t.xp6(3),t.Q6J("buttons",a.buttons2)}}let U=(()=>{var o;class r{constructor(e,n,l,c,p,g,b){this.route=e,this.formBuilder=n,this.toastController=l,this.router=c,this.pouchService=p,this.navCtrl=g,this.utilsService=b,this.hasId=!1,this.alertButtons=["Delete"],this.units=["Cups (c)","Tablespoons (T)","Teaspoons (t)","Pieces (pcs)","Slices","Grams (g)","Kilograms (kg)","Pound (lb)","Ounces (oz)","Milliliters (ml)","Liters (L)","Fluid ounces (fl oz)"],this.id=String(this.route.snapshot.paramMap.get("id")),this.fctSubject=new h.X([]),this.fct$=this.fctSubject.asObservable(),this.buttons=[{text:"Yes",handler:A=>{this.isTrue=!0}},{text:"No",handler:A=>{this.isTrue=!1}}],this.buttons2=[{text:"Yes",handler:A=>{this.isTrue=!0}},{text:"No",handler:A=>{this.isTrue=!1}}]}ngOnInit(){this.foodForm=this.formBuilder.group({id:[null],scheduleId:[null],type:[null],subtype:[null],name:[null],servingSize:[null],noOfServings:[null],measure:[null],unit:[null],details:[null],ironPortion:[null],vitAPortion:[null],vitCPortion:[null],fatPortion:[null],consumptionName:[null],ironAmt:[null],retinolAmt:[null],ascorbicAcidAmt:[null],fatAmt:[null],waterAmt:[null],validated:[!1]})}ionViewWillEnter(){var e=this;return(0,m.Z)(function*(){yield e.getFood(),yield e.handleInput()})()}onSubmit(){var e=this;return(0,m.Z)(function*(){const n=e.foodForm.value,l={_id:n.id,scheduleId:n.scheduleId?n.scheduleId:localStorage.getItem("selected_sched"),type:n.type?n.type:localStorage.getItem("selected_food_type"),subtype:n.subtype,name:n.name,servingSize:n.servingSize,noOfServings:n.noOfServings,measure:n.measure,unit:n.unit,details:n.details,ironPortion:n.ironPortion,vitAPortion:n.vitAPortion,vitCPortion:n.vitCPortion,fatPortion:n.fatPortion,consumptionName:n.consumptionName,ironAmt:n.ironAmt,retinolAmt:n.retinolAmt,ascorbicAcidAmt:n.ascorbicAcidAmt,fatAmt:n.fatAmt,waterAmt:n.waterAmt?240*n.waterAmt:null,validated:!0};try{if(null===l._id){l._id=e.utilsService.generateId();const c=yield e.pouchService.consumptionDb.put(l);console.log(c),e.presentToast("Food added and validated")}else{console.log(l);const c=yield e.pouchService.consumptionDb.get(e.id);l._rev=c._rev,yield e.pouchService.consumptionDb.put(l),e.presentToast("Food validated")}yield e.pouchService.consumptionDb.replicate.to(e.pouchService.customRemote("consumption-"+localStorage.getItem("mother_userId"),"by-id"),{retry:!0}),yield e.pouchService.consumptionDb.replicate.to(e.pouchService.customRemote("consumption","shared"),{retry:!0}),e.navCtrl.pop()}catch(c){console.log(c)}})()}getFood(){var e=this;return(0,m.Z)(function*(){if(e.pouchService.motherDb||e.pouchService.reiniMotherPouch(),"null"===e.id)return e.selectSubtype.open(),void(e.hasId=!1);e.hasId=!0;try{let n=yield e.pouchService.consumptionDb.get(e.id);console.log(n),e.foodForm.setValue({id:n._id,scheduleId:n.scheduleId,type:n.type,subtype:n.subtype,name:n.name,servingSize:n.servingSize,noOfServings:n.noOfServings,measure:n.measure,unit:n.unit,details:n.details,ironPortion:n.ironPortion,vitAPortion:n.vitAPortion,vitCPortion:n.vitCPortion,fatPortion:n.fatPortion,consumptionName:n.consumptionName,ironAmt:n.ironAmt,retinolAmt:n.retinolAmt,ascorbicAcidAmt:n.ascorbicAcidAmt,fatAmt:n.fatAmt,waterAmt:n.waterAmt?n.waterAmt/240:n.waterAmt,validated:n.validated})}catch(n){console.log(n)}})()}clearFormData(e){console.log(e.detail.value),this.foodForm.reset(),this.foodForm.patchValue({subtype:e.detail.value})}handleInput(){var e=this;return(0,m.Z)(function*(){var n;const l=null===(n=e.foodForm.get("name"))||void 0===n?void 0:n.value.toLowerCase().split(/[,\s]+/);try{var{rows:c}=yield e.pouchService.fct.allDocs({include_docs:!0,attachments:!0});const g=c.map(b=>b.doc).filter(b=>{if(!b.nameen)return;const A=b.nameen.toLowerCase();return l.some(Xt=>A.includes(Xt))});e.fctSubject.next(g)}catch(p){console.log(p)}})()}formatInput(e,n){let l=e.target.value;const c=l.indexOf(".");-1!==c&&(l=l.slice(0,c+3),this.foodForm.patchValue({[n]:parseFloat(l)}))}presentToast(e){var n=this;return(0,m.Z)(function*(){yield(yield n.toastController.create({message:e,duration:1500,position:"top"})).present()})()}validate(){this.isTrue&&this.onSubmit()}delete(e){var n=this;return(0,m.Z)(function*(){if("backdrop"!==e.detail.role)try{var l=yield n.pouchService.consumptionDb.get(n.id);yield n.pouchService.consumptionDb.remove(l).then(function(){var c=(0,m.Z)(function*(p){yield n.pouchService.consumptionDb.replicate.to(n.pouchService.customRemote("consumption-"+localStorage.getItem("mother_userId"),"by-id"),{retry:!0}),yield n.pouchService.consumptionDb.replicate.to(n.pouchService.customRemote("consumption","shared"),{retry:!0}),n.navCtrl.pop(),n.presentToast("Food deleted")});return function(p){return c.apply(this,arguments)}}())}catch(c){console.log(c)}})()}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(d.gz),t.Y36(s.qu),t.Y36(i.yF),t.Y36(d.F0),t.Y36(Z.M),t.Y36(q.SH),t.Y36(T.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-food"]],viewQuery:function(e,n){if(1&e&&t.Gf(xt,5),2&e){let l;t.iGM(l=t.CRH())&&(n.selectSubtype=l.first)}},decls:45,vars:13,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"disabled"],["interface","action-sheet","label","Food Type","label-placement","floating","formControlName","subtype","fill","outline","placeholder","Food Type",2,"width","100%",3,"ionChange"],["selectSubtype",""],["value","food"],["value","snack"],["value","supplement"],["value","drink"],["value","water"],[3,"disabled",4,"ngIf"],["label","Consumption Name","formControlName","consumptionName","id","consName","labelPlacement","stacked","placeholder","Consumption Name","type","text"],["label","Iron Amount","formControlName","ironAmt","id","ironAmt","labelPlacement","stacked","placeholder","Iron Amount","type","number"],["label","Retinol Amount","formControlName","retinolAmt","id","retinolAmt","labelPlacement","stacked","placeholder","Retinol Amount","type","number"],["label","Ascorbic Acid Amount","formControlName","ascorbicAcidAmt","id","ascorbicAcidAmt","labelPlacement","stacked","placeholder","Ascorbic Acid Amount","type","number"],["label","Fat Amount","formControlName","fatAmt","id","fatAmt","labelPlacement","stacked","placeholder","Fat Amount","type","number"],["label","Water Amount","formControlName","waterAmt","id","waterAmt","labelPlacement","stacked","placeholder","Water Amount","type","number"],["style","display:flex; justify-content:center;",4,"ngIf"],["slot","end"],["id","present-alert3"],["trigger","present-alert3","header","Delete Consumption","message","Are you sure you want to delete food?",3,"buttons","ionAlertDidDismiss"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","type","text","placeholder","Name"],["label","Measure","formControlName","measure","id","measure","labelPlacement","stacked","type","number","placeholder","Measure",3,"ionInput"],["interface","action-sheet","label","Unit","label-placement","floating","formControlName","unit","fill","outline","placeholder","Unit"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Details","label","Details","formControlName","details","label-placement","floating",3,"autoGrow"],[3,"value"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","placeholder","Name","type","text"],["label","Serving Size","formControlName","servingSize","id","servingSize","labelPlacement","stacked","placeholder","Serving Size","type","number",3,"ionInput"],["label","Number of Servings","formControlName","noOfServings","id","noOfServings","labelPlacement","stacked","placeholder","Number of Servings","type","number",3,"ionInput"],["label","Iron Portion","formControlName","ironPortion","id","ironPortion","placeholder","Iron Portion","labelPlacement","stacked","type","text"],["label","Vitamin A Portion","formControlName","vitAPortion","id","vitAPortion","placeholder","Vitamin A Portion","labelPlacement","stacked","type","text"],["label","Vitamin C Portion","formControlName","vitCPortion","id","vitCPortion","placeholder","Vitamin C Portion","labelPlacement","stacked","type","text"],["label","Fat Portion","formControlName","fatPortion","id","fatPortion","placeholder","Fat Portion","labelPlacement","stacked","type","text"],["type","number","label","Amount","formControlName","waterAmt","labelPlacement","stacked","placeholder","Glasses",3,"ionInput"],[1,"ion-padding-start"],["value","first"],["slot","header","color","light"],["slot","content",4,"ngFor","ngForOf"],["slot","content"],["size","3",1,"d-flex","ion-justify-content-start"],["size","9",1,"d-flex","ion-justify-content-start"],[2,"display","flex","justify-content","center"],["id","present-alert"],["trigger","present-alert","header","Validate Food","message","Confirm validation of food item?",3,"buttons","ionAlertDidDismiss"],["id","present-alert2"],["trigger","present-alert2","header","Add & Validate Food","message","Confirm adding and validating of food item?",3,"buttons","ionAlertDidDismiss"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar"),t.YNc(2,Yt,2,0,"ion-title",0),t.YNc(3,Jt,2,0,"ion-title",0),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button"),t.qZA(),t.YNc(6,Mt,4,1,"ion-buttons",2),t.qZA()(),t.TgZ(7,"ion-content")(8,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"ion-card",4)(10,"ion-item")(11,"ion-select",5,6),t.NdJ("ionChange",function(c){return n.clearFormData(c)}),t.TgZ(13,"ion-select-option",7),t._uU(14,"Food"),t.qZA(),t.TgZ(15,"ion-select-option",8),t._uU(16,"Snack"),t.qZA(),t.TgZ(17,"ion-select-option",9),t._uU(18,"Supplement"),t.qZA(),t.TgZ(19,"ion-select-option",10),t._uU(20,"Drink"),t.qZA(),t.TgZ(21,"ion-select-option",11),t._uU(22,"Water"),t.qZA()()()(),t.YNc(23,Dt,11,3,"ion-card",12),t.YNc(24,Qt,18,2,"ion-card",12),t.YNc(25,Ot,18,2,"ion-card",12),t.YNc(26,Gt,10,1,"ion-card",12),t.YNc(27,Vt,7,1,"ion-card",12),t.TgZ(28,"ion-card")(29,"ion-list")(30,"ion-item"),t._UZ(31,"ion-input",13),t.qZA(),t.TgZ(32,"ion-item"),t._UZ(33,"ion-input",14),t.qZA(),t.TgZ(34,"ion-item"),t._UZ(35,"ion-input",15),t.qZA(),t.TgZ(36,"ion-item"),t._UZ(37,"ion-input",16),t.qZA(),t.TgZ(38,"ion-item"),t._UZ(39,"ion-input",17),t.qZA(),t.TgZ(40,"ion-item"),t._UZ(41,"ion-input",18),t.qZA()()(),t.YNc(42,Wt,7,3,"ion-accordion-group",0),t.YNc(43,jt,4,1,"ion-row",19),t.YNc(44,zt,4,1,"ion-row",19),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf",n.hasId),t.xp6(1),t.Q6J("ngIf",!n.hasId),t.xp6(3),t.Q6J("ngIf","null"!=n.id),t.xp6(2),t.Q6J("formGroup",n.foodForm),t.xp6(1),t.Q6J("disabled",!1),t.xp6(14),t.Q6J("ngIf","food"==n.foodForm.controls.subtype.value),t.xp6(1),t.Q6J("ngIf","snack"==n.foodForm.controls.subtype.value),t.xp6(1),t.Q6J("ngIf","drink"==n.foodForm.controls.subtype.value),t.xp6(1),t.Q6J("ngIf","supplement"==n.foodForm.controls.subtype.value),t.xp6(1),t.Q6J("ngIf","water"==n.foodForm.controls.subtype.value),t.xp6(15),t.Q6J("ngIf",n.hasId),t.xp6(1),t.Q6J("ngIf",n.hasId),t.xp6(1),t.Q6J("ngIf",!n.hasId))},dependencies:[u.sg,u.O5,i.We,i.eh,i.Ge,i.YG,i.Sm,i.PM,i.FN,i.wI,i.W2,i.Gu,i.pK,i.Ie,i.Q$,i.q_,i.uN,i.Nd,i.t9,i.n0,i.g2,i.wd,i.sr,i.as,i.QI,i.j9,i.oU,s._Y,s.JJ,s.JL,s.sg,s.u,u.Ov],styles:[".card-disabled[_ngcontent-%COMP%]{opacity:.6}"]}),r})();const Bt=[{path:"",component:M},{path:"add",component:yt},{path:"log/:id",component:G},{path:"vitamins-minerals",component:W},{path:"vitamins-minerals/edit/:id",component:I},{path:"vitamins-minerals/add",component:I},{path:"snacks",component:F},{path:"snacks/edit/:id",component:y},{path:"snack/:type",component:F},{path:"snacks/add",component:y},{path:"milk",component:et},{path:"milk/edit/:id",component:C},{path:"milk/add",component:C},{path:"fluid",component:lt},{path:"fluid/edit/:id",component:N},{path:"fluid/add",component:N},{path:"water",component:_t},{path:"water/edit/:id",component:k},{path:"water/add",component:k},{path:"food/add",component:U},{path:"food/edit/:id",component:U},{path:"meal/:type",component:Ft},{path:"food",component:w},{path:"food/edit/:id",component:w},{path:"validate",component:Ut}];let Et=(()=>{var o;class r{}return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(Bt),d.Bz]}),r})(),$t=(()=>{var o;class r{}return(o=r).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[u.JJ],imports:[u.ez,Et,i.Pc,s.UX,s.u5]}),r})()}}]);