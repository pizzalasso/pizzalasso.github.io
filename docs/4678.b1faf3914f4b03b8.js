"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4678],{5961:(V,$,d)=>{d.d($,{GW:()=>O,dk:()=>Z,oK:()=>o});var o=function(m){return m.Prompt="PROMPT",m.Camera="CAMERA",m.Photos="PHOTOS",m}(o||{}),O=function(m){return m.Rear="REAR",m.Front="FRONT",m}(O||{}),Z=function(m){return m.Uri="uri",m.Base64="base64",m.DataUrl="dataUrl",m}(Z||{})},2726:(V,$,d)=>{d.d($,{Sd:()=>ee,Uw:()=>p,dV:()=>a,fo:()=>w,xz:()=>c});var o=d(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var I=function(r){return r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE",r}(I||{});class c extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const f=r=>{var e,t,i,l,n;const h=r.CapacitorCustomPlatform||null,s=r.Capacitor||{},E=s.Plugins=s.Plugins||{},g=r.CapacitorPlatforms,G=(null===(e=null==g?void 0:g.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==h?h.name:(r=>{var e,t;return null!=r&&r.androidBridge?"android":null!==(t=null===(e=null==r?void 0:r.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(r)),le=(null===(t=null==g?void 0:g.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==G()),de=(null===(i=null==g?void 0:g.currentPlatform)||void 0===i?void 0:i.isPluginAvailable)||(P=>{const b=X.get(P);return!!(null!=b&&b.platforms.has(G())||te(P))}),te=(null===(l=null==g?void 0:g.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(P=>{var b;return null===(b=s.PluginHeaders)||void 0===b?void 0:b.find(K=>K.name===P)}),X=new Map,ge=(null===(n=null==g?void 0:g.currentPlatform)||void 0===n?void 0:n.registerPlugin)||((P,b={})=>{const K=X.get(P);if(K)return console.warn(`Capacitor plugin "${P}" already registered. Cannot register plugins twice.`),K.proxy;const x=G(),N=te(P);let F;const me=function(){var C=(0,o.Z)(function*(){return!F&&x in b?F=F="function"==typeof b[x]?yield b[x]():b[x]:null!==h&&!F&&"web"in b&&(F=F="function"==typeof b.web?yield b.web():b.web),F});return function(){return C.apply(this,arguments)}}(),Q=C=>{let A;const k=(...D)=>{const W=me().then(R=>{const _=((C,A)=>{var k,D;if(!N){if(C)return null===(D=C[A])||void 0===D?void 0:D.bind(C);throw new c(`"${P}" plugin is not implemented on ${x}`,I.Unimplemented)}{const W=null==N?void 0:N.methods.find(R=>A===R.name);if(W)return"promise"===W.rtype?R=>s.nativePromise(P,A.toString(),R):(R,_)=>s.nativeCallback(P,A.toString(),R,_);if(C)return null===(k=C[A])||void 0===k?void 0:k.bind(C)}})(R,C);if(_){const J=_(...D);return A=null==J?void 0:J.remove,J}throw new c(`"${P}.${C}()" is not implemented on ${x}`,I.Unimplemented)});return"addListener"===C&&(W.remove=(0,o.Z)(function*(){return A()})),W};return k.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(k,"name",{value:C,writable:!1,configurable:!1}),k},re=Q("addListener"),ne=Q("removeListener"),Pe=(C,A)=>{const k=re({eventName:C},A),D=function(){var R=(0,o.Z)(function*(){const _=yield k;ne({eventName:C,callbackId:_},A)});return function(){return R.apply(this,arguments)}}(),W=new Promise(R=>k.then(()=>R({remove:D})));return W.remove=(0,o.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield D()}),W},q=new Proxy({},{get(C,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return N?Pe:re;case"removeListener":return ne;default:return Q(A)}}});return E[P]=q,X.set(P,{name:P,proxy:q,platforms:new Set([...Object.keys(b),...N?[x]:[]])}),q});return s.convertFileSrc||(s.convertFileSrc=P=>P),s.getPlatform=G,s.handleError=P=>r.console.error(P),s.isNativePlatform=le,s.isPluginAvailable=de,s.pluginMethodNoop=(P,b,K)=>Promise.reject(`${K} does not have an implementation of "${b}".`),s.registerPlugin=ge,s.Exception=c,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},a=(r=>r.Capacitor=f(r))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),w=a.registerPlugin;class p{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var i=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);const h=function(){var E=(0,o.Z)(function*(){return i.removeListener(e,t)});return function(){return E.apply(this,arguments)}}(),s=Promise.resolve({remove:h});return Object.defineProperty(s,"remove",{value:(E=(0,o.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield h()}),function(){return E.apply(this,arguments)})}),s;var E}removeAllListeners(){var e=this;return(0,o.Z)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const i=this.listeners[e];i&&i.forEach(l=>l(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:i=>{this.notifyListeners(t,i)}}}unimplemented(e="not implemented"){return new a.Exception(e,I.Unimplemented)}unavailable(e="not available"){return new a.Exception(e,I.Unavailable)}removeListener(e,t){var i=this;return(0,o.Z)(function*(){const l=i.listeners[e];if(!l)return;const n=l.indexOf(t);i.listeners[e].splice(n,1),i.listeners[e].length||i.removeWindowListener(i.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const S=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),M=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class H extends p{getCookies(){return(0,o.Z)(function*(){const e=document.cookie,t={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[l,n]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=M(l).trim(),n=M(n).trim(),t[l]=n}),t})()}setCookie(e){return(0,o.Z)(function*(){try{const t=S(e.key),i=S(e.value),l=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),h=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${i||""}${l}; path=${n}; ${h};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,o.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,o.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,o.Z)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}w("CapacitorCookies",{web:()=>new H});const ie=function(){var r=(0,o.Z)(function*(e){return new Promise((t,i)=>{const l=new FileReader;l.onload=()=>{const n=l.result;t(n.indexOf(",")>=0?n.split(",")[1]:n)},l.onerror=n=>i(n),l.readAsDataURL(e)})});return function(t){return r.apply(this,arguments)}}(),ee=(r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),l=((r={})=>{const e=Object.keys(r);return Object.keys(r).map(l=>l.toLocaleLowerCase()).reduce((l,n,h)=>(l[n]=r[e[h]],l),{})})(r.headers)["content-type"]||"";if("string"==typeof r.data)t.body=r.data;else if(l.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[h,s]of Object.entries(r.data||{}))n.set(h,s);t.body=n.toString()}else if(l.includes("multipart/form-data")){const n=new FormData;if(r.data instanceof FormData)r.data.forEach((s,E)=>{n.append(E,s)});else for(const s of Object.keys(r.data))n.append(s,r.data[s]);t.body=n;const h=new Headers(t.headers);h.delete("content-type"),t.headers=h}else(l.includes("application/json")||"object"==typeof r.data)&&(t.body=JSON.stringify(r.data));return t};class ae extends p{request(e){return(0,o.Z)(function*(){const t=ee(e,e.webFetchExtra),i=((r,e=!0)=>r?Object.entries(r).reduce((i,l)=>{const[n,h]=l;let s,E;return Array.isArray(h)?(E="",h.forEach(g=>{s=e?encodeURIComponent(g):g,E+=`${n}=${s}&`}),E.slice(0,-1)):(s=e?encodeURIComponent(h):h,E=`${n}=${s}`),`${i}&${E}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),l=i?`${e.url}?${i}`:e.url,n=yield fetch(l,t),h=n.headers.get("content-type")||"";let E,g,{responseType:s="text"}=n.ok?e:{};switch(h.includes("application/json")&&(s="json"),s){case"arraybuffer":case"blob":g=yield n.blob(),E=yield ie(g);break;case"json":E=yield n.json();break;default:E=yield n.text()}const z={};return n.headers.forEach((G,Y)=>{z[Y]=G}),{data:E,headers:z,status:n.status,url:n.url}})()}get(e){var t=this;return(0,o.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,o.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,o.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,o.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,o.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}w("CapacitorHttp",{web:()=>new ae})},5346:(V,$,d)=>{d.d($,{ez:()=>O,tP:()=>o});var o=function(y){return y.Documents="DOCUMENTS",y.Data="DATA",y.Library="LIBRARY",y.Cache="CACHE",y.External="EXTERNAL",y.ExternalStorage="EXTERNAL_STORAGE",y}(o||{}),O=function(y){return y.UTF8="utf8",y.ASCII="ascii",y.UTF16="utf16",y}(O||{})},1917:(V,$,d)=>{d.d($,{R:()=>y});var o=d(5861),O=d(4004),Z=d(6689),m=d(3401);let y=(()=>{var T;class j{constructor(c){this.storageService=c,this.currentWater={id:"null",scheduleId:"",amount:0},this.currentMealId=""}getAll(c){var u=this;return(0,o.Z)(function*(){return yield u.storageService.get(c)})()}set(c,u){this.getAll(c).then(f=>{f.push(u),this.storageService.set(c,f)})}getKeys(){this.storageService.getKeys().then(c=>{console.log(c)})}getById(c,u){var f=this;return(0,o.Z)(function*(){return yield f.storageService.get(c).then(v=>v.find(a=>a.id===u)).catch(v=>v)})()}getAllByRefId(c,u,f){var v=this;return(0,o.Z)(function*(){return yield v.getAll(c).then(a=>{let w=[];return a.forEach(B=>{B[u]===f&&w.push(B)}),w}).catch(a=>a)})()}addUpdateElement(c,u){var f=this;return(0,o.Z)(function*(){yield f.getAll(c).then(v=>{let a=!1;v.forEach(w=>{if(u.id===w.id)for(var B in a=!0,w)w[B]=u[B]}),!1===a&&v.push(u),f.storageService.set(c,v)})})()}seedSchedule(c){this.getAll("schedule").then(u=>{let f=[];for(let v=0;v<3;v++){let a=new Date;a.setDate(a.getDate()+v);let w={id:(0,O.Z)(),maternalNutritionId:c,startDate:a};f.push(w.id),u.push(w)}return this.storageService.set("schedule",u),f}).then(u=>{this.seedMeals(u)})}seedMeals(c){this.getAll("meal").then(u=>{let f=["breakfast","lunch","dinner"];c.forEach(v=>{f.forEach(a=>{let w={id:(0,O.Z)(),scheduleId:v,type:a,imageRef:"",food:null};u.push(w)})}),this.storageService.set("meal",u)})}updateCurrentSched(c){var u=this;return(0,o.Z)(function*(){return u.getById("schedule",c).then(f=>(u.currentSched=f,f))})()}updateMeals(c){var u=this;return(0,o.Z)(function*(){return u.getAllByRefId("meal","scheduleId",c).then(f=>{let v={breakfast:"",lunch:"",dinner:""};return f.forEach(a=>{switch(a.type){case"breakfast":v.breakfast=a.id;break;case"lunch":v.lunch=a.id;break;case"dinner":v.dinner=a.id}}),v})})()}updateMn(c){var u=this;return(0,o.Z)(function*(){return u.getById("maternalNutrition",c).then(f=>(u.currentMn=f,f))})()}}return(T=j).\u0275fac=function(c){return new(c||T)(Z.LFG(m.V))},T.\u0275prov=Z.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),j})()},4678:(V,$,d)=>{d.d($,{T:()=>v});var o=d(5861),O=d(2726),Z=d(5961);const m=(0,O.fo)("Camera",{web:()=>d.e(6468).then(d.bind(d,6468)).then(a=>new a.CameraWeb)});var y=d(5346);const T=(0,O.fo)("Filesystem",{web:()=>d.e(4522).then(d.bind(d,4522)).then(a=>new a.FilesystemWeb)}),j=(0,O.fo)("Preferences",{web:()=>d.e(899).then(d.bind(d,899)).then(a=>new a.PreferencesWeb)});var I=d(4004),c=d(6689),u=d(5472),f=d(1917);let v=(()=>{var a;class w{constructor(L,p){this.mNService=p,this.photos=[],this.PHOTO_STORAGE="photos",this.convertBlobToBase64=U=>new Promise((S,M)=>{const H=new FileReader;H.onerror=M,H.onload=()=>{S(H.result)},H.readAsDataURL(U)}),this.platform=L}addNewToGallery(L){var p=this;return(0,o.Z)(function*(){const U=yield m.getPhoto({resultType:Z.dk.Uri,source:Z.oK.Camera,quality:100}),S=yield p.savePicture(U);p.photos.unshift(S),j.set({key:p.PHOTO_STORAGE,value:JSON.stringify(p.photos)}),p.mNService.getById("meal",L).then(M=>{M.imageRef=S.id,p.mNService.addUpdateElement("meal",M)})})()}clearSaved(){return(0,o.Z)(function*(){yield j.clear()})()}loadSaved(){var L=this;return(0,o.Z)(function*(){const{value:p}=yield j.get({key:L.PHOTO_STORAGE});if(L.photos=p?JSON.parse(p):[],!L.platform.is("hybrid"))for(let U of L.photos){const S=yield T.readFile({path:U.filepath,directory:y.tP.Data});U.webviewPath=`data:image/jpeg;base64,${S.data}`}})()}savePicture(L){var p=this;return(0,o.Z)(function*(){const U=yield p.readAsBase64(L),S=Date.now()+".jpeg",M=yield T.writeFile({path:S,data:U,directory:y.tP.Data});return p.platform.is("hybrid")?{filepath:M.uri,webviewPath:O.dV.convertFileSrc(M.uri),id:(0,I.Z)()}:{filepath:S,webviewPath:L.webPath,id:(0,I.Z)()}})()}readAsBase64(L){var p=this;return(0,o.Z)(function*(){if(p.platform.is("hybrid"))return(yield T.readFile({path:L.path})).data;{const S=yield(yield fetch(L.webPath)).blob();return yield p.convertBlobToBase64(S)}})()}}return(a=w).\u0275fac=function(L){return new(L||a)(c.LFG(u.t4),c.LFG(f.R))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),w})()}}]);