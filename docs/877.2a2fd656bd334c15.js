"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[877],{9310:(z,V,u)=>{u.r(V),u.d(V,{BabyBookModule:()=>Q});var S=u(6814),a=u(9810),g=u(3699),n=u(6689);const O=["lorem"],e=["ipsum"],U=["neque"],w=["porro"],J=[{path:"",component:(()=>{var v;class D{constructor(C){this.router=C}ngOnInit(){}navigate(C){this.router.navigate([C])}}return(v=D).\u0275fac=function(C){return new(C||v)(n.Y36(g.F0))},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-baby-book"]],decls:30,vars:1,consts:[[1,"ion-padding",3,"fixed"],["size","4","data-testid","HealthRecord",1,"ion-padding",3,"click"],[1,"reduced-padding-bottom"],["name","medkit","color","primary","size","large"],["size","4","data-testid","MaternalNutrition",1,"ion-padding",3,"click"],["name","nutrition","color","secondary","size","large"],["size","4","data-testid","EducationalResources",1,"ion-padding",3,"click"],["name","school","color","tertiary","size","large"],["size","4","data-testid","HearingScreening",1,"ion-padding",3,"click"],["name","ear","color","secondary","size","large"]],template:function(C,P){1&C&&(n.TgZ(0,"ion-content")(1,"ion-grid",0)(2,"ion-row")(3,"h1"),n._uU(4,"Mother"),n.qZA()(),n.TgZ(5,"ion-row")(6,"ion-col",1),n.NdJ("click",function(){return P.navigate("/mother/baby-book/phr")}),n.TgZ(7,"div",2),n._UZ(8,"ion-icon",3),n.qZA(),n.TgZ(9,"ion-label"),n._uU(10,"Health Record"),n.qZA()(),n.TgZ(11,"ion-col",4),n.NdJ("click",function(){return P.navigate("/mother/baby-book/maternal-nutrition")}),n.TgZ(12,"div",2),n._UZ(13,"ion-icon",5),n.qZA(),n.TgZ(14,"ion-label"),n._uU(15,"Maternal Nutrition"),n.qZA()(),n.TgZ(16,"ion-col",6),n.NdJ("click",function(){return P.navigate("/mother/baby-book/educational-resources")}),n.TgZ(17,"div",2),n._UZ(18,"ion-icon",7),n.qZA(),n.TgZ(19,"ion-label"),n._uU(20,"Educational Resources"),n.qZA()()(),n.TgZ(21,"ion-row")(22,"h1"),n._uU(23,"Child"),n.qZA()(),n.TgZ(24,"ion-row")(25,"ion-col",8),n.NdJ("click",function(){return P.navigate("/mother/baby-book/hearing-screening")}),n.TgZ(26,"div",2),n._UZ(27,"ion-icon",9),n.qZA(),n.TgZ(28,"ion-label"),n._uU(29,"Hearing Screening"),n.qZA()()()()()),2&C&&(n.xp6(1),n.Q6J("fixed",!0))},dependencies:[a.wI,a.W2,a.jY,a.gu,a.Q$,a.Nd],styles:["ion-col[_ngcontent-%COMP%]{text-align:center}.reduced-padding-bottom[_ngcontent-%COMP%]{padding-bottom:5px}"]}),D})()},{path:"phr",loadChildren:()=>Promise.resolve().then(u.bind(u,5068)).then(v=>v.PersonalHealthRecordModule)},{path:"maternal-nutrition",loadChildren:()=>Promise.resolve().then(u.bind(u,4960)).then(v=>v.MaternalNutritionRoutingModule)},{path:"educational-resources",component:(()=>{var v;class D{constructor(){}ngOnInit(){}goToTarget(C){switch(C.detail.value){case"lorem":this.content.scrollToPoint(0,this.lorem.nativeElement.offsetTop,1e3);break;case"ipsum":this.content.scrollToPoint(0,this.ipsum.nativeElement.offsetTop,1e3);break;case"neque":this.content.scrollToPoint(0,this.neque.nativeElement.offsetTop,1e3);break;case"porro":this.content.scrollToPoint(0,this.porro.nativeElement.offsetTop,1e3)}}scrollToTop(){this.content.scrollToTop(500)}}return(v=D).\u0275fac=function(C){return new(C||v)},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-educational-resources"]],viewQuery:function(C,P){if(1&C&&(n.Gf(a.W2,5),n.Gf(O,5,n.SBq),n.Gf(e,5,n.SBq),n.Gf(U,5,n.SBq),n.Gf(w,5,n.SBq)),2&C){let F;n.iGM(F=n.CRH())&&(P.content=F.first),n.iGM(F=n.CRH())&&(P.lorem=F.first),n.iGM(F=n.CRH())&&(P.ipsum=F.first),n.iGM(F=n.CRH())&&(P.neque=F.first),n.iGM(F=n.CRH())&&(P.porro=F.first)}},decls:107,vars:0,consts:[["slot","start"],["slot","fixed",3,"click"],["name","chevron-up-outline"],["interface","action-sheet","label","Topic","label-placement","floating","fill","outline",2,"width","100%",3,"ionChange"],["value","lorem"],["value","ipsum"],["value","neque"],["value","porro"],["id","lorem"],["lorem",""],["alt","","src","../../../../assets/health_warnings.png"],[1,"ion-text-start"],["id","ipsum"],["ipsum",""],["alt","","src","../../../../assets/checkup.png"],["neque",""],["porro",""]],template:function(C,P){1&C&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n._uU(3,"Educational Resources"),n.qZA(),n.TgZ(4,"ion-buttons",0),n._UZ(5,"ion-back-button"),n.qZA()()(),n.TgZ(6,"ion-content")(7,"ion-button",1),n.NdJ("click",function(){return P.scrollToTop()}),n._UZ(8,"ion-icon",2),n.qZA(),n.TgZ(9,"ion-card")(10,"ion-item")(11,"ion-select",3),n.NdJ("ionChange",function(H){return P.goToTarget(H)}),n.TgZ(12,"ion-select-option",4),n._uU(13,"Sintomas"),n.qZA(),n.TgZ(14,"ion-select-option",5),n._uU(15,"Prenatal FAQ"),n.qZA(),n.TgZ(16,"ion-select-option",6),n._uU(17,"Ang Paglaki ni Baby"),n.qZA(),n.TgZ(18,"ion-select-option",7),n._uU(19,"Porro"),n.qZA()()()(),n.TgZ(20,"ion-card",8,9),n._UZ(22,"img",10),n.TgZ(23,"ion-card-header")(24,"ion-card-title"),n._uU(25,"Mga Sintomas"),n.qZA()(),n.TgZ(26,"ion-card-content",11)(27,"h2"),n._uU(28,"Nanay, kung maramdaman o mapansin ang alin man sa mga ito, pumunta agad sa health center!"),n.qZA(),n._UZ(29,"br"),n._uU(30," \u2022 Pamamaga o pamamanas ng mga binti, kamay, o mukha "),n._UZ(31,"br"),n._uU(32," \u2022 Sakit ng ulo, pagkahilo, o panlalabo ng paningin"),n._UZ(33,"br"),n._uU(34," \u2022 Pagdurugo ng pwerta"),n._UZ(35,"br"),n._uU(36," \u2022 Pamumutla"),n._UZ(37,"br"),n._uU(38," \u2022 Lagnat"),n._UZ(39,"br"),n._uU(40," \u2022 Pagsusuka"),n._UZ(41,"br"),n._uU(42," \u2022 Hirap na paghinga"),n._UZ(43,"br"),n._uU(44," \u2022 Mahapdi na pag-ihi"),n._UZ(45,"br"),n._uU(46," \u2022 Malabnaw/mala-tubig na lumalabas sa pwerta"),n._UZ(47,"br"),n._uU(48," \u2022 Kombulsyon o pagkawala ng malay"),n._UZ(49,"br"),n._uU(50," \u2022 Pagbagal o hindi paggalaw ng bata sa tiyan sa ikalawang trimester ng pagbubuntis (mas mababa sa 10 sipa sa loob ng 12 oras) "),n.qZA()(),n.TgZ(51,"ion-card",12,13),n._UZ(53,"img",14),n.TgZ(54,"ion-card-header")(55,"ion-card-title"),n._uU(56,"Ano ang nangyayari pag nagpapa-pre-natal tsek-up?"),n.qZA()(),n.TgZ(57,"ion-card-content",11),n._uU(58," Para masuri, malaman, at malunasan ang mga kondisyon na posibleng maging mapanganib sa iyo at kay baby"),n._UZ(59,"br")(60,"br"),n._uU(61," 1. Kukunin ang iyong medical history."),n._UZ(62,"br"),n._uU(63," 2. Susuriin ang iyong katawan."),n._UZ(64,"br"),n._uU(65," 3. Kukunin ang iyong blood pressure (BP) at timbang."),n._UZ(66,"br"),n._uU(67," 4. Gagawan ka ng laboratory tests tulad ng pagsusuri ng ihi."),n._UZ(68,"br")(69,"br"),n._uU(70," Para mapanatiling malusog kayo ni baby"),n._UZ(71,"br")(72,"br"),n._uU(73," 1. Bibigyan ka ng tableta ng iron na may folic acid na iyong iinumin sa panahon ng iyong pagbubuntis."),n._UZ(74,"br"),n._uU(75," 2. Babakunahan ka laban sa tetano."),n._UZ(76,"br"),n._uU(77," 3. Papayuhan ka tungkol sa malusog na pamumuhay, paggawa ng birth plan, pagpapasuso, at pagpaplano ng pamilya. "),n.qZA()(),n.TgZ(78,"ion-card",null,15)(80,"ion-card-header")(81,"ion-card-title"),n._uU(82,"Ang Paglaki ni Baby sa Sinapupunan ni Nanay"),n.qZA()(),n.TgZ(83,"ion-card-content",11),n._uU(84," Nanay, ito ang iyong buwanang patnubay sa paglaki ni baby sa loob ng iyong sinapupunan. Anuman ang iyong kainin at gawin ay maaaring makaapekto sa tamang paglaki at paghubog ni baby."),n._UZ(85,"br")(86,"br"),n.TgZ(87,"b"),n._uU(88,"0-4 na Linggo"),n.qZA(),n._UZ(89,"br"),n._uU(90," Ang sukat ni baby ay 2 milimetro ang haba. Nagsisimula nang mahubog ang kanyang utak, gulugod at mukha. Iwasan ang mga gamot na makakaapekto sa kanya. Tumingin sa magagandang larawan at tanawin."),n._UZ(91,"br")(92,"br"),n.TgZ(93,"b"),n._uU(94,"4-8 na Linggo"),n.qZA(),n._UZ(95,"br"),n._uU(96," Ang puso ay nagsisimula nang tumibok at ang iba\u2019t iba pang bahagi ng katawan ay nabubuo. Nagsisimula nang magkaroon ng hubog ang kanyang mukha, mata, at ang mga daliri sa kamay at paa. Makinig ng kaaya-ayang musika. Kailangang kumain ng mga pagkaing mayaman sa protina, calcium, iron, zinc, at folate. Anuman ang iyong kainin ay magbibigay ng sustansya kay baby. Subalit huwag kumain nang hihigit sa nararapat sapagkat maaaring sumobra ang iyong timbang."),n._UZ(97,"br")(98,"br"),n.TgZ(99,"b"),n._uU(100,"8-12 na Linggo"),n.qZA(),n._UZ(101,"br"),n._uU(102," Ang mga pangunahing bahagi ng katawan ay nahubog na. Ang ulo ay malaki kung ikukumpara sa katawan upang mabigyang puwang ang paglaki ng utak. Mayroon nang baba, ilong at talukap ng mata. Nakalutang si baby sa tubig ng bahay bata. Si baby ay sumisipa na nang paunti-unti. Huwag kalimutang uminom ng bitaminang may iron at folate araw-araw, magpahinga, at lumanghap ng sariwang hangin. Iwasan ang maalat na pagkain sapagkat ito ay magdudulot ng manas sa iyong mga binti, paa, at mga daliri. "),n.qZA()(),n.TgZ(103,"ion-card",null,16)(105,"ion-card-content",11),n._uU(106," Nunc ac gravida mauris. Cras a erat erat. Quisque sit amet aliquam eros, ut pellentesque metus. Donec varius, lectus nec venenatis eleifend, lorem mauris rhoncus orci, tincidunt euismod diam nulla ac nibh. Nam ultricies arcu et magna commodo, sit amet mollis risus feugiat. Morbi vitae euismod quam. Quisque ut erat et augue euismod interdum. Nullam ultricies erat ac ullamcorper rhoncus. Suspendisse euismod ut turpis vitae aliquam. Sed consectetur cursus tellus, a luctus elit pretium sed. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Donec risus diam, interdum sit amet ultricies eu, ornare sed risus. Aenean consectetur ut sem non rutrum. Nullam rhoncus augue ut sagittis laoreet. Nam cursus, velit eu tristique ullamcorper, magna ligula dictum velit, id fermentum ex ipsum eu quam. Curabitur lectus sem, convallis vel malesuada ut, lobortis in lacus. Nullam nec dictum ex. Nunc a felis ex. Vestibulum mollis lacinia aliquet. Mauris dapibus turpis sed neque maximus pulvinar. Nam vel nunc quis lacus mattis consequat sed vel tellus. "),n.qZA()()())},dependencies:[a.YG,a.Sm,a.PM,a.FN,a.Zi,a.Dq,a.W2,a.Gu,a.gu,a.Ie,a.t9,a.n0,a.wd,a.sr,a.QI,a.oU],styles:["ion-button[slot=fixed][_ngcontent-%COMP%]{top:91%;right:18px;opacity:.5}"]}),D})()},{path:"hearing-screening",loadChildren:()=>Promise.resolve().then(u.bind(u,8718)).then(v=>v.HearingScreeningRoutingModule)}];let G=(()=>{var v;class D{}return(v=D).\u0275fac=function(C){return new(C||v)},v.\u0275mod=n.oAB({type:v}),v.\u0275inj=n.cJS({imports:[g.Bz.forChild(J),g.Bz]}),D})();var Y=u(5068),R=u(4888),L=u(7605);let Q=(()=>{var v;class D{}return(v=D).\u0275fac=function(C){return new(C||v)},v.\u0275mod=n.oAB({type:v}),v.\u0275inj=n.cJS({imports:[S.ez,G,a.Pc,Y.PersonalHealthRecordModule,R.Z,L.q]}),D})()},877:(z,V,u)=>{u.r(V),u.d(V,{MotherModule:()=>e});var S=u(6814),a=u(3699),g=u(6689);const n=[{path:"",loadChildren:()=>Promise.resolve().then(u.bind(u,6734)).then(U=>U.TabsPageModule)}];let t=(()=>{var U;class w{}return(U=w).\u0275fac=function(J){return new(J||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({imports:[a.Bz.forChild(n),a.Bz]}),w})();var O=u(6734);let e=(()=>{var U;class w{}return(U=w).\u0275fac=function(J){return new(J||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({imports:[S.ez,t,O.TabsPageModule]}),w})()},6734:(z,V,u)=>{u.r(V),u.d(V,{TabsPageModule:()=>$});var S=u(6814),a=u(95),g=u(9810),n=u(3699),t=u(6689);let O=(()=>{var h;class N{constructor(){}ngOnInit(){}}return(h=N).\u0275fac=function(s){return new(s||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-tabs"]],decls:11,vars:0,consts:[["slot","bottom"],["tab","home"],["name","home"],["tab","baby-book"],["name","book"],["tab","user"],["name","person"]],template:function(s,c){1&s&&(t.TgZ(0,"ion-tabs")(1,"ion-tab-bar",0)(2,"ion-tab-button",1),t._UZ(3,"ion-icon",2),t._uU(4," Home "),t.qZA(),t.TgZ(5,"ion-tab-button",3),t._UZ(6,"ion-icon",4),t._uU(7," Journal "),t.qZA(),t.TgZ(8,"ion-tab-button",5),t._UZ(9,"ion-icon",6),t._uU(10," Profile "),t.qZA()()())},dependencies:[g.gu,g.yq,g.ZU,g.UN]}),N})();var e=u(5861),U=u(7398),w=u(5619),q=u(9739),J=u(6676),G=u(5472),Y=u(2548),R=u(3970);const L=["foodVitABarChartCanvas"],Q=["foodIronBarChartCanvas"],v=["suppVitABarChartCanvas"],D=["suppIronBarChartCanvas"],I=["vitaVsDoughnutCanvas"],C=["ironVsDoughnutCanvas"];function P(h,N){if(1&h&&(t.TgZ(0,"ion-title"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&h){const k=t.oxw();t.xp6(1),t.hij("Hello, ",t.lcZ(2,1,k.givenName$),"")}}function F(h,N){1&h&&(t.TgZ(0,"ion-card",17)(1,"ion-card-content")(2,"ion-row")(3,"ion-col",18),t._uU(4," Don\u2019t forget to record your food intake for breakfast today \u{1f950} "),t.qZA(),t.TgZ(5,"ion-col",19),t._UZ(6,"ion-img",20),t.qZA(),t.TgZ(7,"ion-col",21),t._UZ(8,"ion-icon",22),t.qZA()()()())}function H(h,N){1&h&&(t.TgZ(0,"ion-card",23)(1,"ion-card-content")(2,"ion-row")(3,"ion-col",18),t._uU(4," Don\u2019t forget to record your food intake for lunch today \u{1f957} "),t.qZA(),t.TgZ(5,"ion-col",19),t._UZ(6,"ion-img",24),t.qZA(),t.TgZ(7,"ion-col",21),t._UZ(8,"ion-icon",22),t.qZA()()()())}function W(h,N){1&h&&(t.TgZ(0,"ion-card",25)(1,"ion-card-content")(2,"ion-row")(3,"ion-col",18),t._uU(4," Don\u2019t forget to record your food intake for dinner today \u{1f958} "),t.qZA(),t.TgZ(5,"ion-col",19),t._UZ(6,"ion-img",26),t.qZA(),t.TgZ(7,"ion-col",21),t._UZ(8,"ion-icon",22),t.qZA()()()())}function X(h,N){if(1&h){const k=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){const d=t.CHM(k).$implicit,A=t.oxw();return t.KtG(A.navigate(d.id,d.mealType))}),t.TgZ(1,"div",13),t.YNc(2,F,9,0,"ion-card",14),t.YNc(3,H,9,0,"ion-card",15),t.YNc(4,W,9,0,"ion-card",16),t.qZA()()}if(2&h){const k=N.$implicit;t.xp6(1),t.Q6J("ngSwitch",k.mealType),t.xp6(1),t.Q6J("ngSwitchCase","breakfast"),t.xp6(1),t.Q6J("ngSwitchCase","lunch"),t.xp6(1),t.Q6J("ngSwitchCase","dinner")}}function K(h,N){1&h&&(t.TgZ(0,"div")(1,"ion-card",23)(2,"ion-card-content")(3,"ion-row")(4,"ion-col",27),t._uU(5," \u{1f44d} Nothing scheduled for today \u{1f44d} "),t.qZA()()()()())}function ee(h,N){if(1&h&&(t.TgZ(0,"ion-col",27)(1,"div",28)(2,"ion-label"),t._uU(3,"Today's Adequacy for Vitamin A"),t.qZA()(),t.TgZ(4,"ion-card",28)(5,"div",29),t._UZ(6,"ion-progress-bar",30),t.ALo(7,"async"),t.TgZ(8,"div",31),t._uU(9),t.ALo(10,"number"),t.ALo(11,"async"),t.qZA()()(),t.TgZ(12,"div",28)(13,"ion-label"),t._uU(14,"Today's Adequacy for Iron"),t.qZA()(),t.TgZ(15,"ion-card",28)(16,"div",29),t._UZ(17,"ion-progress-bar",30),t.ALo(18,"async"),t.TgZ(19,"div",31),t._uU(20),t.ALo(21,"number"),t.ALo(22,"async"),t.qZA()()()()),2&h){const k=t.oxw();t.xp6(6),t.Q6J("value",t.lcZ(7,4,k.vitAValue$)),t.xp6(3),t.hij("",t.xi3(10,6,t.lcZ(11,9,k.vitA$),"1.0-0"),"%"),t.xp6(8),t.Q6J("value",t.lcZ(18,11,k.ironValue$)),t.xp6(3),t.hij("",t.xi3(21,13,t.lcZ(22,16,k.iron$),"1.0-0"),"%")}}const te=[{path:"",component:O,children:[{path:"home",component:(()=>{var h;class N{get vitAValue$(){return this.vitA$.pipe((0,U.U)(s=>s/100))}get ironValue$(){return this.iron$.pipe((0,U.U)(s=>s/100))}constructor(s,c,d,A){this.router=s,this.navController=c,this.loadingService=d,this.pouchService=A,this.schedToday="ini",this.givenNameSubject=new w.X(""),this.givenName$=this.givenNameSubject.asObservable(),this.reminderSubject=new w.X([]),this.reminders$=this.reminderSubject.asObservable(),this.vitASubj=new w.X(0),this.vitA$=this.vitASubj.asObservable(),this.ironSubj=new w.X(0),this.iron$=this.ironSubj.asObservable()}ngOnInit(){var s=this;return(0,e.Z)(function*(){s.loadingService.show();try{yield s.pouchService.iniLocalDb()}catch(c){console.error("Error during initialization:",c)}finally{yield s.getGivenName(),yield s.loadFeed(),s.loadingService.hide()}})()}ionViewWillEnter(){return(0,e.Z)(function*(){})()}loadFeed(){var s=this;return(0,e.Z)(function*(){yield s.getTodaysMealRemindersAndAdequacy();let c=yield s.getChartData();c.food&&(s.setSourceOfVitAFromFoods(),s.setSourceOfIronFromFoods()),c.supp&&(s.setSourceOfVitAFromSupp(),s.setSourceOfIronFromSupp()),(c.food||c.supp)&&(s.setVitaVs(),s.setIronVs())})()}getGivenName(){var s=this;return(0,e.Z)(function*(){for(;;){try{let{givenName:c}=yield s.pouchService.motherDb.get(localStorage.getItem("selected_mother"));if(null!==c){s.givenNameSubject.next(c);break}}catch(c){console.log(c)}yield s.delay(1e3)}})()}getTodaysMealRemindersAndAdequacy(){var s=this;return(0,e.Z)(function*(){try{const c=String(J().format("YYYY-MM-DD")),{docs:d}=yield s.pouchService.schedDb.find({selector:{startDate:{$eq:c}}});if(console.log(d),0==d.length)return console.log("No scheds for today"),void(s.schedToday="false");s.schedToday="true",d.sort().reverse();const A=d.map(r=>r._id),B=["breakfast","lunch","dinner"],{docs:M}=yield s.pouchService.consumptionDb.find({selector:{$and:[{scheduleId:{$in:A}},{type:{$in:B}}]}});0==M.length&&console.log("No consumption for today");let y=[];d.forEach(r=>{const p=M.filter(m=>m.scheduleId===r._id);if(r.startDate===c){const m=new Date,o=new Date;o.setHours(8,0,0,0);const i=new Date;i.setHours(12,0,0,0);const l=new Date;return l.setHours(20,0,0,0),void(m>=l?(p.find(f=>"dinner"===f.type)||y.push({id:r._id,date:r.startDate,mealType:"dinner"}),p.find(f=>"lunch"===f.type)||y.push({id:r._id,date:r.startDate,mealType:"lunch"}),p.find(f=>"breakfast"===f.type)||y.push({id:r._id,date:r.startDate,mealType:"breakfast"})):m>=i?(p.find(f=>"lunch"===f.type)||y.push({id:r._id,date:r.startDate,mealType:"lunch"}),p.find(f=>"breakfast"===f.type)||y.push({id:r._id,date:r.startDate,mealType:"breakfast"})):m>=o&&(p.find(f=>"breakfast"===f.type)||y.push({id:r._id,date:r.startDate,mealType:"breakfast"})))}}),s.reminderSubject.next(y);const{docs:_}=yield s.pouchService.consumptionDb.find({selector:{scheduleId:A[0],validated:!0}}),b=_.reduce((r,p)=>r+p.retinolAmt,0);s.vitASubj.next(Math.min(b/433*100,100));const Z=_.reduce((r,p)=>r+p.ironAmt,0);s.ironSubj.next(Math.min(Z/31.7*100,100))}catch(c){console.log(c)}})()}getChartData(){var s=this;return(0,e.Z)(function*(){let c={food:!1,supp:!1};try{const A=["food","snack","drink"],{docs:B}=yield s.pouchService.consumptionDb.find({selector:{$and:[{validated:!0},{subtype:{$in:A}}]}}),{docs:M}=yield s.pouchService.consumptionDb.find({selector:{$and:[{validated:!0},{subtype:"supplement"}]}});if(B.length>0){c.food=!0;let y=[];for(var d=0;d<B.length;d++){let b=y.findIndex(({food:Z})=>Z.toUpperCase()==B[d].consumptionName.toUpperCase());b>-1?y[b].count=y[b].count+B[d].retinolAmt:y.push({order:0,food:B[d].consumptionName,count:B[d].retinolAmt})}y=y.sort(function(b,Z){return Z.count-b.count}),y.splice(5),y.map(b=>(b.order=y.indexOf(b)+1,b)),s.rankedFoodVitA=y;let _=[];for(d=0;d<B.length;d++){let Z=_.findIndex(({food:r})=>r.toUpperCase()==B[d].consumptionName.toUpperCase());Z>-1?_[Z].count=_[Z].count+B[d].ironAmt:_.push({order:0,food:B[d].consumptionName,count:B[d].ironAmt})}_=_.sort(function(b,Z){return Z.count-b.count}),_.splice(5),_.map(b=>(b.order=_.indexOf(b)+1,b)),s.rankedFoodIron=_,s.foodVitATotal=B.reduce((b,Z)=>b+Z.retinolAmt,0),s.foodIronTotal=B.reduce((b,Z)=>b+Z.ironAmt,0)}else console.log("No food/snack/drink consumption docs found");if(M.length>0){c.supp=!0;let y=[];for(d=0;d<M.length;d++){let Z=y.findIndex(({food:r})=>r.toUpperCase()==M[d].consumptionName.toUpperCase());Z>-1?y[Z]=y[Z]+M[d].retinolAmt:y.push({order:0,food:M[d].consumptionName,count:M[d].retinolAmt})}y=y.sort(function(b,Z){return Z.count-b.count}),y.splice(5),y.map(b=>(b.order=y.indexOf(b)+1,b)),s.rankedSuppVitA=y;let _=[];for(d=0;d<M.length;d++){let Z=_.findIndex(({food:r})=>r.toUpperCase()==M[d].consumptionName.toUpperCase());Z>-1?_[Z]=_[Z]+M[d].ironAmt:_.push({order:0,food:M[d].consumptionName,count:M[d].ironAmt})}_=_.sort(function(b,Z){return Z.count-b.count}),_.splice(5),_.map(b=>(b.order=_.indexOf(b)+1,b)),s.rankedSuppIron=_,s.suppVitATotal=M.reduce((b,Z)=>b+Z.retinolAmt,0),s.suppIronTotal=M.reduce((b,Z)=>b+Z.ironAmt,0)}else console.log("No supplement consumption docs found");return c}catch(A){return console.log(A),c}})()}handleRefresh(s){var c=this;return(0,e.Z)(function*(){setTimeout((0,e.Z)(function*(){yield c.pouchService.iniLocalDb(),yield c.getTodaysMealRemindersAndAdequacy();const d=yield c.getChartData();d.food&&(c.updateChartData(c.foodVitABarChart,c.rankedFoodVitA.map(A=>A.food),c.rankedFoodVitA.map(A=>A.count)),c.updateChartData(c.foodIronBarChart,c.rankedFoodIron.map(A=>A.food),c.rankedFoodIron.map(A=>A.count))),d.supp&&(c.updateChartData(c.suppVitABarChart,c.rankedSuppVitA.map(A=>A.food),c.rankedSuppVitA.map(A=>A.count)),c.updateChartData(c.suppIronBarChart,c.rankedSuppIron.map(A=>A.food),c.rankedSuppIron.map(A=>A.count))),(d.food||d.supp)&&(c.updateChartData(c.vitaVsDoughnut,["Food","Supplement"],[c.foodVitATotal,c.suppVitATotal]),c.updateChartData(c.ironVsDoughnut,["Food","Supplement"],[c.foodIronTotal,c.suppIronTotal])),s.target.complete()}),2e3)})()}setSourceOfVitAFromFoods(){this.foodVitABarChart=new q.kL(this.foodVitABarChartCanvas.nativeElement,{type:"bar",data:{labels:this.rankedFoodVitA.map(s=>s.food),datasets:[{label:"Source of Vit A from Foods",data:this.rankedFoodVitA.map(s=>s.count),backgroundColor:["rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],hoverBackgroundColor:["#FFCE56","#FF6384","#36A2EB","#FFCE56","#FF6384"]}]},options:{indexAxis:"y",plugins:{title:{display:!0,text:"Source of Vit A from Foods"},legend:{display:!1}}}})}updateChartData(s,c,d){s.data.labels=c,s.data.datasets[0].data=d,s.update()}setSourceOfIronFromFoods(){this.foodIronBarChart=new q.kL(this.foodIronBarChartCanvas.nativeElement,{type:"bar",data:{labels:this.rankedFoodIron.map(s=>s.food),datasets:[{label:"Source of Iron from Foods",data:this.rankedFoodIron.map(s=>s.count),backgroundColor:["rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],hoverBackgroundColor:["#FFCE56","#FF6384","#36A2EB","#FFCE56","#FF6384"]}]},options:{indexAxis:"y",plugins:{title:{display:!0,text:"Source of Iron from Foods"},legend:{display:!1}}}})}setSourceOfVitAFromSupp(){this.suppVitABarChart=new q.kL(this.suppVitABarChartCanvas.nativeElement,{type:"bar",data:{labels:this.rankedSuppVitA.map(s=>s.food),datasets:[{label:"Source of Vit A from Supplements",data:this.rankedSuppVitA.map(s=>s.count),backgroundColor:["rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],hoverBackgroundColor:["#FFCE56","#FF6384","#36A2EB","#FFCE56","#FF6384"]}]},options:{indexAxis:"y",plugins:{title:{display:!0,text:"Source of Vit A from Supplements"},legend:{display:!1}}}})}setSourceOfIronFromSupp(){this.suppIronBarChart=new q.kL(this.suppIronBarChartCanvas.nativeElement,{type:"bar",data:{labels:this.rankedSuppIron.map(s=>s.food),datasets:[{label:"Source of Iron from Supplements",data:this.rankedSuppIron.map(s=>s.count),backgroundColor:["rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],hoverBackgroundColor:["#FFCE56","#FF6384","#36A2EB","#FFCE56","#FF6384"]}]},options:{indexAxis:"y",plugins:{title:{display:!0,text:"Source of Iron from Supplements"},legend:{display:!1}}}})}setVitaVs(){this.vitaVsDoughnut=new q.kL(this.vitaVsDoughnutCanvas.nativeElement,{type:"doughnut",data:{labels:["Food","Supplement"],datasets:[{label:"Vitamin A amount in mg",data:[this.foodVitATotal?this.foodVitATotal:0,this.suppVitATotal?this.suppVitATotal:0],backgroundColor:["rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],hoverBackgroundColor:["#FFCE56","#FF6384","#36A2EB","#FFCE56","#FF6384"]}]},options:{plugins:{title:{display:!0,text:"Source of Vit A (Food vs Supplements)"},legend:{display:!1}}}})}setIronVs(){this.ironVsDoughnut=new q.kL(this.ironVsDoughnutCanvas.nativeElement,{type:"doughnut",data:{labels:["Food","Supplement"],datasets:[{label:"Iron amount in mg",data:[this.foodIronTotal?this.foodIronTotal:0,this.suppIronTotal?this.suppIronTotal:0],backgroundColor:["rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],hoverBackgroundColor:["#FFCE56","#FF6384","#36A2EB","#FFCE56","#FF6384"]}]},options:{plugins:{title:{display:!0,text:"Source of Iron (Food vs Supplements)"},legend:{display:!1}}}})}navigate(s,c){localStorage.setItem("selected_sched",s),this.router.navigate(["/mother/baby-book/maternal-nutrition/meal/"+c])}delay(s){return(0,e.Z)(function*(){return new Promise(c=>setTimeout(c,s))})()}}return(h=N).\u0275fac=function(s){return new(s||h)(t.Y36(n.F0),t.Y36(G.SH),t.Y36(Y.b),t.Y36(R.M))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-home"]],viewQuery:function(s,c){if(1&s&&(t.Gf(L,5),t.Gf(Q,5),t.Gf(v,5),t.Gf(D,5),t.Gf(I,5),t.Gf(C,5)),2&s){let d;t.iGM(d=t.CRH())&&(c.foodVitABarChartCanvas=d.first),t.iGM(d=t.CRH())&&(c.foodIronBarChartCanvas=d.first),t.iGM(d=t.CRH())&&(c.suppVitABarChartCanvas=d.first),t.iGM(d=t.CRH())&&(c.suppIronBarChartCanvas=d.first),t.iGM(d=t.CRH())&&(c.vitaVsDoughnutCanvas=d.first),t.iGM(d=t.CRH())&&(c.ironVsDoughnutCanvas=d.first)}},decls:41,vars:14,consts:[[4,"ngIf"],["slot","fixed",3,"ionRefresh"],[3,"click",4,"ngFor","ngForOf"],["size","12",4,"ngIf"],[3,"hidden"],[2,"position","relative","height","20vh","width","40vw"],["foodVitABarChartCanvas",""],["foodIronBarChartCanvas",""],["suppVitABarChartCanvas",""],["suppIronBarChartCanvas",""],["vitaVsDoughnutCanvas",""],["ironVsDoughnutCanvas",""],[3,"click"],[3,"ngSwitch"],["color","primary",4,"ngSwitchCase"],["color","secondary",4,"ngSwitchCase"],["color","tertiary",4,"ngSwitchCase"],["color","primary"],["size","8"],["size","3"],["src","../../../assets/english-breakfast.png"],["size","1",2,"align-content","center"],["size","large","name","arrow-forward-outline"],["color","secondary"],["src","../../../assets/fried-rice.png"],["color","tertiary"],["src","../../../assets/christmas-dinner.png"],["size","12"],[1,"ion-text-center"],[1,"progress-container"],["type","determinate",1,"thick-progress-bar",3,"value"],[1,"progress-label"]],template:function(s,c){1&s&&(t.TgZ(0,"ion-header")(1,"ion-toolbar"),t.YNc(2,P,3,3,"ion-title",0),t.ALo(3,"async"),t.qZA()(),t.TgZ(4,"ion-content")(5,"ion-refresher",1),t.NdJ("ionRefresh",function(A){return c.handleRefresh(A)}),t._UZ(6,"ion-refresher-content"),t.qZA(),t.YNc(7,X,5,4,"div",2),t.ALo(8,"async"),t.YNc(9,K,6,0,"div",0),t.YNc(10,ee,23,18,"ion-col",3),t.TgZ(11,"div",4)(12,"ion-card")(13,"ion-card-content"),t._UZ(14,"canvas",5,6),t.qZA()()(),t.TgZ(16,"div",4)(17,"ion-card")(18,"ion-card-content"),t._UZ(19,"canvas",5,7),t.qZA()()(),t.TgZ(21,"div",4)(22,"ion-card")(23,"ion-card-content"),t._UZ(24,"canvas",5,8),t.qZA()()(),t.TgZ(26,"div",4)(27,"ion-card")(28,"ion-card-content"),t._UZ(29,"canvas",5,9),t.qZA()()(),t.TgZ(31,"div",4)(32,"ion-card")(33,"ion-card-content"),t._UZ(34,"canvas",5,10),t.qZA()()(),t.TgZ(36,"div",4)(37,"ion-card")(38,"ion-card-content"),t._UZ(39,"canvas",5,11),t.qZA()()()()),2&s&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,10,c.givenName$)),t.xp6(5),t.Q6J("ngForOf",t.lcZ(8,12,c.reminders$)),t.xp6(2),t.Q6J("ngIf","false"==c.schedToday),t.xp6(1),t.Q6J("ngIf","true"==c.schedToday),t.xp6(1),t.Q6J("hidden",!c.foodVitABarChart),t.xp6(5),t.Q6J("hidden",!c.foodIronBarChart),t.xp6(5),t.Q6J("hidden",!c.suppVitABarChart),t.xp6(5),t.Q6J("hidden",!c.suppIronBarChart),t.xp6(5),t.Q6J("hidden",!c.vitaVsDoughnut),t.xp6(5),t.Q6J("hidden",!c.ironVsDoughnut))},dependencies:[S.sg,S.O5,S.RF,S.n9,g.PM,g.FN,g.wI,g.W2,g.Gu,g.gu,g.Xz,g.Q$,g.X7,g.nJ,g.Wo,g.Nd,g.wd,g.sr,S.Ov,S.JJ],styles:[".percent-bar-container[_ngcontent-%COMP%]{width:100%;height:20px;background-color:#ddd}.percent-bar[_ngcontent-%COMP%]{height:100%;background-color:#4caf50}.thick-progress-bar[_ngcontent-%COMP%]{height:23px}.progress-container[_ngcontent-%COMP%]{position:relative;width:100%}.progress-label[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:14px;color:#fff;pointer-events:none}"]}),N})()},{path:"baby-book",loadChildren:()=>Promise.resolve().then(u.bind(u,9310)).then(h=>h.BabyBookModule)},{path:"user",loadChildren:()=>Promise.resolve().then(u.bind(u,8329)).then(h=>h.UserModule)},{path:"",redirectTo:"/mother/home",pathMatch:"full"}]},{path:"",redirectTo:"/mother/home",pathMatch:"full"}];let ne=(()=>{var h;class N{}return(h=N).\u0275fac=function(s){return new(s||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[n.Bz.forChild(te),n.Bz]}),N})();var oe=u(9310),ae=u(8329);let $=(()=>{var h;class N{}return(h=N).\u0275fac=function(s){return new(s||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[S.ez,a.u5,g.Pc,ne,oe.BabyBookModule,ae.UserModule]}),N})()},8329:(z,V,u)=>{u.r(V),u.d(V,{UserModule:()=>Z});var S=u(6814),a=u(9810),g=u(95),n=u(3699),t=u(5861),O=u(3922),e=u(6689),U=u(1971),w=u(2333);const q=function(){return["./edit"]},J=function(){return["../pregnancy"]},G=function(){return["./rnd-access"]},Y=function(){return["/login/reset-password"]},R=function(){return["./delete"]},L=function(){return["../../login/login"]},Q={notifications:[{id:111,title:"Meal Reminder",body:"Don\u2019t forget to record your food intake for dinner!"}]};let v=(()=>{var r;class p{constructor(o,i){this.userService=o,this.authService=i,this.alertButtons=["Confirm"]}ngOnInit(){}logout(){this.userService.clearLogged(),localStorage.clear(),this.authService.logout()}deleteAccount(){this.userService.deleteUser()}scheduleNotification(){return(0,t.Z)(function*(){try{yield O.s.schedule(Q)}catch(o){console.log(o)}})()}onButtonClick(){var o=this;return(0,t.Z)(function*(){yield o.scheduleNotification()})()}}return(r=p).\u0275fac=function(o){return new(o||r)(e.Y36(U.K),e.Y36(w.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-profile"]],decls:32,vars:13,consts:[[3,"routerLink"],["trigger","present-alert","header","Deactivate Account","message","Are you sure you want to deactivate account?",3,"buttons"],[3,"routerLink","click"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"My Profile"),e.qZA()()(),e.TgZ(4,"ion-content")(5,"a",0)(6,"ion-card")(7,"ion-card-content"),e._uU(8," Edit Profile "),e.qZA()()(),e.TgZ(9,"a",0)(10,"ion-card")(11,"ion-card-content"),e._uU(12," Pregnancies "),e.qZA()()(),e.TgZ(13,"a",0)(14,"ion-card")(15,"ion-card-content"),e._uU(16," Linked Dieticians "),e.qZA()()(),e.TgZ(17,"a",0)(18,"ion-card")(19,"ion-card-content"),e._uU(20," Reset Password "),e.qZA()()(),e.TgZ(21,"a",0)(22,"ion-card")(23,"ion-card-content"),e._uU(24," Deactivate Account "),e._UZ(25,"ion-alert",1),e.qZA()()(),e.TgZ(26,"a",2),e.NdJ("click",function(){return i.logout()}),e.TgZ(27,"ion-card")(28,"ion-card-content"),e._uU(29," Sign Out "),e.qZA()()(),e._UZ(30,"br")(31,"br"),e.qZA()),2&o&&(e.xp6(5),e.Q6J("routerLink",e.DdM(7,q)),e.xp6(4),e.Q6J("routerLink",e.DdM(8,J)),e.xp6(4),e.Q6J("routerLink",e.DdM(9,G)),e.xp6(4),e.Q6J("routerLink",e.DdM(10,Y)),e.xp6(4),e.Q6J("routerLink",e.DdM(11,R)),e.xp6(4),e.Q6J("buttons",i.alertButtons),e.xp6(1),e.Q6J("routerLink",e.DdM(12,L)))},dependencies:[n.rH,a.Ge,a.PM,a.FN,a.W2,a.Gu,a.wd,a.sr,a.Fo],styles:["a[_ngcontent-%COMP%]{color:#000;width:100%;text-align:center}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:3px}"]}),p})();var D=u(5619),I=u(3970);function C(r,p){if(1&r&&(e.TgZ(0,"ion-item")(1,"ion-radio",7),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&r){const m=p.$implicit;e.xp6(1),e.s9C("value",m.id),e.xp6(1),e.Oqu(e.xi3(3,2,m.pregnancyStart,"longDate"))}}let P=(()=>{var r;class p{constructor(o,i){this.router=o,this.pouchService=i,this.pregsSubject=new D.X([]),this.pregs$=this.pregsSubject.asObservable()}ngOnInit(){}ionViewWillEnter(){this.getPregnacies()}getPregnacies(){var o=this;return(0,t.Z)(function*(){try{const l=(yield o.pouchService.pregnancyDb.allDocs({include_docs:!0})).rows.map(T=>({id:T.doc._id,motherId:T.doc.motherId,pregnancyStart:T.doc.pregnancyStart,expectedDueDate:T.doc.expectedDueDate,gravida:T.doc.gravida,parity:T.doc.parity,lmpStart:T.doc.lmpStart,lmpEnd:T.doc.lmpEnd,dateSelected:T.doc.dateSelected})),f=l.reduce((T,E)=>!T||new Date(E.dateSelected)>new Date(T.dateSelected)?E:T);o.selectedPreg=f.id,o.pregsSubject.next(l)}catch(i){console.log(i)}})()}updateId(o){this.selectedPreg=o}selectPreg(){var o=this;return(0,t.Z)(function*(){try{var i=yield o.pouchService.pregnancyDb.get(String(o.selectedPreg));i.dateSelected=(new Date).getTime(),yield o.pouchService.pregnancyDb.put(i),localStorage.setItem("selected_preg",o.selectedPreg),o.router.navigate(["/mother/user"])}catch(l){console.log(l)}})()}navigate(o){this.router.navigate([o])}}return(r=p).\u0275fac=function(o){return new(o||r)(e.Y36(n.F0),e.Y36(I.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pregnancy"]],decls:18,vars:4,consts:[["slot","start"],["slot","end"],[3,"click"],["lines","full"],[3,"value","ionChange"],[4,"ngFor","ngForOf"],[1,"d-flex","ion-justify-content-center"],["labelPlacement","end","justify","start",3,"value"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Pregnancies"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e.NdJ("click",function(){return i.navigate("/mother/pregnancy/form")}),e._uU(8,"New"),e.qZA()()()(),e.TgZ(9,"ion-content")(10,"ion-card")(11,"ion-list",3)(12,"ion-radio-group",4),e.NdJ("ionChange",function(f){return i.updateId(f.detail.value)}),e.YNc(13,C,4,5,"ion-item",5),e.ALo(14,"async"),e.qZA()()(),e.TgZ(15,"ion-row",6)(16,"ion-button",2),e.NdJ("click",function(){return i.selectPreg()}),e._uU(17,"Save"),e.qZA()()()),2&o&&(e.xp6(12),e.s9C("value",i.selectedPreg),e.xp6(1),e.Q6J("ngForOf",e.lcZ(14,2,i.pregs$)))},dependencies:[S.sg,a.YG,a.Sm,a.PM,a.W2,a.Gu,a.Ie,a.q_,a.B7,a.se,a.Nd,a.wd,a.sr,a.U5,a.QI,a.oU,S.Ov,S.uU]}),p})();var F=u(4532);let H=(()=>{var r;class p{constructor(o,i,l,f){var T=this;this.formBuilder=o,this.router=i,this.pouchService=l,this.utilsService=f,this.motherId=(0,t.Z)(function*(){try{return(yield T.pouchService.motherDb.allDocs({include_docs:!0,attachments:!0})).rows[0].doc._id}catch(E){return console.log(E),null}})}ngOnInit(){this.pregForm=this.formBuilder.group({pregnancyStart:[""],expectedDueDate:[""],gravida:[""],parity:[""],lmpStart:[""],lmpEnd:[""],dateSelected:[0]})}onSubmit(){var o=this;return(0,t.Z)(function*(){const i=o.pregForm.value,l={_id:o.utilsService.generateId(),motherId:yield o.motherId(),pregnancyStart:i.pregnancyStart,expectedDueDate:i.expectedDueDate,gravida:i.gravida,parity:i.parity,lmpStart:i.lmpStart,lmpEnd:i.lmpEnd,dateSelected:0},f={_id:o.utilsService.generateId(),pregnancyId:l._id,weightUnit:null,weight:null,heightUnit:null,heightCm:null,heightFt:null,heightIn:null,heartProblem:null,liverProblem:null,kidneyProblem:null,cancer:null,lungProblem:null,hypertension:null,diabetes:null,obesity:null,stroke:null,hiv:null,otherComorbidity:null,otherComorbidityIndicate:null},T={_id:o.utilsService.generateId(),pregnancyId:l._id};try{const E=yield o.pouchService.pregnancyDb.put(l),j=yield o.pouchService.phrDb.put(f),x=yield o.pouchService.mnDb.put(T);console.log(o.pouchService.pregnancyDb),console.log(E),console.log(j),console.log(x);const re=yield o.pouchService.pregnancyDb.replicate.to(o.pouchService.customRemote("pregnancies","per-user"),[{live:!0,retry:!0}]);console.log(re),o.navigate("/mother/pregnancy")}catch(E){console.log(E)}})()}navigate(o){this.router.navigate([o])}}return(r=p).\u0275fac=function(o){return new(o||r)(e.Y36(g.qu),e.Y36(n.F0),e.Y36(I.M),e.Y36(F.F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-form"]],decls:25,vars:1,consts:[["slot","start"],[3,"formGroup","ngSubmit"],[1,"reduced-margin-bottom"],["label","Start of Pregnancy","formControlName","pregnancyStart","type","date","labelPlacement","stacked"],["label","Expected Due Date","formControlName","expectedDueDate","type","date","labelPlacement","stacked"],["label","How many pregnancies have you had, including this one?","formControlName","gravida","type","number","labelPlacement","stacked"],["label","How many children do you currently have?","formControlName","parity","type","number","labelPlacement","stacked"],["label","When was your last menstrual period? (Date Started)","formControlName","lmpStart","type","date","labelPlacement","stacked"],["label","When was your last menstrual period? (Date Ended)","formControlName","lmpEnd","type","date","labelPlacement","stacked","labelPlacement","stacked"],[1,"d-flex","ion-justify-content-center"],["type","submit"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"New Pregnancy"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"form",1),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(8,"ion-card",2)(9,"ion-list")(10,"ion-item"),e._UZ(11,"ion-input",3),e.qZA(),e.TgZ(12,"ion-item"),e._UZ(13,"ion-input",4),e.qZA(),e.TgZ(14,"ion-item"),e._UZ(15,"ion-input",5),e.qZA(),e.TgZ(16,"ion-item"),e._UZ(17,"ion-input",6),e.qZA(),e.TgZ(18,"ion-item"),e._UZ(19,"ion-input",7),e.qZA(),e.TgZ(20,"ion-item"),e._UZ(21,"ion-input",8),e.qZA()()(),e.TgZ(22,"ion-row",9)(23,"ion-button",10),e._uU(24,"Submit"),e.qZA()()()()),2&o&&(e.xp6(7),e.Q6J("formGroup",i.pregForm))},dependencies:[a.YG,a.Sm,a.PM,a.W2,a.Gu,a.pK,a.Ie,a.q_,a.Nd,a.wd,a.sr,a.as,a.j9,a.oU,g._Y,g.JJ,g.JL,g.sg,g.u]}),p})();function W(r,p){if(1&r&&(e.TgZ(0,"ion-select-option",14),e._uU(1),e.qZA()),2&r){const m=p.$implicit;e.Q6J("value",m),e.xp6(1),e.Oqu(m)}}function X(r,p){if(1&r&&(e.TgZ(0,"ion-select-option",14),e._uU(1),e.qZA()),2&r){const m=p.$implicit;e.Q6J("value",m),e.xp6(1),e.hij("",m," ")}}function K(r,p){1&r&&(e.TgZ(0,"ion-item"),e._UZ(1,"ion-input",15),e.qZA())}let ee=(()=>{var r;class p{constructor(o,i,l,f){this.formBuilder=o,this.toastController=i,this.router=l,this.pouchService=f,this.incomeBrackets=["<P10,957","P10,957 to P21,914","P21,914 to P43,828","P43,828 to P76,66","P76,669 to P131,484","P131,483 to P219,140","P219,140 and above"],this.educationalAttainOptions=["Elementary","Elementary Graduate","High School","High School Graduate","College","College Graduate","Master's","Doctorate","Vocational","Others"]}ngOnInit(){this.motherForm=this.formBuilder.group({id:[""],userId:[""],email:[""],lastName:[""],givenName:[""],middleName:[""],birthDate:[""],familyMonthlyIncome:[""],highestEducationalAttainment:[""],highestEducationalAttainmentOthers:[""],roles:[""]}),this.getMother()}getMother(){var o=this;return(0,t.Z)(function*(){try{const i=yield o.pouchService.motherDb.get(localStorage.getItem("selected_mother"));let l;l="object"==typeof i.birthDate?i.birthDate.toISOString().substr(0,10):i.birthDate,o.motherForm.setValue({id:i._id,userId:i.userId,email:i.email,lastName:i.lastName,givenName:i.givenName,middleName:i.middleName,birthDate:l,familyMonthlyIncome:i.familyMonthlyIncome,highestEducationalAttainment:i.highestEducationalAttainment,highestEducationalAttainmentOthers:i.highestEducationalAttainmentOthers,roles:i.roles})}catch(i){console.log(i)}})()}onSubmit(){var o=this;return(0,t.Z)(function*(){const i=o.motherForm.value,l={_id:i.id,userId:i.userId,email:i.email,lastName:i.lastName,givenName:i.givenName,middleName:i.middleName,birthDate:i.birthDate,familyMonthlyIncome:i.familyMonthlyIncome,highestEducationalAttainment:i.highestEducationalAttainment,highestEducationalAttainmentOthers:i.highestEducationalAttainmentOthers,roles:i.roles};try{var f=yield o.pouchService.motherDb.get(l._id);l._rev=f._rev,yield o.pouchService.motherDb.put(l),yield o.pouchService.motherDb.replicate.to(o.pouchService.customRemote("mother","per-user"),{retry:!0}),yield o.pouchService.motherDb.replicate.to(o.pouchService.customRemote("mothers","shared"),{retry:!0}),o.router.navigate(["/mother/user"])}catch(T){console.log(T)}})()}presentToast(o){var i=this;return(0,t.Z)(function*(){yield(yield i.toastController.create({message:o,duration:1500,position:"top"})).present()})()}}return(r=p).\u0275fac=function(o){return new(o||r)(e.Y36(g.qu),e.Y36(a.yF),e.Y36(n.F0),e.Y36(I.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit"]],decls:31,vars:4,consts:[["slot","start"],[3,"formGroup","ngSubmit"],["label","Last Name","formControlName","lastName","labelPlacement","stacked"],["label","Given Name","formControlName","givenName","labelPlacement","stacked"],["label","Middle Name","formControlName","middleName","labelPlacement","stacked"],["label","Email Address","formControlName","email","labelPlacement","stacked"],["label","Birth Date","formControlName","birthDate","type","date","labelPlacement","stacked"],["interface","action-sheet","label","What's your family's monthly income?","formControlName","familyMonthlyIncome","labelPlacement","stacked"],[3,"value",4,"ngFor","ngForOf"],["interface","action-sheet","label","What is your highest educational attainment?","formControlName","highestEducationalAttainment","labelPlacement","stacked"],["selector",""],[4,"ngIf"],[1,"d-flex","ion-justify-content-center"],["type","submit"],[3,"value"],["label","Other educational attainment","formControlName","highestEducationalAttainmentOthers","labelPlacement","stacked"]],template:function(o,i){if(1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Edit Profile"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"form",1),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(8,"ion-card")(9,"ion-list")(10,"ion-item"),e._UZ(11,"ion-input",2),e.qZA(),e.TgZ(12,"ion-item"),e._UZ(13,"ion-input",3),e.qZA(),e.TgZ(14,"ion-item"),e._UZ(15,"ion-input",4),e.qZA(),e.TgZ(16,"ion-item"),e._UZ(17,"ion-input",5),e.qZA(),e.TgZ(18,"ion-item"),e._UZ(19,"ion-input",6),e.qZA(),e.TgZ(20,"ion-item")(21,"ion-select",7),e.YNc(22,W,2,2,"ion-select-option",8),e.qZA()(),e.TgZ(23,"ion-item")(24,"ion-select",9,10),e.YNc(26,X,2,2,"ion-select-option",8),e.qZA()(),e.YNc(27,K,2,0,"ion-item",11),e.qZA()(),e.TgZ(28,"ion-row",12)(29,"ion-button",13),e._uU(30,"Update"),e.qZA()()()()),2&o){const l=e.MAs(25);e.xp6(7),e.Q6J("formGroup",i.motherForm),e.xp6(15),e.Q6J("ngForOf",i.incomeBrackets),e.xp6(4),e.Q6J("ngForOf",i.educationalAttainOptions),e.xp6(1),e.Q6J("ngIf","Others"===l.value)}},dependencies:[S.sg,S.O5,a.YG,a.Sm,a.PM,a.W2,a.Gu,a.pK,a.Ie,a.q_,a.Nd,a.t9,a.n0,a.wd,a.sr,a.QI,a.j9,a.oU,g._Y,g.JJ,g.JL,g.sg,g.u]}),p})();const ie=["search"];function te(r,p){1&r&&(e.TgZ(0,"ion-item")(1,"ion-badge",11),e._uU(2,"approved"),e.qZA()())}function ne(r,p){1&r&&(e.TgZ(0,"ion-item")(1,"ion-badge",12),e._uU(2,"pending"),e.qZA()())}function oe(r,p){if(1&r&&(e.TgZ(0,"div")(1,"a",4)(2,"ion-card")(3,"ion-card-content")(4,"ion-row",5)(5,"ion-item",6),e._UZ(6,"ion-icon",7),e.qZA(),e.TgZ(7,"ion-item",8)(8,"ion-label",9),e._uU(9),e.qZA()(),e.YNc(10,te,3,0,"ion-item",10),e.YNc(11,ne,3,0,"ion-item",10),e.qZA()()()()()),2&r){const m=p.$implicit;e.xp6(1),e.MGl("routerLink","/mother/user/rnd-access/form/",m._id,""),e.xp6(8),e.AsE("",m.rndLastName,", ",m.rndGivenName,""),e.xp6(1),e.Q6J("ngIf","approved"==m.approved),e.xp6(1),e.Q6J("ngIf","pending"==m.approved)}}let ae=(()=>{var r;class p{constructor(o,i){this.router=o,this.pouchService=i,this.mothersSubject=new D.X([]),this.results=[],this.accessSubject=new D.X([]),this.access$=this.accessSubject.asObservable()}ngOnInit(){}ionViewWillEnter(){this.getMothersAccess()}navigate(o){localStorage.setItem("selected_rnd",o),this.router.navigate(["/mother/user/rnd-access/form/add"])}getMothersAccess(){var o=this;return(0,t.Z)(function*(){try{const l=(yield o.pouchService.accessDb.allDocs({include_docs:!0})).rows.map(x=>({_id:x.doc._id,motherId:x.doc.motherId,rndId:x.doc.rndId,rndGivenName:x.doc.rndGivenName,rndLastName:x.doc.rndLastName,approved:x.doc.approved}));o.accessSubject.next(l);const f=l.map(x=>x.rndId),j=(yield o.pouchService.allMothersDb.allDocs({include_docs:!0})).rows.map(x=>({id:x.doc._id,lastName:x.doc.lastName,givenName:x.doc.givenName,userId:x.doc.userId})).filter(x=>!f.includes(x.id));o.mothersSubject.next(j)}catch(i){console.log(i)}})()}}return(r=p).\u0275fac=function(o){return new(o||r)(e.Y36(n.F0),e.Y36(I.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-access"]],viewQuery:function(o,i){if(1&o&&e.Gf(ie,5),2&o){let l;e.iGM(l=e.CRH())&&(i.search=l.first)}},decls:13,vars:4,consts:[["slot","start"],[3,"fixed"],[1,"ion-padding-start"],[4,"ngFor","ngForOf"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],[1,"ion-justify-content-between"],[1,"ion-no-padding"],["name","person-outline",1,"ion-no-padding"],[1,"no-wrap","ion-no-padding"],[1,"ion-text-nowrap","ion-text-start"],[4,"ngIf"],["color","success","slot","end"],["color","secondary","slot","end"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Manage Dieticians"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-grid",1)(8,"ion-row",2)(9,"h2"),e._uU(10,"Linked Dieticians"),e.qZA()(),e.YNc(11,oe,12,5,"div",3),e.ALo(12,"async"),e.qZA()()),2&o&&(e.xp6(7),e.Q6J("fixed",!0),e.xp6(4),e.Q6J("ngForOf",e.lcZ(12,2,i.access$)))},dependencies:[S.sg,S.O5,n.rH,n.Od,a.yp,a.Sm,a.PM,a.FN,a.W2,a.jY,a.Gu,a.gu,a.Ie,a.Q$,a.Nd,a.wd,a.sr,a.oU,a.Fo,S.Ov]}),p})();var $=u(9862),h=u(9397),N=u(6306),k=u(8504);let s=(()=>{var r;class p{constructor(o,i,l,f){this.userService=o,this.router=i,this.toastController=l,this.http=f}ngOnInit(){}deleteAccount(){var o=this;const i=new $.WM({"Content-type":"application/json"}),l=localStorage.getItem("username");this.http.delete(`http://18.140.63.176:80/api/users/deactivate/${l}`,{headers:i}).pipe((0,h.b)(function(){var f=(0,t.Z)(function*(T){console.log(T),localStorage.clear(),o.router.navigate(["/login/login"])});return function(T){return f.apply(this,arguments)}}()),(0,N.K)(f=>(console.log(f.error),(0,k._)(()=>new Error(f.error.msg))))).subscribe()}presentToast(o){var i=this;return(0,t.Z)(function*(){yield(yield i.toastController.create({message:o,duration:1500,position:"top"})).present()})()}}return(r=p).\u0275fac=function(o){return new(o||r)(e.Y36(U.K),e.Y36(n.F0),e.Y36(a.yF),e.Y36($.eN))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-delete"]],decls:13,vars:0,consts:[["slot","start"],[1,"ion-padding","ion-text-center"],[1,"d-flex","ion-justify-content-center"],["type","submit",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Deactivate Account"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"div",1)(8,"p"),e._uU(9," Are you sure you want to deactivate account? "),e.qZA()(),e.TgZ(10,"ion-row",2)(11,"ion-button",3),e.NdJ("click",function(){return i.deleteAccount()}),e._uU(12,"Confirm Deactivation"),e.qZA()()())},dependencies:[a.YG,a.Sm,a.W2,a.Gu,a.Nd,a.wd,a.sr,a.oU],styles:[".d-flex[_ngcontent-%COMP%]{display:flex}"]}),p})(),c=(()=>{var r;class p{constructor(){}ngOnInit(){}}return(r=p).\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-notifications"]],decls:15,vars:0,consts:[["slot","start"],[1,"ion-padding"],[1,"border-1"],["size","10"],["size","2"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Notifications"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content",1)(7,"form")(8,"ion-list")(9,"ion-item",2)(10,"ion-col",3)(11,"p"),e._uU(12,"Notifications"),e.qZA()(),e.TgZ(13,"ion-col",4),e._UZ(14,"ion-checkbox"),e.qZA()()()()())},dependencies:[a.Sm,a.nz,a.wI,a.W2,a.Gu,a.Ie,a.q_,a.wd,a.sr,a.w,a.oU,g._Y,g.JL]}),p})();var d=u(5472);function A(r,p){if(1&r){const m=e.EpF();e.TgZ(0,"ion-button",7),e.NdJ("click",function(){e.CHM(m);const i=e.oxw();return e.KtG(i.setApproval("approved"))}),e._uU(1," Link Account "),e.qZA()}}function B(r,p){if(1&r){const m=e.EpF();e.TgZ(0,"ion-button",7),e.NdJ("click",function(){e.CHM(m);const i=e.oxw();return e.KtG(i.setApproval("approved"))}),e._uU(1," Approve "),e.qZA()}}function M(r,p){if(1&r){const m=e.EpF();e.TgZ(0,"ion-button",7),e.NdJ("click",function(){e.CHM(m);const i=e.oxw();return e.KtG(i.setApproval("denied"))}),e._uU(1," Deny "),e.qZA()}}let y=(()=>{var r;class p{constructor(o,i,l,f,T,E,j){this.route=o,this.formBuilder=i,this.toastController=l,this.router=f,this.pouchService=T,this.utilsService=E,this.navCtrl=j,this.id=String(this.route.snapshot.paramMap.get("id")),this.rndSubject=new D.X({givenName:"",lastName:""}),this.rnd$=this.rndSubject.asObservable()}ngOnInit(){this.accessForm=this.formBuilder.group({_id:[""],motherId:[""],rndId:[""],rndGivenName:[""],rndLastName:[""],approved:["pending"]})}ionViewWillEnter(){this.getAccessRND()}getAccessRND(){var o=this;return(0,t.Z)(function*(){if("null"!==o.id)try{let i=yield o.pouchService.accessDb.get(o.id);o.accessForm.setValue({_id:i._id,motherId:i.motherId,rndId:i.rndId,approved:i.approved,rndGivenName:i.rndGivenName,rndLastName:i.rndLastName}),o.rndSubject.next({givenName:i.rndGivenName,lastName:i.rndLastName})}catch(i){console.log(i)}else try{const i=yield o.pouchService.allMothersDb.get(localStorage.getItem("selected_rnd"));o.rndSubject.next({givenName:i.givenName,lastName:i.lastName})}catch(i){console.log(i)}})()}onSubmit(){var o=this;return(0,t.Z)(function*(){const i=o.accessForm.value,l={_id:i._id,motherId:i.motherId?i.motherId:localStorage.getItem("selected_mother"),rndId:i.rndId?i.rndId:localStorage.getItem("selected_rnd"),rndGivenName:i.rndGivenName,rndLastName:i.rndLastName,approved:i.approved};o.rndSubject.subscribe(f=>{l.rndGivenName=f.givenName,l.rndLastName=f.lastName});try{if(l._id){if("denied"===l.approval){const f=yield o.pouchService.accessDb.get(o.id);l._rev=f._rev,yield o.pouchService.accessDb.remove(l)}else{const f=yield o.pouchService.accessDb.get(o.id);l._rev=f._rev,yield o.pouchService.accessDb.put(l)}o.presentToast("RND Updated")}else l._id=o.utilsService.generateId(),yield o.pouchService.accessDb.put(l),o.presentToast("RND Added");yield o.pouchService.accessDb.replicate.to(o.pouchService.customRemote("access","per-user"),{retry:!0}),o.navCtrl.pop()}catch(f){console.log(f)}})()}setApproval(o){this.accessForm.patchValue({approved:o})}presentToast(o){var i=this;return(0,t.Z)(function*(){yield(yield i.toastController.create({message:o,duration:1500,position:"top"})).present()})()}}return(r=p).\u0275fac=function(o){return new(o||r)(e.Y36(n.gz),e.Y36(g.qu),e.Y36(a.yF),e.Y36(n.F0),e.Y36(I.M),e.Y36(F.F),e.Y36(d.SH))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-access-form"]],decls:20,vars:10,consts:[["slot","start"],[1,"ion-justify-content-between"],[1,"no-wrap"],[1,"ion-text-nowrap"],[3,"formGroup","ngSubmit"],[2,"display","flex","justify-content","center"],["type","submit",3,"click",4,"ngIf"],["type","submit",3,"click"]],template:function(o,i){if(1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Manage Permission"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-card")(8,"ion-card-content")(9,"ion-row",1)(10,"ion-item",2)(11,"ion-label",3),e._uU(12),e.ALo(13,"async"),e.ALo(14,"async"),e.qZA()()()()(),e.TgZ(15,"form",4),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(16,"ion-row",5),e.YNc(17,A,2,0,"ion-button",6),e.YNc(18,B,2,0,"ion-button",6),e.YNc(19,M,2,0,"ion-button",6),e.qZA()()()),2&o){let l;e.xp6(12),e.AsE("",null==(l=e.lcZ(13,6,i.rnd$))?null:l.lastName,", ",null==(l=e.lcZ(14,8,i.rnd$))?null:l.givenName,""),e.xp6(3),e.Q6J("formGroup",i.accessForm),e.xp6(2),e.Q6J("ngIf",""==i.accessForm.controls._id.value),e.xp6(1),e.Q6J("ngIf",""!=i.accessForm.controls._id.value&&"pending"==i.accessForm.controls.approved.value),e.xp6(1),e.Q6J("ngIf",""!=i.accessForm.controls._id.value&&"pending"==i.accessForm.controls.approved.value)}},dependencies:[S.O5,a.YG,a.Sm,a.PM,a.FN,a.W2,a.Gu,a.Ie,a.Q$,a.Nd,a.wd,a.sr,a.oU,g._Y,g.JL,g.sg,S.Ov]}),p})();const _=[{path:"",component:v},{path:"edit",component:ee},{path:"pregnancy",component:P},{path:"pregnancy/form",component:H},{path:"delete",component:s},{path:"notifications",component:c},{path:"rnd-access",component:ae},{path:"rnd-access/form",component:y},{path:"rnd-access/form/add",component:y},{path:"rnd-access/form/:id",component:y}];let b=(()=>{var r;class p{}return(r=p).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[n.Bz.forChild(_),n.Bz]}),p})(),Z=(()=>{var r;class p{}return(r=p).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[S.ez,b,a.Pc,g.UX]}),p})()}}]);