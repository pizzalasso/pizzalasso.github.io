"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2531],{2531:(P,b,r)=>{r.r(b),r.d(b,{AdminModule:()=>_});var f=r(6814),v=r(6958),e=r(6689);const n=[{path:"",loadChildren:()=>Promise.resolve().then(r.bind(r,9633)).then(m=>m.TabsPageModule)}];let a=(()=>{var m;class g{}return(m=g).\u0275fac=function(c){return new(c||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[v.Bz.forChild(n),v.Bz]}),g})();var y=r(9633);let _=(()=>{var m;class g{}return(m=g).\u0275fac=function(c){return new(c||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[f.ez,a,y.TabsPageModule]}),g})()},1486:(P,b,r)=>{r.r(b),r.d(b,{AdministrationModule:()=>R});var f=r(6814),v=r(6958),e=r(6689),n=r(9810);let a=(()=>{var o;class h{constructor(t){this.router=t}ngOnInit(){}navigate(){this.router.navigate(["admin/administration/users"])}navigateFCT(){this.router.navigate(["admin/administration/fct"])}}return(o=h).\u0275fac=function(t){return new(t||o)(e.Y36(v.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin"]],decls:33,vars:1,consts:[[1,"ion-padding",3,"fixed"],["size","4","data-testid","Users",1,"ion-padding",3,"click"],[1,"reduced-padding-bottom"],["name","person-outline","color","primary","size","large"],["size","4","data-testid","FCT",1,"ion-padding",3,"click"],["name","pizza-outline","color","primary","size","large"],["size","4",1,"ion-padding"],["name","folder-open-outline","color","primary","size","large"],["name","people-outline","color","medium","size","large"],["name","key-outline","color","medium","size","large"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Admin"),e.qZA()()(),e.TgZ(4,"ion-content")(5,"ion-grid",0)(6,"ion-row")(7,"ion-col",1),e.NdJ("click",function(){return i.navigate()}),e.TgZ(8,"div",2),e._UZ(9,"ion-icon",3),e.qZA(),e.TgZ(10,"ion-label"),e._uU(11,"Users"),e.qZA()(),e.TgZ(12,"ion-col",4),e.NdJ("click",function(){return i.navigateFCT()}),e.TgZ(13,"div",2),e._UZ(14,"ion-icon",5),e.qZA(),e.TgZ(15,"ion-label"),e._uU(16,"FCT"),e.qZA()(),e.TgZ(17,"ion-col",6)(18,"div",2),e._UZ(19,"ion-icon",7),e.qZA(),e.TgZ(20,"ion-label"),e._uU(21,"Resources"),e.qZA()()(),e.TgZ(22,"ion-row")(23,"ion-col",6)(24,"div",2),e._UZ(25,"ion-icon",8),e.qZA(),e.TgZ(26,"ion-label"),e._uU(27,"Roles"),e.qZA()(),e.TgZ(28,"ion-col",6)(29,"div",2),e._UZ(30,"ion-icon",9),e.qZA(),e.TgZ(31,"ion-label"),e._uU(32,"Privileges"),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("fixed",!0))},dependencies:[n.wI,n.W2,n.jY,n.Gu,n.gu,n.Q$,n.Nd,n.wd,n.sr],styles:["ion-col[_ngcontent-%COMP%]{text-align:center}.reduced-padding-bottom[_ngcontent-%COMP%]{padding-bottom:5px}"]}),h})(),y=(()=>{var o;class h{constructor(){}ngOnInit(){}}return(o=h).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-role"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," role works!\n"),e.qZA())}}),h})();var _=r(5861),m=r(3401);let g=(()=>{var o;class h{constructor(t,i){this.storageService=t,this.route=i}getAll(t){var i=this;return(0,_.Z)(function*(){return yield i.storageService.get(t)})()}getById(t,i){var A=this;return(0,_.Z)(function*(){return yield A.storageService.get(t).then(U=>U.find(I=>I.id===i)).catch(U=>U)})()}getAllByRefId(t,i,A){var U=this;return(0,_.Z)(function*(){return yield U.getAll(t).then(I=>{console.log(I);let S=[];return I.forEach(N=>{N[i]===A&&S.push(N)}),S}).catch(I=>I)})()}addUpdateElement(t,i){var A=this;return(0,_.Z)(function*(){console.log(t),console.log(i),yield A.getAll(t).then(U=>{let I=!1;U.forEach(S=>{if(i.id===S.id)for(var N in console.log("match found"),I=!0,S)S[N]=i[N]}),!1===I&&U.push(i),A.storageService.set(t,U)})})()}updateCurrentSched(t){var i=this;return(0,_.Z)(function*(){return i.getById("id",t).then(A=>(i.id=A,A))})()}}return(o=h).\u0275fac=function(t){return new(t||o)(e.LFG(m.V),e.LFG(v.gz))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),h})();function d(o,h){if(1&o&&(e.TgZ(0,"div")(1,"a",6)(2,"ion-card")(3,"ion-card-content")(4,"ion-row"),e._UZ(5,"ion-col",7),e.TgZ(6,"ion-col",8),e._uU(7),e.qZA(),e.TgZ(8,"ion-col",9),e._UZ(9,"ion-icon",10),e.qZA()()()()()()),2&o){const Z=h.$implicit;e.xp6(1),e.MGl("routerLink","/admin/administration/users/forms/edit/",Z.id,""),e.xp6(6),e.hij("",Z.username," ")}}let c=(()=>{var o;class h{constructor(t,i){this.router=t,this.adminService=i,this.users=[],this.data=["Anne Dela Cruz","Dona Reyes","Joan Dimaunahan","Maria Malakas"],this.results=[...this.data]}ngOnInit(){}ionViewWillEnter(){this.getUsers()}navigate(t){this.router.navigate([t])}handleInput(t){const i=t.target.value.toLowerCase();this.results=this.data.filter(A=>A.toLowerCase().indexOf(i)>-1)}getUsers(){this.users=[],this.adminService.getAll("users").then(t=>{t.forEach(i=>{"admin"!=i.username&&this.users.push(i)})})}}return(o=h).\u0275fac=function(t){return new(t||o)(e.Y36(v.F0),e.Y36(g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user"]],decls:12,vars:2,consts:[["slot","start"],["slot","end"],[3,"click"],[1,"ion-padding"],[3,"debounce","ionInput"],[4,"ngFor","ngForOf"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","2"],["size","8",1,"d-flex","ion-align-items-center","ion-justify-content-center"],["size","2",1,"d-flex","ion-align-items-center","ion-justify-content-center"],["name","close-circle","size","large","color","delete"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-buttons",1)(5,"ion-button",2),e.NdJ("click",function(){return i.navigate("/admin/administration/users/forms/add")}),e._uU(6,"Add"),e.qZA()(),e.TgZ(7,"ion-title"),e._uU(8,"Users"),e.qZA()()(),e.TgZ(9,"ion-content",3)(10,"ion-searchbar",4),e.NdJ("ionInput",function(U){return i.handleInput(U)}),e.qZA(),e.YNc(11,d,10,2,"div",5),e.qZA()),2&t&&(e.xp6(10),e.Q6J("debounce",1e3),e.xp6(1),e.Q6J("ngForOf",i.users))},dependencies:[f.sg,v.rH,v.Od,n.YG,n.Sm,n.PM,n.FN,n.wI,n.W2,n.Gu,n.gu,n.Nd,n.VI,n.wd,n.sr,n.j9,n.oU,n.Fo]}),h})();var s=r(4004),u=r(95),p=r(6188);function l(o,h){1&o&&(e.TgZ(0,"ion-title"),e._uU(1,"Add User"),e.qZA())}function T(o,h){1&o&&(e.TgZ(0,"ion-title"),e._uU(1,"Edit User"),e.qZA())}let F=(()=>{var o;class h{constructor(t,i,A,U,I){this.formBuilder=t,this.mNService=i,this.router=A,this.toastController=U,this.route=I}ngOnInit(){this.userForm=this.formBuilder.group({id:[""],username:[""],password:[""]}),this.getUsers()}onSubmit(){const t=this.userForm.value;this.mNService.addUpdateElement("users",{id:t.id,username:t.username,password:t.password}).then(()=>{this.presentToast("null"==this.userId?"User added":"User updated"),this.router.navigate(["/admin/administration/users"])})}getUsers(){this.userId=String(this.route.snapshot.paramMap.get("id")),"null"==this.userId?this.userForm.setValue({id:(0,s.Z)(),username:"",password:""}):this.mNService.getById("users",this.userId).then(t=>{this.userForm.setValue({id:t.id,username:t.username,password:t.password})})}showPassword(t){t.type="password"===t.type?"text":"password"}presentToast(t){var i=this;return(0,_.Z)(function*(){yield(yield i.toastController.create({message:t,duration:1500,position:"top"})).present()})()}}return(o=h).\u0275fac=function(t){return new(t||o)(e.Y36(u.qu),e.Y36(p.R),e.Y36(v.F0),e.Y36(n.yF),e.Y36(v.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit-user"]],decls:19,vars:3,consts:[[4,"ngIf"],["slot","start"],[3,"formGroup","ngSubmit"],["label","Username","formControlName","username","labelPlacement","stacked"],["label","Password","formControlName","password","type","password","labelPlacement","stacked"],["input",""],["name","eye-outline",3,"click"],[1,"d-flex","ion-justify-content-center"],["type","submit","color","medium"]],template:function(t,i){if(1&t){const A=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar"),e.YNc(2,l,2,0,"ion-title",0),e.YNc(3,T,2,0,"ion-title",0),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"form",2),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(8,"ion-card")(9,"ion-list")(10,"ion-item"),e._UZ(11,"ion-input",3),e.qZA(),e.TgZ(12,"ion-item"),e._UZ(13,"ion-input",4,5),e.TgZ(15,"ion-icon",6),e.NdJ("click",function(){e.CHM(A);const I=e.MAs(14);return e.KtG(i.showPassword(I))}),e.qZA()()()(),e.TgZ(16,"ion-row",7)(17,"ion-button",8),e._uU(18,"Save"),e.qZA()()()()}2&t&&(e.xp6(2),e.Q6J("ngIf","null"==i.userId),e.xp6(1),e.Q6J("ngIf","null"!=i.userId),e.xp6(4),e.Q6J("formGroup",i.userForm))},dependencies:[f.O5,n.YG,n.Sm,n.PM,n.W2,n.Gu,n.gu,n.pK,n.Ie,n.q_,n.Nd,n.wd,n.sr,n.j9,n.oU,u._Y,u.JJ,u.JL,u.sg,u.u]}),h})();function C(o,h){1&o&&(e.TgZ(0,"ion-card",7)(1,"ion-card-content")(2,"p",8),e._uU(3,"No vitamins indicated"),e.qZA()()())}function M(o,h){if(1&o&&(e.TgZ(0,"div")(1,"a",9)(2,"ion-card")(3,"ion-card-content")(4,"ion-row"),e._UZ(5,"ion-col",10),e.TgZ(6,"ion-col",11),e._uU(7),e.qZA(),e.TgZ(8,"ion-col",12),e._UZ(9,"ion-icon",13),e.qZA()()()()()()),2&o){const Z=h.$implicit;e.xp6(1),e.MGl("routerLink","/admin/administration/fct/forms/edit/",Z.id,""),e.xp6(6),e.hij("",Z.name_en," ")}}let E=(()=>{var o;class h{constructor(t,i){this.router=t,this.adminService=i,this.fct=[],this.noFct=!0,this.data=["Adobo","Menudo","Afritada","Caldereta"],this.results=[...this.data]}ngOnInit(){}ionViewWillEnter(){this.getFct()}navigate(t){console.log(t),console.log(),this.router.navigate([t])}handleInput(t){const i=t.target.value.toLowerCase();this.results=this.data.filter(A=>A.toLowerCase().indexOf(i)>-1)}getFct(){this.fct=[],this.adminService.getAll("fctFood").then(t=>{t.forEach(i=>{this.fct.push(i)}),0!=t.length&&(this.noFct=!1)})}}return(o=h).\u0275fac=function(t){return new(t||o)(e.Y36(v.F0),e.Y36(g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-food-composition-table"]],decls:13,vars:3,consts:[["slot","start"],["slot","end"],[3,"click"],[1,"ion-padding"],[3,"debounce","ionInput"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","2"],["size","8",1,"d-flex","ion-align-items-center","ion-justify-content-center"],["size","2",1,"d-flex","ion-align-items-center","ion-justify-content-center"],["name","close-circle","size","large","color","delete"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-buttons",1)(5,"ion-button",2),e.NdJ("click",function(){return i.navigate("admin/administration/fct/forms/add")}),e._uU(6,"Add"),e.qZA()(),e.TgZ(7,"ion-title"),e._uU(8,"Food Composition Table"),e.qZA()()(),e.TgZ(9,"ion-content",3)(10,"ion-searchbar",4),e.NdJ("ionInput",function(U){return i.handleInput(U)}),e.qZA(),e.YNc(11,C,4,0,"ion-card",5),e.YNc(12,M,10,2,"div",6),e.qZA()),2&t&&(e.xp6(10),e.Q6J("debounce",1e3),e.xp6(1),e.Q6J("ngIf",i.noFct),e.xp6(1),e.Q6J("ngForOf",i.fct))},dependencies:[f.sg,f.O5,v.rH,v.Od,n.YG,n.Sm,n.PM,n.FN,n.wI,n.W2,n.Gu,n.gu,n.Nd,n.VI,n.wd,n.sr,n.j9,n.oU,n.Fo]}),h})();function O(o,h){1&o&&(e.TgZ(0,"ion-title"),e._uU(1,"Add FCT"),e.qZA())}function D(o,h){1&o&&(e.TgZ(0,"ion-title"),e._uU(1,"Edit FCT"),e.qZA())}let L=(()=>{var o;class h{constructor(t,i,A,U,I){this.route=t,this.formBuilder=i,this.adminService=A,this.toastController=U,this.router=I}ngOnInit(){this.fctForm=this.formBuilder.group({id:[""],name_en:[""],species:[""],name_ph:[""],ediblePortion:[""],iron:[""],retinol:[""],betaCarotene:[""],retinolActivityEquivalent:[""]}),this.getFct()}onSubmit(){const t=this.fctForm.value,i={id:t.id,code:"",name_en:t.name_en,species:t.species,name_ph:t.name_ph,ediblePortion:t.ediblePortion,iron:t.iron,retinol:t.retinol,betaCarotene:t.betaCarotene,retinolActivityEquivalent:t.retinolActivityEquivalent};console.log(i),this.adminService.addUpdateElement("fctFood",i).then(()=>{this.presentToast("null"==this.fctId?"FCT added":"FCT updated"),this.router.navigate(["/admin/administration/fct"])})}getFct(){this.fctId=String(this.route.snapshot.paramMap.get("id")),console.log(this.fctId),"null"==this.fctId?(console.log("walang id"),this.fctForm.setValue({id:(0,s.Z)(),name_en:"",species:"",name_ph:"",ediblePortion:"",iron:"",retinol:"",betaCarotene:"",retinolActivityEquivalent:""})):this.adminService.getById("fctFood",this.fctId).then(t=>{console.log(t),this.fctForm.setValue({id:t.id,name_en:t.name_en,species:t.species,name_ph:t.name_ph,ediblePortion:t.ediblePortion,iron:t.iron,retinol:t.retinol,betaCarotene:t.betaCarotene,retinolActivityEquivalent:t.retinolActivityEquivalent})})}presentToast(t){var i=this;return(0,_.Z)(function*(){yield(yield i.toastController.create({message:t,duration:1500,position:"top"})).present()})()}}return(o=h).\u0275fac=function(t){return new(t||o)(e.Y36(v.gz),e.Y36(u.qu),e.Y36(g),e.Y36(n.yF),e.Y36(v.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit-fct"]],decls:29,vars:3,consts:[[4,"ngIf"],["slot","start"],[3,"formGroup","ngSubmit"],["label","English Name","formControlName","name_en","id","name","labelPlacement","stacked","value",""],["label","Filipino Name","formControlName","name_ph","id","name","labelPlacement","stacked","value",""],["label","Species","formControlName","species","id","name","labelPlacement","stacked","value",""],["label","Edible Portion","formControlName","ediblePortion","id","name","labelPlacement","stacked","value",""],["label","Iron","formControlName","iron","id","name","labelPlacement","stacked","value",""],["label","Retinol","formControlName","retinol","id","name","labelPlacement","stacked","value",""],["label","Beta Carotene","formControlName","betaCarotene","id","name","labelPlacement","stacked","value",""],["label","Equivalent Retinol Activity","formControlName","retinolActivityEquivalent","id","name","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit","color","medium"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e.YNc(2,O,2,0,"ion-title",0),e.YNc(3,D,2,0,"ion-title",0),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"form",2),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(8,"ion-card")(9,"ion-list")(10,"ion-item"),e._UZ(11,"ion-input",3),e.qZA(),e.TgZ(12,"ion-item"),e._UZ(13,"ion-input",4),e.qZA(),e.TgZ(14,"ion-item"),e._UZ(15,"ion-input",5),e.qZA(),e.TgZ(16,"ion-item"),e._UZ(17,"ion-input",6),e.qZA(),e.TgZ(18,"ion-item"),e._UZ(19,"ion-input",7),e.qZA(),e.TgZ(20,"ion-item"),e._UZ(21,"ion-input",8),e.qZA(),e.TgZ(22,"ion-item"),e._UZ(23,"ion-input",9),e.qZA(),e.TgZ(24,"ion-item"),e._UZ(25,"ion-input",10),e.qZA()()(),e.TgZ(26,"ion-row",11)(27,"ion-button",12),e._uU(28,"Save"),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("ngIf","null"==i.fctId),e.xp6(1),e.Q6J("ngIf","null"!=i.fctId),e.xp6(4),e.Q6J("formGroup",i.fctForm))},dependencies:[f.O5,n.YG,n.Sm,n.PM,n.W2,n.Gu,n.pK,n.Ie,n.q_,n.Nd,n.wd,n.sr,n.j9,n.oU,u._Y,u.JJ,u.JL,u.sg,u.u]}),h})();const B=[{path:"",component:a},{path:"administration/users",component:c},{path:"administration/users/forms/add",component:F},{path:"administration/users/forms/edit/:id",component:F},{path:"administration/role",component:y},{path:"administration/fct",component:E},{path:"administration/fct/forms/add",component:L},{path:"administration/fct/forms/edit/:id",component:L}];let J=(()=>{var o;class h{}return(o=h).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[v.Bz.forChild(B),v.Bz]}),h})(),R=(()=>{var o;class h{}return(o=h).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[f.ez,J,n.Pc,u.UX]}),h})()},6188:(P,b,r)=>{r.d(b,{R:()=>y});var f=r(5861),v=r(4004),e=r(6689),n=r(3401),a=r(6958);let y=(()=>{var _;class m{constructor(d,c){this.storageService=d,this.route=c,this.currentWater={id:"null",scheduleId:"",amount:0},this.currentMealId=""}getAll(d){var c=this;return(0,f.Z)(function*(){return yield c.storageService.get(d)})()}set(d,c){this.getAll(d).then(s=>{s.push(c),this.storageService.set(d,s)})}getKeys(){this.storageService.getKeys().then(d=>{console.log(d)})}getById(d,c){var s=this;return(0,f.Z)(function*(){return yield s.storageService.get(d).then(u=>u.find(p=>p.id===c)).catch(u=>u)})()}getAllByRefId(d,c,s){var u=this;return(0,f.Z)(function*(){return yield u.getAll(d).then(p=>{console.log(p);let l=[];return p.forEach(T=>{T[c]===s&&l.push(T)}),l}).catch(p=>p)})()}addUpdateElement(d,c){var s=this;return(0,f.Z)(function*(){console.log(d),console.log(c),yield s.getAll(d).then(u=>{let p=!1;u.forEach(l=>{if(c.id===l.id)for(var T in console.log("match found"),p=!0,l)l[T]=c[T]}),!1===p&&u.push(c),s.storageService.set(d,u)})})()}seedSchedule(d){this.getAll("schedule").then(c=>{let s=[];new Date(2023,11,4),new Date(2023,11,5),new Date(2023,11,6);for(let p=0;p<3;p++){let l=new Date;l.setDate(l.getDate()+p);let T={id:(0,v.Z)(),maternalNutritionId:d,startDate:l};s.push(T.id),c.push(T)}return this.storageService.set("schedule",c),s}).then(c=>{this.seedMeals(c)})}seedMeals(d){this.getAll("meal").then(c=>{let s=["breakfast","lunch","dinner"];d.forEach(u=>{s.forEach(p=>{let l={id:(0,v.Z)(),scheduleId:u,type:p,imageRef:""};c.push(l)})}),this.storageService.set("meal",c)})}updateCurrentSched(d){var c=this;return(0,f.Z)(function*(){return c.getById("schedule",d).then(s=>(c.currentSched=s,s))})()}updateMeals(d){var c=this;return(0,f.Z)(function*(){return c.getAllByRefId("meal","scheduleId",d).then(s=>{let u={breakfast:"",lunch:"",dinner:""};return s.forEach(p=>{switch(p.type){case"breakfast":u.breakfast=p.id;break;case"lunch":u.lunch=p.id;break;case"dinner":u.dinner=p.id}}),u})})()}updateMn(d){var c=this;return(0,f.Z)(function*(){return c.getById("maternalNutrition",d).then(s=>(c.currentMn=s,s))})()}}return(_=m).\u0275fac=function(d){return new(d||_)(e.LFG(n.V),e.LFG(a.gz))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),m})()},9633:(P,b,r)=>{r.r(b),r.d(b,{TabsPageModule:()=>c});var f=r(6814),v=r(95),e=r(9810),n=r(6958),a=r(6689);const _=[{path:"",component:(()=>{var s;class u{constructor(){}ngOnInit(){}}return(s=u).\u0275fac=function(l){return new(l||s)},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-tabs"]],decls:11,vars:0,consts:[["slot","bottom"],["tab","patient"],["name","home-outline"],["tab","administration"],["name","briefcase-outline"],["tab","user"],["name","person-outline"]],template:function(l,T){1&l&&(a.TgZ(0,"ion-tabs")(1,"ion-tab-bar",0)(2,"ion-tab-button",1),a._UZ(3,"ion-icon",2),a._uU(4," Home "),a.qZA(),a.TgZ(5,"ion-tab-button",3),a._UZ(6,"ion-icon",4),a._uU(7," Admin "),a.qZA(),a.TgZ(8,"ion-tab-button",5),a._UZ(9,"ion-icon",6),a._uU(10," Profile "),a.qZA()()())},dependencies:[e.gu,e.yq,e.ZU,e.UN]}),u})(),children:[{path:"administration",loadChildren:()=>Promise.resolve().then(r.bind(r,1486)).then(s=>s.AdministrationModule)},{path:"user",loadChildren:()=>Promise.resolve().then(r.bind(r,9968)).then(s=>s.UserModule)},{path:"patient",loadChildren:()=>r.e(8630).then(r.bind(r,8630)).then(s=>s.PatientModule)},{path:"",redirectTo:"/admin/patient",pathMatch:"full"}]},{path:"",redirectTo:"/admin/patient",pathMatch:"full"}];let m=(()=>{var s;class u{}return(s=u).\u0275fac=function(l){return new(l||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[n.Bz.forChild(_),n.Bz]}),u})();var g=r(1486),d=r(9968);let c=(()=>{var s;class u{}return(s=u).\u0275fac=function(l){return new(l||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[f.ez,v.u5,e.Pc,m,g.AdministrationModule,d.UserModule]}),u})()},9968:(P,b,r)=>{r.r(b),r.d(b,{UserModule:()=>p});var f=r(6814),v=r(6958),e=r(6689),n=r(1971),a=r(9810);const y=function(){return["/login/reset-password"]},_=function(){return["./delete"]},m=function(){return["../../login/login"]};let g=(()=>{var l;class T{constructor(C){this.userService=C}ngOnInit(){}logout(){this.userService.clearLoggedUserMother()}deleteAccount(){this.userService.deleteUser()}}return(l=T).\u0275fac=function(C){return new(C||l)(e.Y36(n.K))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-profile"]],decls:17,vars:6,consts:[[3,"routerLink"],[3,"routerLink","click"]],template:function(C,M){1&C&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"My Profile"),e.qZA()()(),e.TgZ(4,"ion-content")(5,"a",0)(6,"ion-card")(7,"ion-card-content"),e._uU(8," Reset Password "),e.qZA()()(),e.TgZ(9,"a",0)(10,"ion-card")(11,"ion-card-content"),e._uU(12," Delete Account "),e.qZA()()(),e.TgZ(13,"a",1),e.NdJ("click",function(){return M.logout()}),e.TgZ(14,"ion-card")(15,"ion-card-content"),e._uU(16," Sign Out "),e.qZA()()()()),2&C&&(e.xp6(5),e.Q6J("routerLink",e.DdM(3,y)),e.xp6(4),e.Q6J("routerLink",e.DdM(4,_)),e.xp6(4),e.Q6J("routerLink",e.DdM(5,m)))},dependencies:[v.rH,a.PM,a.FN,a.W2,a.Gu,a.wd,a.sr,a.Fo],styles:["a[_ngcontent-%COMP%]{color:#000;width:100%;text-align:center}"]}),T})();var d=r(5861);const s=[{path:"",component:g},{path:"delete",component:(()=>{var l;class T{constructor(C,M,E){this.userService=C,this.router=M,this.toastController=E}ngOnInit(){}deleteAccount(){this.userService.deleteUser().then(()=>{this.presentToast("Account deleted"),this.router.navigate(["/login/login"])})}presentToast(C){var M=this;return(0,d.Z)(function*(){yield(yield M.toastController.create({message:C,duration:1500,position:"top"})).present()})()}}return(l=T).\u0275fac=function(C){return new(C||l)(e.Y36(n.K),e.Y36(v.F0),e.Y36(a.yF))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-delete"]],decls:13,vars:0,consts:[["slot","start"],[1,"ion-padding","ion-text-center"],[1,"d-flex","ion-justify-content-center"],["type","submit","color","medium",3,"click"]],template:function(C,M){1&C&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Delete Account"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"div",1)(8,"p"),e._uU(9," Are you sure you want to delete account? "),e.qZA()(),e.TgZ(10,"ion-row",2)(11,"ion-button",3),e.NdJ("click",function(){return M.deleteAccount()}),e._uU(12,"Confirm Deletion"),e.qZA()()())},dependencies:[a.YG,a.Sm,a.W2,a.Gu,a.Nd,a.wd,a.sr,a.oU],styles:[".d-flex[_ngcontent-%COMP%]{display:flex}"]}),T})()}];let u=(()=>{var l;class T{}return(l=T).\u0275fac=function(C){return new(C||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[v.Bz.forChild(s),v.Bz]}),T})(),p=(()=>{var l;class T{}return(l=T).\u0275fac=function(C){return new(C||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[f.ez,u,a.Pc]}),T})()},1971:(P,b,r)=>{r.d(b,{K:()=>a});var f=r(5861),v=r(6689),e=r(3989),n=r(3401);let a=(()=>{var y;class _{constructor(g,d){this.loggedService=g,this.storageService=d,this.isLoggedIn=!1}ngOnInit(){}set(g){var d=this;return(0,f.Z)(function*(){yield d.getAll().then(c=>{c.push(g),d.storageService.set("users",c)})})()}getAll(){var g=this;return(0,f.Z)(function*(){return yield g.storageService.get("users")})()}clearLoggedUserMother(){var g=this;return(0,f.Z)(function*(){g.isLoggedIn=!1,g.loggedService.logged={givenName:"",userId:"",motherId:"",pregnancyId:"",maternalNutritionId:""},g.loggedService.clearLogged()})()}clearLogged(){var g=this;return(0,f.Z)(function*(){g.isLoggedIn=!1,g.loggedService.logged={givenName:"",userId:"",motherId:"",pregnancyId:"",maternalNutritionId:""},g.loggedService.clearLogged()})()}updatePassword(g){var d=this;return(0,f.Z)(function*(){return new Promise(function(){var c=(0,f.Z)(function*(s,u){try{const p=yield d.getAll(),l=yield d.loggedService.getLoggedData();p.some(T=>{l.userId===T.id&&(T.password=g,d.storageService.set("users",p),s(!0))})}catch(p){u(p)}});return function(s,u){return c.apply(this,arguments)}}())})()}deleteUser(){var g=this;return(0,f.Z)(function*(){g.loggedService.getLoggedData().then(d=>{g.getAll().then(c=>{c.forEach((s,u)=>{d.userId==s.id&&c.splice(u,1)}),g.storageService.set("users",c)})})})()}clear(){var g=this;return(0,f.Z)(function*(){yield g.storageService.clear()})()}}return(y=_).\u0275fac=function(g){return new(g||y)(v.LFG(e.A),v.LFG(n.V))},y.\u0275prov=v.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),_})()},3989:(P,b,r)=>{r.d(b,{A:()=>n});var f=r(5861),v=r(6689),e=r(3401);let n=(()=>{var a;class y{assignValueToPromise(){this.givenNamePromise=new Promise(m=>{setTimeout(()=>{m("Hello, this is the resolved value!")},2e3)})}assignValueToPromise2(){console.log("assignedvalueto"),this.givenNamePromise=new Promise(m=>{this.getLoggedData().then(g=>{console.log(g.givenName),m(g.givenName)})})}constructor(m){this.storageService=m,this.isLoggedIn=!1,this.logged={givenName:"",userId:"",motherId:"",pregnancyId:"",maternalNutritionId:""},this.assignValueToPromise2(),console.log("logged constructor")}getLoggedData(){var m=this;return(0,f.Z)(function*(){return yield m.storageService.get("logged")})()}set(m){var g=this;return(0,f.Z)(function*(){return yield g.storageService.set("logged",m)})()}clearLoggedUserMother(){var m=this;return(0,f.Z)(function*(){m.isLoggedIn=!1,yield m.storageService.set("loggedUser",null)})()}clearLogged(){var m=this;return(0,f.Z)(function*(){m.isLoggedIn=!1,yield m.storageService.set("logged",null)})()}}return(a=y).\u0275fac=function(m){return new(m||a)(v.LFG(e.V))},a.\u0275prov=v.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),y})()}}]);