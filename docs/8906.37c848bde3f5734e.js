"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8906],{3669:(H,Y,p)=>{p.d(Y,{GW:()=>l,dk:()=>I,oK:()=>m});var m=function(e){return e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS",e}(m||{}),l=function(e){return e.Rear="REAR",e.Front="FRONT",e}(l||{}),I=function(e){return e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl",e}(I||{})},5346:(H,Y,p)=>{p.d(Y,{ez:()=>l});var l=function(C){return C.UTF8="utf8",C.ASCII="ascii",C.UTF16="utf16",C}(l||{})},8718:(H,Y,p)=>{p.r(Y),p.d(Y,{HearingScreeningRoutingModule:()=>w});var m=p(3699),l=p(5861),I=p(5619),e=p(6689),C=p(3970),A=p(6814),t=p(9810);function O(Z,M){if(1&Z&&(e.TgZ(0,"div")(1,"a",4)(2,"ion-card",5)(3,"ion-card-content",5),e._uU(4),e.qZA()()()()),2&Z){const S=M.$implicit;e.xp6(1),e.MGl("routerLink","/mother/baby-book/hearing-screening/list/",S.id,""),e.xp6(3),e.lnq(" ",S.lastName,", ",S.firstName," ",S.middleName," ")}}let Q=(()=>{var Z;class M{constructor(h,_,U){this.router=h,this.route=_,this.pouchService=U,this.hsSubject=new I.X([]),this.hs$=this.hsSubject.asObservable(),this.noHs=!0}ngOnInit(){}ionViewWillEnter(){var h=this;return(0,l.Z)(function*(){yield h.getHearingScreening()})()}navigate(h){this.router.navigate([h])}getHearingScreening(){var h=this;return(0,l.Z)(function*(){try{const{rows:_}=yield h.pouchService.hsDb.allDocs({include_docs:!0});console.log(_),h.noHs=!(_.length>0);const U=_.map(F=>({id:F.doc._id,lastName:F.doc.patient.lastName,firstName:F.doc.patient.firstName,middleName:F.doc.patient.middleName}));h.hsSubject.next(U)}catch(_){console.log(_)}})()}}return(Z=M).\u0275fac=function(h){return new(h||Z)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(C.M))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-hearing-screening"]],decls:12,vars:3,consts:[["slot","start"],["slot","end"],[3,"click"],[4,"ngFor","ngForOf"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],[1,"ion-justify-content-start"]],template:function(h,_){1&h&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Select Child"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e.NdJ("click",function(){return _.navigate("/mother/baby-book/hearing-screening/add")}),e._uU(8,"Add Child"),e.qZA()()()(),e.TgZ(9,"ion-content"),e.YNc(10,O,5,4,"div",3),e.ALo(11,"async"),e.qZA()),2&h&&(e.xp6(10),e.Q6J("ngForOf",e.lcZ(11,1,_.hs$)))},dependencies:[A.sg,m.rH,m.Od,t.YG,t.Sm,t.PM,t.FN,t.W2,t.Gu,t.wd,t.sr,t.oU,t.Fo,A.Ov]}),M})();var R=p(6676);let L=(()=>{var Z;class M{constructor(h,_,U){this.router=h,this.route=_,this.pouchService=U,this.hsSubject=new I.X(null),this.hs$=this.hsSubject.asObservable()}ngOnInit(){}ionViewWillEnter(){var h=this;return(0,l.Z)(function*(){yield h.getHearingScreening()})()}getHearingScreening(){var h=this;return(0,l.Z)(function*(){try{const _=localStorage.getItem("selected_patient");let U=yield h.pouchService.hsDb.get(_);console.log(U);const F=U.hearingScreening.filter(N=>N.id===localStorage.getItem("selected_hs"))[0];console.log(F),F.dateOfScreening=R(F.dateOfScreening).format("MMMM, DD, YYYY"),h.hsSubject.next(F)}catch(_){console.log(_)}})()}}return(Z=M).\u0275fac=function(h){return new(h||Z)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(C.M))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-detail"]],decls:120,vars:48,consts:[["slot","start"],[1,"ion-text-center"],[1,"padding-top-10"],["size","10"],["size","2"],["disabled","true",3,"checked"],[1,"border-1"],["size","6"],["size","12"]],template:function(h,_){if(1&h&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Screening Results"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"h3",1),e._uU(8,"Risk Factors"),e.qZA(),e.TgZ(9,"ion-card",2)(10,"ion-list")(11,"ion-item")(12,"ion-col",3)(13,"p"),e._uU(14,"Hyperbilirubinemia requiring transfusion"),e.qZA()(),e.TgZ(15,"ion-col",4),e._UZ(16,"ion-checkbox",5),e.ALo(17,"async"),e.qZA()(),e.TgZ(18,"ion-item",6)(19,"ion-col",3)(20,"p"),e._uU(21,"NICU admission more than 48 hours"),e.qZA()(),e.TgZ(22,"ion-col",4),e._UZ(23,"ion-checkbox",5),e.ALo(24,"async"),e.qZA()(),e.TgZ(25,"ion-item",6)(26,"ion-col",3)(27,"p"),e._uU(28,"Family history of permanent childhood hearing loss"),e.qZA()(),e.TgZ(29,"ion-col",4),e._UZ(30,"ion-checkbox",5),e.ALo(31,"async"),e.qZA()(),e.TgZ(32,"ion-item",6)(33,"ion-col",3)(34,"p"),e._uU(35,"Features associated with syndrome"),e.qZA()(),e.TgZ(36,"ion-col",4),e._UZ(37,"ion-checkbox",5),e.ALo(38,"async"),e.qZA()(),e.TgZ(39,"ion-item",6)(40,"ion-col",3)(41,"p"),e._uU(42,"Ventilation more than 48 hours"),e.qZA()(),e.TgZ(43,"ion-col",4),e._UZ(44,"ion-checkbox",5),e.ALo(45,"async"),e.qZA()(),e.TgZ(46,"ion-item",6)(47,"ion-col",3)(48,"p"),e._uU(49,"Ototoxic medication"),e.qZA()(),e.TgZ(50,"ion-col",4),e._UZ(51,"ion-checkbox",5),e.ALo(52,"async"),e.qZA()(),e.TgZ(53,"ion-item",6)(54,"ion-col",3)(55,"p"),e._uU(56,"Craniofacial anomalies with deformed pinna or ear canal"),e.qZA()(),e.TgZ(57,"ion-col",4),e._UZ(58,"ion-checkbox",5),e.ALo(59,"async"),e.qZA()(),e.TgZ(60,"ion-item",6)(61,"ion-col",3)(62,"p"),e._uU(63,"In-utero infections"),e.qZA()(),e.TgZ(64,"ion-col",4),e._UZ(65,"ion-checkbox",5),e.ALo(66,"async"),e.qZA()()()(),e.TgZ(67,"h3",1),e._uU(68,"Screening"),e.qZA(),e.TgZ(69,"ion-card",2)(70,"ion-list")(71,"ion-item")(72,"ion-col",7)(73,"p",1),e._uU(74,"Date of Screening"),e.qZA(),e.TgZ(75,"div",1),e._uU(76),e.ALo(77,"async"),e.qZA()(),e.TgZ(78,"ion-col",7)(79,"p",1),e._uU(80,"Time of Screening"),e.qZA(),e.TgZ(81,"div",1),e._uU(82),e.ALo(83,"async"),e.qZA()()(),e.TgZ(84,"ion-item",6)(85,"ion-col",7)(86,"p",1),e._uU(87,"Type of Screening"),e.qZA(),e.TgZ(88,"div",1),e._uU(89),e.ALo(90,"async"),e.qZA()(),e.TgZ(91,"ion-col",7)(92,"p",1),e._uU(93,"Method of Screening"),e.qZA(),e.TgZ(94,"div",1),e._uU(95),e.ALo(96,"async"),e.qZA()()(),e.TgZ(97,"ion-item",6)(98,"ion-col",7)(99,"p",1),e._uU(100,"Result Right"),e.qZA(),e.TgZ(101,"div",1),e._uU(102),e.ALo(103,"async"),e.qZA()(),e.TgZ(104,"ion-col",7)(105,"p",1),e._uU(106,"Result Left"),e.qZA(),e.TgZ(107,"div",1),e._uU(108),e.ALo(109,"async"),e.qZA()()(),e.TgZ(110,"ion-item",6)(111,"ion-col",8)(112,"p"),e._uU(113),e.ALo(114,"async"),e.qZA()()(),e.TgZ(115,"ion-item",6)(116,"ion-col",8)(117,"p"),e._uU(118),e.ALo(119,"async"),e.qZA()()()()()()),2&h){let U,F,N,$,B,X,K,j,ee,te,ne,u,T,y,a,r;e.xp6(16),e.Q6J("checked","Yes"==(null==(U=e.lcZ(17,16,_.hs$))?null:U.hyperbilirubinemia)),e.xp6(7),e.Q6J("checked","Yes"==(null==(F=e.lcZ(24,18,_.hs$))?null:F.nicu)),e.xp6(7),e.Q6J("checked","Yes"==(null==(N=e.lcZ(31,20,_.hs$))?null:N.familyHistoryHearingLoss)),e.xp6(7),e.Q6J("checked","Yes"==(null==($=e.lcZ(38,22,_.hs$))?null:$.featuresAssociated)),e.xp6(7),e.Q6J("checked","Yes"==(null==(B=e.lcZ(45,24,_.hs$))?null:B.ventilation)),e.xp6(7),e.Q6J("checked","Yes"==(null==(X=e.lcZ(52,26,_.hs$))?null:X.ototoxicMedication)),e.xp6(7),e.Q6J("checked","Yes"==(null==(K=e.lcZ(59,28,_.hs$))?null:K.craniofacialAnomalies)),e.xp6(7),e.Q6J("checked","Yes"==(null==(j=e.lcZ(66,30,_.hs$))?null:j.inUteroInfections)),e.xp6(11),e.hij(" ",null==(ee=e.lcZ(77,32,_.hs$))?null:ee.dateOfScreening,""),e.xp6(6),e.hij(" ",null==(te=e.lcZ(83,34,_.hs$))?null:te.timeOfScreening,""),e.xp6(7),e.Oqu(null==(ne=e.lcZ(90,36,_.hs$))?null:ne.typeOfScreening),e.xp6(6),e.Oqu(null==(u=e.lcZ(96,38,_.hs$))?null:u.methodOfScreening),e.xp6(7),e.Oqu(null==(T=e.lcZ(103,40,_.hs$))?null:T.resultRight),e.xp6(6),e.Oqu(null==(y=e.lcZ(109,42,_.hs$))?null:y.resultLeft),e.xp6(5),e.hij("Screener Name: ",null==(a=e.lcZ(114,44,_.hs$))?null:a.screenerName,""),e.xp6(5),e.hij("NHSRC Seal Control Number: ",null==(r=e.lcZ(119,46,_.hs$))?null:r.nhsrcSealControlNumber,"")}},dependencies:[t.Sm,t.PM,t.nz,t.wI,t.W2,t.Gu,t.Ie,t.q_,t.wd,t.sr,t.w,t.oU,A.Ov],styles:[".border-1[_ngcontent-%COMP%]{border-top:2px solid white}.padding-top-10[_ngcontent-%COMP%]{padding-top:10px}ion-checkbox[_ngcontent-%COMP%]{--size: 28px;--checkbox-background: white}"]}),M})();function W(Z,M){if(1&Z){const S=e.EpF();e.TgZ(0,"div")(1,"a",5),e.NdJ("click",function(){const U=e.CHM(S).$implicit,F=e.oxw();return e.KtG(F.setIds(U.id))}),e.TgZ(2,"ion-card")(3,"ion-card-content",6)(4,"div",7)(5,"ion-label",7),e._uU(6),e.qZA()(),e.TgZ(7,"ion-row",8)(8,"ion-col",9),e._uU(9),e.qZA(),e.TgZ(10,"ion-col",9),e._uU(11),e.qZA()()()()()()}if(2&Z){const S=M.$implicit;e.xp6(6),e.Oqu(S.dateOfScreening),e.xp6(3),e.hij("Result Left: ",S.resultLeft,""),e.xp6(2),e.hij("Result Right: ",S.resultRight,"")}}let x=(()=>{var Z;class M{constructor(h,_,U){this.router=h,this.route=_,this.pouchService=U,this.alertButtons=["Untrack"],this.hsSubject=new I.X([]),this.hs$=this.hsSubject.asObservable(),this.id=String(this.route.snapshot.paramMap.get("id"))}ngOnInit(){}ionViewWillEnter(){var h=this;return(0,l.Z)(function*(){localStorage.setItem("selected_patient",String(h.route.snapshot.paramMap.get("id"))),yield h.getHearingScreening()})()}getHearingScreening(){var h=this;return(0,l.Z)(function*(){try{const U=(yield h.pouchService.hsDb.get(h.id)).hearingScreening.map(F=>({id:F.id,dateOfScreening:R(F.dateOfScreening).format("MMMM, DD, YYYY"),resultLeft:F.resultLeft,resultRight:F.resultRight}));console.log(U),h.hsSubject.next(U)}catch(_){console.log(_)}})()}delete(h){var _=this;return(0,l.Z)(function*(){if("backdrop"!==h.detail.role)try{var U=yield _.pouchService.hsDb.get(_.id),F=yield _.pouchService.hsDb.remove(U);console.log(F),_.router.navigate(["/mother/baby-book/hearing-screening"])}catch(N){console.log(N)}})()}setIds(h){localStorage.setItem("selected_hs",h)}}return(Z=M).\u0275fac=function(h){return new(h||Z)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(C.M))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-list"]],decls:13,vars:4,consts:[["slot","start"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Untrack Screenings","message","Are you sure you want to untrack hearing screening record?",3,"buttons","ionAlertDidDismiss"],[4,"ngFor","ngForOf"],["routerLink","/mother/baby-book/hearing-screening/details","routerLinkActive","active","ariaCurrentWhenActive","page",3,"click"],[1,"ion-no-padding"],[1,"ion-padding"],[1,"ion-padding","border-1"],["size","6"]],template:function(h,_){1&h&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Screenings"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e._uU(8,"Remove"),e.qZA(),e.TgZ(9,"ion-alert",3),e.NdJ("ionAlertDidDismiss",function(F){return _.delete(F)}),e.qZA()()()(),e.TgZ(10,"ion-content"),e.YNc(11,W,12,3,"div",4),e.ALo(12,"async"),e.qZA()),2&h&&(e.xp6(9),e.Q6J("buttons",_.alertButtons),e.xp6(2),e.Q6J("ngForOf",e.lcZ(12,2,_.hs$)))},dependencies:[A.sg,m.rH,m.Od,t.Ge,t.YG,t.Sm,t.PM,t.FN,t.wI,t.W2,t.Gu,t.Q$,t.Nd,t.wd,t.sr,t.oU,t.Fo,A.Ov],styles:[".border-1[_ngcontent-%COMP%]{border-top:2px solid white}"]}),M})();var E=p(95),z=p(9862);const g=[{path:"",component:Q},{path:"list",component:x},{path:"details",component:L},{path:"details/:id",component:L},{path:"list/:id",component:x},{path:"add",component:(()=>{var Z;class M{constructor(h,_,U,F){this.formBuilder=h,this.http=_,this.pouchService=U,this.router=F,this.baseUrl="http://18.140.63.176:80/api/hearing-screening/userdata"}ngOnInit(){this.regForm=this.formBuilder.group({patientNumber:[null]})}getUserData(){this.handleInput(this.regForm.value.patientNumber).subscribe(_=>{const U=_.hearingScreening.results.map(N=>({id:N.modelId,dateOfScreening:N.dataModel.dateOfScreening,timeOfScreening:N.dataModel.timeOfScreening,typeOfScreening:N.dataModel.typeOfScreening,methodOfScreening:N.dataModel.methodOfScreening,resultLeft:N.dataModel.resultLeft,resultRight:N.dataModel.resultRight,screenerName:N.dataModel.screenerName,nhsrcSealControlNumber:N.dataModel.nhsrcSealControlNumber,hyperbilirubinemia:N.dataModel.hyperbilirubinemia,nicu:N.dataModel.nicu,familyHistoryHearingLoss:N.dataModel.familyHistoryHearingLoss,featuresAssociated:N.dataModel.featuresAssociated,ventilation:N.dataModel.ventilation,ototoxicMedication:N.dataModel.ototoxicMedication,craniofacialAnomalies:N.dataModel.craniofacialAnomalies,inUteroInfections:N.dataModel.inUteroInfections}));this.pouchService.hsDb.post({patient:_.patient.dataModel,hearingScreening:U}).then(()=>{this.pouchService.hsDb.replicate.to(this.pouchService.customRemote("hearingscreening","per-user"),{retry:!0})}),this.router.navigate(["/mother/baby-book/hearing-screening"])},_=>{console.error("Error:",_)})}handleInput(h){return this.http.get(`${this.baseUrl}/${h}`)}}return(Z=M).\u0275fac=function(h){return new(h||Z)(e.Y36(E.qu),e.Y36(z.eN),e.Y36(C.M),e.Y36(m.F0))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-form"]],decls:15,vars:1,consts:[["slot","start"],[3,"formGroup","ngSubmit"],["label","Patient Number","formControlName","patientNumber","labelPlacement","stacked","placeholder","Patient Number"],[1,"d-flex","ion-justify-content-center"],["type","submit"]],template:function(h,_){1&h&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Add Child"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"form",1),e.NdJ("ngSubmit",function(){return _.getUserData()}),e.TgZ(8,"ion-card")(9,"ion-list")(10,"ion-item"),e._UZ(11,"ion-input",2),e.qZA()()(),e.TgZ(12,"ion-row",3)(13,"ion-button",4),e._uU(14,"Track"),e.qZA()()()()),2&h&&(e.xp6(7),e.Q6J("formGroup",_.regForm))},dependencies:[t.YG,t.Sm,t.PM,t.W2,t.Gu,t.pK,t.Ie,t.q_,t.Nd,t.wd,t.sr,t.j9,t.oU,E._Y,E.JJ,E.JL,E.sg,E.u]}),M})()}];let w=(()=>{var Z;class M{}return(Z=M).\u0275fac=function(h){return new(h||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[m.Bz.forChild(g),m.Bz]}),M})()},7605:(H,Y,p)=>{p.d(Y,{q:()=>A});var m=p(6814),l=p(9810),I=p(8718),e=p(95),C=p(6689);let A=(()=>{var t;class O{}return(t=O).\u0275fac=function(R){return new(R||t)},t.\u0275mod=C.oAB({type:t}),t.\u0275inj=C.cJS({imports:[m.ez,I.HearingScreeningRoutingModule,l.Pc,e.UX,e.u5]}),O})()},4960:(H,Y,p)=>{p.r(Y),p.d(Y,{MaternalNutritionRoutingModule:()=>Pe});var m=p(3699),l=p(5861),I=p(5619),e=p(6689),C=p(3970),A=p(6814),t=p(9810);function O(i,d){if(1&i&&(e.TgZ(0,"a",3)(1,"ion-card")(2,"ion-card-content")(3,"ion-row"),e._UZ(4,"ion-col",4),e.TgZ(5,"ion-col",5),e._uU(6),e.ALo(7,"date"),e.qZA(),e._UZ(8,"ion-col",6),e.qZA()()()()),2&i){const c=d.$implicit;e.MGl("routerLink","/mother/baby-book/maternal-nutrition/log/",c.id,""),e.xp6(6),e.hij(" ",e.xi3(7,2,c.startDate,"longDate")," ")}}let Q=(()=>{var i;class d{constructor(n,o){this.router=n,this.pouchService=o,this.schedsSubject=new I.X([]),this.scheds$=this.schedsSubject.asObservable()}ionViewWillEnter(){this.getScheds()}ngOnInit(){}navigate(){this.router.navigate(["/mother/maternal-nutrition/phr"])}getScheds(){var n=this;return(0,l.Z)(function*(){try{const o=yield n.pouchService.schedDb.find({selector:{maternalNutritionId:localStorage.getItem("selected_mn")}});n.noScheds=!(o.docs.length>0);const s=o.docs.map(f=>({id:f._id,maternalNutritionId:f.maternalNutritionId,startDate:f.startDate}));s.sort((f,k)=>f.startDate<k.startDate?-1:f.startDate>k.startDate?1:0).reverse(),n.schedsSubject.next(s)}catch(o){console.log(o)}})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.F0),e.Y36(C.M))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-maternal-nutrition"]],decls:11,vars:3,consts:[["slot","start"],[1,"ion-text-center"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","2",1,"ion-text-start","ion-no-padding"],["size","8",1,"d-flex","ion-align-items-center","ion-justify-content-center","ion-no-padding"],["size","2",1,"ion-no-padding"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Maternal Nutrition"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"h4",1),e._uU(8,"My Schedule"),e.qZA(),e.YNc(9,O,9,5,"a",2),e.ALo(10,"async"),e.qZA()),2&n&&(e.xp6(9),e.Q6J("ngForOf",e.lcZ(10,1,o.scheds$)))},dependencies:[A.sg,m.rH,m.Od,t.Sm,t.PM,t.FN,t.wI,t.W2,t.Gu,t.Nd,t.wd,t.sr,t.oU,t.Fo,A.Ov,A.uU],styles:["ion-card[_ngcontent-%COMP%]{margin:10px}ion-card-content[_ngcontent-%COMP%]{padding:20px;text-align:center}.d-flex[_ngcontent-%COMP%]{display:flex}"]}),d})(),R=(()=>{var i;class d{constructor(n,o,s){this.router=n,this.route=o,this.pouchService=s,this.schedSubject=new I.X(""),this.sched$=this.schedSubject.asObservable()}ngOnInit(){}ionViewWillEnter(){var n=this;return(0,l.Z)(function*(){yield n.getSched()})()}navigate(n){this.router.navigate(["/mother/baby-book/maternal-nutrition/"+n])}mealNav(n){this.router.navigate(["/mother/baby-book/maternal-nutrition/meal/"+n])}getSched(){var n=this;return(0,l.Z)(function*(){const o=String(n.route.snapshot.paramMap.get("id"));localStorage.setItem("selected_sched",o);const{startDate:s}=yield n.pouchService.schedDb.get(o);n.schedSubject.next(s)})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(C.M))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-log"]],decls:39,vars:6,consts:[["slot","start"],[1,""],[3,"click"],["size","2",1,"ion-no-padding"],["size","8",1,"d-flex","ion-align-items-center","ion-justify-content-center","ion-no-padding"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3),e.ALo(4,"date"),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"ion-buttons",0),e._UZ(7,"ion-back-button"),e.qZA()()(),e.TgZ(8,"ion-content",1)(9,"ion-card",2),e.NdJ("click",function(){return o.mealNav("breakfast")}),e.TgZ(10,"ion-card-content")(11,"ion-row"),e._UZ(12,"ion-col",3),e.TgZ(13,"ion-col",4),e._uU(14," Breakfast "),e.qZA(),e._UZ(15,"ion-col",3),e.qZA()()(),e.TgZ(16,"ion-card",2),e.NdJ("click",function(){return o.navigate("snack/am")}),e.TgZ(17,"ion-card-content"),e._uU(18," AM Snack "),e.qZA()(),e.TgZ(19,"ion-card",2),e.NdJ("click",function(){return o.mealNav("lunch")}),e.TgZ(20,"ion-card-content")(21,"ion-row"),e._UZ(22,"ion-col",3),e.TgZ(23,"ion-col",4),e._uU(24," Lunch "),e.qZA(),e._UZ(25,"ion-col",3),e.qZA()()(),e.TgZ(26,"ion-card",2),e.NdJ("click",function(){return o.navigate("snack/pm")}),e.TgZ(27,"ion-card-content"),e._uU(28," PM Snack "),e.qZA()(),e.TgZ(29,"ion-card",2),e.NdJ("click",function(){return o.mealNav("dinner")}),e.TgZ(30,"ion-card-content")(31,"ion-row"),e._UZ(32,"ion-col",3),e.TgZ(33,"ion-col",4),e._uU(34," Dinner "),e.qZA(),e._UZ(35,"ion-col",3),e.qZA()()(),e.TgZ(36,"ion-card",2),e.NdJ("click",function(){return o.navigate("snack/mn")}),e.TgZ(37,"ion-card-content"),e._uU(38," Midnight Snack "),e.qZA()()()),2&n&&(e.xp6(3),e.Oqu(e.xi3(4,1,e.lcZ(5,4,o.sched$),"longDate")))},dependencies:[t.Sm,t.PM,t.FN,t.wI,t.W2,t.Gu,t.Nd,t.wd,t.sr,t.oU,A.Ov,A.uU],styles:[".percent-bar-container[_ngcontent-%COMP%]{width:100%;height:20px;background-color:#ddd}.percent-bar[_ngcontent-%COMP%]{height:100%;background-color:#4caf50}"]}),d})();var L=p(4004),W=p(3401);let x=(()=>{var i;class d{constructor(n){this.storageService=n,this.currentWater={id:"null",scheduleId:"",amount:0},this.currentMealId=""}getAll(n){var o=this;return(0,l.Z)(function*(){return yield o.storageService.get(n)})()}set(n,o){this.getAll(n).then(s=>{s.push(o),this.storageService.set(n,s)})}getKeys(){this.storageService.getKeys().then(n=>{console.log(n)})}getById(n,o){var s=this;return(0,l.Z)(function*(){return yield s.storageService.get(n).then(f=>f.find(k=>k.id===o)).catch(f=>f)})()}getAllByRefId(n,o,s){var f=this;return(0,l.Z)(function*(){return yield f.getAll(n).then(k=>{let D=[];return k.forEach(V=>{V[o]===s&&D.push(V)}),D}).catch(k=>k)})()}addUpdateElement(n,o){var s=this;return(0,l.Z)(function*(){yield s.getAll(n).then(f=>{let k=!1;f.forEach(D=>{if(o.id===D.id)for(var V in k=!0,D)D[V]=o[V]}),!1===k&&f.push(o),s.storageService.set(n,f)})})()}seedSchedule(n){this.getAll("schedule").then(o=>{let s=[];for(let f=0;f<3;f++){let k=new Date;k.setDate(k.getDate()+f);let D={id:(0,L.Z)(),maternalNutritionId:n,startDate:k};s.push(D.id),o.push(D)}return this.storageService.set("schedule",o),s}).then(o=>{this.seedMeals(o)})}seedMeals(n){this.getAll("meal").then(o=>{let s=["breakfast","lunch","dinner"];n.forEach(f=>{s.forEach(k=>{let D={id:(0,L.Z)(),scheduleId:f,type:k,imageRef:""};o.push(D)})}),this.storageService.set("meal",o)})}updateCurrentSched(n){var o=this;return(0,l.Z)(function*(){return o.getById("schedule",n).then(s=>(o.currentSched=s,s))})()}updateMeals(n){var o=this;return(0,l.Z)(function*(){return o.getAllByRefId("meal","scheduleId",n).then(s=>{let f={breakfast:"",lunch:"",dinner:""};return s.forEach(k=>{switch(k.type){case"breakfast":f.breakfast=k.id;break;case"lunch":f.lunch=k.id;break;case"dinner":f.dinner=k.id}}),f})})()}updateMn(n){var o=this;return(0,l.Z)(function*(){return o.getById("maternalNutrition",n).then(s=>(o.currentMn=s,s))})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.LFG(W.V))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),d})();function E(i,d){1&i&&(e.TgZ(0,"ion-card",5)(1,"ion-card-content")(2,"p",6),e._uU(3,"No vitamins indicated"),e.qZA()()())}function z(i,d){if(1&i&&(e.TgZ(0,"div")(1,"a",7)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",8),e._uU(6),e.qZA()()()()()()),2&i){const c=d.$implicit;e.xp6(1),e.MGl("routerLink","/mother/baby-book/maternal-nutrition/vitamins-minerals/edit/",c.id,""),e.xp6(5),e.Oqu(c.name)}}let q=(()=>{var i;class d{constructor(n,o){this.router=n,this.mNService=o,this.vitamins=[],this.noVits=!0}ngOnInit(){}ionViewWillEnter(){this.getVitamins()}navigate(n){this.router.navigate([n])}getVitamins(){this.vitamins=[],this.mNService.getAllByRefId("vitamins","scheduleId",this.mNService.currentSched.id).then(n=>{n.forEach(o=>{this.vitamins.push(o)}),0!=n.length&&(this.noVits=!1)})}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.F0),e.Y36(x))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vitamins"]],decls:12,vars:2,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Vitamins"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e.NdJ("click",function(){return o.navigate("/mother/baby-book/maternal-nutrition/vitamins-minerals/add")}),e._uU(8,"Add"),e.qZA()()()(),e.TgZ(9,"ion-content"),e.YNc(10,E,4,0,"ion-card",3),e.YNc(11,z,7,2,"div",4),e.qZA()),2&n&&(e.xp6(10),e.Q6J("ngIf",o.noVits),e.xp6(1),e.Q6J("ngForOf",o.vitamins))},dependencies:[A.sg,A.O5,m.rH,m.Od,t.YG,t.Sm,t.PM,t.FN,t.wI,t.W2,t.Gu,t.Nd,t.wd,t.sr,t.oU,t.Fo],styles:["ion-card[_ngcontent-%COMP%]{margin:10px}ion-card-content[_ngcontent-%COMP%]{padding:10px;text-align:center}.d-flex[_ngcontent-%COMP%]{display:flex}"]}),d})();var g=p(95);function w(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Add Vitamin"),e.qZA())}function Z(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Edit Vitamin"),e.qZA())}function M(i,d){if(1&i&&(e.TgZ(0,"ion-buttons",9)(1,"ion-button",10),e._uU(2,"Delete"),e.qZA(),e._UZ(3,"ion-alert",11),e.qZA()),2&i){const c=e.oxw();e.xp6(3),e.Q6J("buttons",c.alertButtons)}}let S=(()=>{var i;class d{constructor(n,o,s,f,k){this.route=n,this.formBuilder=o,this.mNService=s,this.toastController=f,this.router=k,this.alertButtons=["Delete"]}ngOnInit(){this.vitForm=this.formBuilder.group({id:[""],scheduleId:[""],name:[""],iron:[""],vitaminA:[""]}),this.getVitamin()}onSubmit(){const n=this.vitForm.value;this.mNService.addUpdateElement("vitamins",{id:n.id,scheduleId:n.scheduleId,name:n.name,iron:n.iron,vitaminA:n.vitaminA}).then(()=>{this.presentToast("null"==this.vitId?"Vitamin added":"Vitamin updated"),this.router.navigate(["/mother/baby-book/maternal-nutrition/vitamins-minerals"])})}getVitamin(){this.vitId=String(this.route.snapshot.paramMap.get("id")),"null"==this.vitId?this.vitForm.setValue({id:(0,L.Z)(),scheduleId:this.mNService.currentSched.id,name:"",iron:"",vitaminA:""}):this.mNService.getById("vitamins",this.vitId).then(n=>{this.vitForm.setValue({id:n.id,scheduleId:n.scheduleId,name:n.name,iron:n.iron,vitaminA:n.vitaminA})})}presentToast(n){var o=this;return(0,l.Z)(function*(){yield(yield o.toastController.create({message:n,duration:1500,position:"top"})).present()})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.gz),e.Y36(g.qu),e.Y36(x),e.Y36(t.yF),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-form",5,"j"]],decls:20,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","value",""],["label","Iron","formControlName","iron","id","iron","labelPlacement","stacked","value",""],["label","Vitamin A","formControlName","vitaminA","id","vitaminA","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Account","message","Are you sure you want to delete vitamin?",3,"buttons"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e.YNc(2,w,2,0,"ion-title",0),e.YNc(3,Z,2,0,"ion-title",0),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-back-button"),e.qZA(),e.YNc(6,M,4,1,"ion-buttons",2),e.qZA()(),e.TgZ(7,"ion-content")(8,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item"),e._UZ(12,"ion-input",4),e.qZA(),e.TgZ(13,"ion-item"),e._UZ(14,"ion-input",5),e.qZA(),e.TgZ(15,"ion-item"),e._UZ(16,"ion-input",6),e.qZA()()(),e.TgZ(17,"ion-row",7)(18,"ion-button",8),e._uU(19,"Save"),e.qZA()()()()),2&n&&(e.xp6(2),e.Q6J("ngIf","null"==o.vitId),e.xp6(1),e.Q6J("ngIf","null"!=o.vitId),e.xp6(3),e.Q6J("ngIf","null"!=o.vitId),e.xp6(2),e.Q6J("formGroup",o.vitForm))},dependencies:[A.O5,t.Ge,t.YG,t.Sm,t.PM,t.W2,t.Gu,t.pK,t.Ie,t.q_,t.Nd,t.wd,t.sr,t.j9,t.oU,g._Y,g.JJ,g.JL,g.sg,g.u]}),d})();function h(i,d){1&i&&(e.TgZ(0,"ion-card",5)(1,"ion-card-content")(2,"p",6),e._uU(3,"No snacks indicated"),e.qZA()()())}function _(i,d){if(1&i&&(e.TgZ(0,"div")(1,"a",7)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",8),e._uU(6),e.qZA()()()()()()),2&i){const c=d.$implicit;e.xp6(1),e.MGl("routerLink","/mother/baby-book/maternal-nutrition/food/edit/",c.id,""),e.xp6(5),e.Oqu(c.name)}}let U=(()=>{var i;class d{constructor(n,o,s){this.router=n,this.route=o,this.pouchService=s,this.foodsSubject=new I.X([]),this.foods$=this.foodsSubject.asObservable(),this.noSnacks=!0}ngOnInit(){}ionViewWillEnter(){this.getFoods()}navigate(n){localStorage.setItem("selected_food_type",String(this.route.snapshot.paramMap.get("type"))),this.router.navigate([n])}getFoods(){var n=this;return(0,l.Z)(function*(){try{let o=yield n.pouchService.consumptionDb.find({selector:{scheduleId:localStorage.getItem("selected_sched"),type:n.route.snapshot.paramMap.get("type")}});n.noSnacks=!(o.docs.length>0);const s=o.docs.map(f=>({id:f._id,name:f.name}));n.foodsSubject.next(s)}catch(o){console.log(o)}})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(C.M))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-snacks"]],decls:13,vars:4,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Snacks"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e.NdJ("click",function(){return o.navigate("/mother/baby-book/maternal-nutrition/food/add")}),e._uU(8,"Add Food"),e.qZA()()()(),e.TgZ(9,"ion-content"),e.YNc(10,h,4,0,"ion-card",3),e.YNc(11,_,7,2,"div",4),e.ALo(12,"async"),e.qZA()),2&n&&(e.xp6(10),e.Q6J("ngIf",o.noSnacks),e.xp6(1),e.Q6J("ngForOf",e.lcZ(12,2,o.foods$)))},dependencies:[A.sg,A.O5,m.rH,m.Od,t.YG,t.Sm,t.PM,t.FN,t.wI,t.W2,t.Gu,t.Nd,t.wd,t.sr,t.oU,t.Fo,A.Ov],styles:["ion-card[_ngcontent-%COMP%]{margin:10px}ion-card-content[_ngcontent-%COMP%]{padding:10px;text-align:center}.d-flex[_ngcontent-%COMP%]{display:flex}"]}),d})();function F(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Add Snack"),e.qZA())}function N(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Edit Snack"),e.qZA())}function $(i,d){if(1&i&&(e.TgZ(0,"ion-buttons",9)(1,"ion-button",10),e._uU(2,"Delete"),e.qZA(),e._UZ(3,"ion-alert",11),e.qZA()),2&i){const c=e.oxw();e.xp6(3),e.Q6J("buttons",c.alertButtons)}}let B=(()=>{var i;class d{constructor(n,o,s,f,k){this.route=n,this.formBuilder=o,this.mNService=s,this.toastController=f,this.router=k,this.alertButtons=["Delete"]}ngOnInit(){this.snackForm=this.formBuilder.group({id:[""],scheduleId:[""],name:[""],iron:[""],vitaminA:[""]}),this.getSnack()}onSubmit(){const n=this.snackForm.value;this.mNService.addUpdateElement("snacks",{id:n.id,scheduleId:n.scheduleId,name:n.name,iron:n.iron,vitaminA:n.vitaminA}).then(()=>{this.presentToast("null"==this.snackId?"Snack added":"Snack updated"),this.router.navigate(["/mother/baby-book/maternal-nutrition/snacks"])})}getSnack(){this.snackId=String(this.route.snapshot.paramMap.get("id")),"null"==this.snackId?this.snackForm.setValue({id:(0,L.Z)(),scheduleId:this.mNService.currentSched.id,name:"",iron:"",vitaminA:""}):this.mNService.getById("snacks",this.snackId).then(n=>{this.snackForm.setValue({id:n.id,scheduleId:n.scheduleId,name:n.name,iron:n.iron,vitaminA:n.vitaminA})})}presentToast(n){var o=this;return(0,l.Z)(function*(){yield(yield o.toastController.create({message:n,duration:1500,position:"top"})).present()})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.gz),e.Y36(g.qu),e.Y36(x),e.Y36(t.yF),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-form",5,"i"]],decls:20,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","value",""],["label","Iron","formControlName","iron","id","iron","labelPlacement","stacked","value",""],["label","Vitamin A","formControlName","vitaminA","id","vitaminA","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Account","message","Are you sure you want to delete snack?",3,"buttons"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e.YNc(2,F,2,0,"ion-title",0),e.YNc(3,N,2,0,"ion-title",0),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-back-button"),e.qZA(),e.YNc(6,$,4,1,"ion-buttons",2),e.qZA()(),e.TgZ(7,"ion-content")(8,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item"),e._UZ(12,"ion-input",4),e.qZA(),e.TgZ(13,"ion-item"),e._UZ(14,"ion-input",5),e.qZA(),e.TgZ(15,"ion-item"),e._UZ(16,"ion-input",6),e.qZA()()(),e.TgZ(17,"ion-row",7)(18,"ion-button",8),e._uU(19,"Save"),e.qZA()()()()),2&n&&(e.xp6(2),e.Q6J("ngIf","null"==o.snackId),e.xp6(1),e.Q6J("ngIf","null"!=o.snackId),e.xp6(3),e.Q6J("ngIf","null"!=o.snackId),e.xp6(2),e.Q6J("formGroup",o.snackForm))},dependencies:[A.O5,t.Ge,t.YG,t.Sm,t.PM,t.W2,t.Gu,t.pK,t.Ie,t.q_,t.Nd,t.wd,t.sr,t.j9,t.oU,g._Y,g.JJ,g.JL,g.sg,g.u],styles:["ion-card[_ngcontent-%COMP%]{margin:10px}ion-card-content[_ngcontent-%COMP%]{padding:10px;text-align:center}.d-flex[_ngcontent-%COMP%]{display:flex}"]}),d})();function X(i,d){1&i&&(e.TgZ(0,"ion-card",5)(1,"ion-card-content")(2,"p",6),e._uU(3,"No milk indicated"),e.qZA()()())}function K(i,d){if(1&i&&(e.TgZ(0,"div")(1,"a",7)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",8),e._uU(6),e.qZA()()()()()()),2&i){const c=d.$implicit;e.xp6(1),e.MGl("routerLink","/mother/baby-book/maternal-nutrition/milk/edit/",c.id,""),e.xp6(5),e.Oqu(c.name)}}let j=(()=>{var i;class d{constructor(n,o){this.router=n,this.mNService=o,this.milk=[],this.noMilk=!0}ngOnInit(){}ionViewWillEnter(){this.getMilk()}navigate(n){this.router.navigate([n])}getMilk(){this.milk=[],this.mNService.getAllByRefId("milk","scheduleId",this.mNService.currentSched.id).then(n=>{n.forEach(o=>{this.milk.push(o)}),0!=n.length&&(this.noMilk=!1)})}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.F0),e.Y36(x))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-milk"]],decls:12,vars:2,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Milk"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e.NdJ("click",function(){return o.navigate("/mother/baby-book/maternal-nutrition/milk/add")}),e._uU(8,"Add"),e.qZA()()()(),e.TgZ(9,"ion-content"),e.YNc(10,X,4,0,"ion-card",3),e.YNc(11,K,7,2,"div",4),e.qZA()),2&n&&(e.xp6(10),e.Q6J("ngIf",o.noMilk),e.xp6(1),e.Q6J("ngForOf",o.milk))},dependencies:[A.sg,A.O5,m.rH,m.Od,t.YG,t.Sm,t.PM,t.FN,t.wI,t.W2,t.Gu,t.Nd,t.wd,t.sr,t.oU,t.Fo],styles:["ion-card[_ngcontent-%COMP%]{margin:10px}ion-card-content[_ngcontent-%COMP%]{padding:10px;text-align:center}.d-flex[_ngcontent-%COMP%]{display:flex}"]}),d})();function ee(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Add Milk"),e.qZA())}function te(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Edit Milk"),e.qZA())}function ne(i,d){if(1&i&&(e.TgZ(0,"ion-buttons",9)(1,"ion-button",10),e._uU(2,"Delete"),e.qZA(),e._UZ(3,"ion-alert",11),e.qZA()),2&i){const c=e.oxw();e.xp6(3),e.Q6J("buttons",c.alertButtons)}}let u=(()=>{var i;class d{constructor(n,o,s,f,k){this.route=n,this.formBuilder=o,this.mNService=s,this.toastController=f,this.router=k,this.alertButtons=["Delete"]}ngOnInit(){this.milkForm=this.formBuilder.group({id:[""],scheduleId:[""],name:[""],iron:[""],vitaminA:[""]}),this.getMilk()}onSubmit(){const n=this.milkForm.value;this.mNService.addUpdateElement("milk",{id:n.id,scheduleId:n.scheduleId,name:n.name,iron:n.iron,vitaminA:n.vitaminA}).then(()=>{this.presentToast("null"==this.milkId?"Milk added":"Milk updated"),this.router.navigate(["/mother/baby-book/maternal-nutrition/milk"])})}getMilk(){this.milkId=String(this.route.snapshot.paramMap.get("id")),"null"==this.milkId?this.milkForm.setValue({id:(0,L.Z)(),scheduleId:this.mNService.currentSched.id,name:"",iron:"",vitaminA:""}):this.mNService.getById("milk",this.milkId).then(n=>{this.milkForm.setValue({id:n.id,scheduleId:n.scheduleId,name:n.name,iron:n.iron,vitaminA:n.vitaminA})})}presentToast(n){var o=this;return(0,l.Z)(function*(){yield(yield o.toastController.create({message:n,duration:1500,position:"top"})).present()})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.gz),e.Y36(g.qu),e.Y36(x),e.Y36(t.yF),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-form",5,"h"]],decls:20,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","value",""],["label","Iron","formControlName","iron","id","iron","labelPlacement","stacked","value",""],["label","Vitamin A","formControlName","vitaminA","id","vitaminA","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Account","message","Are you sure you want to delete milk log?",3,"buttons"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e.YNc(2,ee,2,0,"ion-title",0),e.YNc(3,te,2,0,"ion-title",0),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-back-button"),e.qZA(),e.YNc(6,ne,4,1,"ion-buttons",2),e.qZA()(),e.TgZ(7,"ion-content")(8,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item"),e._UZ(12,"ion-input",4),e.qZA(),e.TgZ(13,"ion-item"),e._UZ(14,"ion-input",5),e.qZA(),e.TgZ(15,"ion-item"),e._UZ(16,"ion-input",6),e.qZA()()(),e.TgZ(17,"ion-row",7)(18,"ion-button",8),e._uU(19,"Save"),e.qZA()()()()),2&n&&(e.xp6(2),e.Q6J("ngIf","null"==o.milkId),e.xp6(1),e.Q6J("ngIf","null"!=o.milkId),e.xp6(3),e.Q6J("ngIf","null"!=o.milkId),e.xp6(2),e.Q6J("formGroup",o.milkForm))},dependencies:[A.O5,t.Ge,t.YG,t.Sm,t.PM,t.W2,t.Gu,t.pK,t.Ie,t.q_,t.Nd,t.wd,t.sr,t.j9,t.oU,g._Y,g.JJ,g.JL,g.sg,g.u]}),d})();function T(i,d){1&i&&(e.TgZ(0,"ion-card",5)(1,"ion-card-content")(2,"p",6),e._uU(3,"No fluid indicated"),e.qZA()()())}function y(i,d){if(1&i&&(e.TgZ(0,"div")(1,"a",7)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",8),e._uU(6),e.qZA()()()()()()),2&i){const c=d.$implicit;e.xp6(1),e.MGl("routerLink","/mother/baby-book/maternal-nutrition/fluid/edit/",c.id,""),e.xp6(5),e.Oqu(c.name)}}let a=(()=>{var i;class d{constructor(n,o){this.router=n,this.mNService=o,this.fluid=[],this.noFluid=!0}ngOnInit(){}ionViewWillEnter(){this.getFluid()}navigate(n){this.router.navigate([n])}getFluid(){this.fluid=[],this.mNService.getAllByRefId("fluid","scheduleId",this.mNService.currentSched.id).then(n=>{n.forEach(o=>{this.fluid.push(o)}),0!=n.length&&(this.noFluid=!1)})}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.F0),e.Y36(x))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-fluid"]],decls:12,vars:2,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Fluid"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e.NdJ("click",function(){return o.navigate("/mother/baby-book/maternal-nutrition/fluid/add")}),e._uU(8,"Add"),e.qZA()()()(),e.TgZ(9,"ion-content"),e.YNc(10,T,4,0,"ion-card",3),e.YNc(11,y,7,2,"div",4),e.qZA()),2&n&&(e.xp6(10),e.Q6J("ngIf",o.noFluid),e.xp6(1),e.Q6J("ngForOf",o.fluid))},dependencies:[A.sg,A.O5,m.rH,m.Od,t.YG,t.Sm,t.PM,t.FN,t.wI,t.W2,t.Gu,t.Nd,t.wd,t.sr,t.oU,t.Fo],styles:["ion-card[_ngcontent-%COMP%]{margin:10px}ion-card-content[_ngcontent-%COMP%]{padding:10px;text-align:center}.d-flex[_ngcontent-%COMP%]{display:flex}"]}),d})();function r(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Add Fluid"),e.qZA())}function v(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Edit Fluid"),e.qZA())}function b(i,d){if(1&i&&(e.TgZ(0,"ion-buttons",9)(1,"ion-button",10),e._uU(2,"Delete"),e.qZA(),e._UZ(3,"ion-alert",11),e.qZA()),2&i){const c=e.oxw();e.xp6(3),e.Q6J("buttons",c.alertButtons)}}let J=(()=>{var i;class d{constructor(n,o,s,f,k){this.route=n,this.formBuilder=o,this.mNService=s,this.toastController=f,this.router=k,this.alertButtons=["Delete"]}ngOnInit(){this.fluidForm=this.formBuilder.group({id:[""],scheduleId:[""],name:[""],iron:[""],vitaminA:[""]}),this.getFluid()}onSubmit(){const n=this.fluidForm.value;this.mNService.addUpdateElement("fluid",{id:n.id,scheduleId:n.scheduleId,name:n.name,iron:n.iron,vitaminA:n.vitaminA}).then(()=>{this.presentToast("null"==this.fluidId?"Fluid added":"Fluid updated"),this.router.navigate(["/mother/baby-book/maternal-nutrition/fluid"])})}getFluid(){this.fluidId=String(this.route.snapshot.paramMap.get("id")),"null"==this.fluidId?this.fluidForm.setValue({id:(0,L.Z)(),scheduleId:this.mNService.currentSched.id,name:"",iron:"",vitaminA:""}):this.mNService.getById("fluid",this.fluidId).then(n=>{this.fluidForm.setValue({id:n.id,scheduleId:n.scheduleId,name:n.name,iron:n.iron,vitaminA:n.vitaminA})})}presentToast(n){var o=this;return(0,l.Z)(function*(){yield(yield o.toastController.create({message:n,duration:1500,position:"top"})).present()})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.gz),e.Y36(g.qu),e.Y36(x),e.Y36(t.yF),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-form",5,"g"]],decls:20,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","value",""],["label","Iron","formControlName","iron","id","iron","labelPlacement","stacked","value",""],["label","Vitamin A","formControlName","vitaminA","id","vitaminA","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Account","message","Are you sure you want to delete fluid?",3,"buttons"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e.YNc(2,r,2,0,"ion-title",0),e.YNc(3,v,2,0,"ion-title",0),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-back-button"),e.qZA(),e.YNc(6,b,4,1,"ion-buttons",2),e.qZA()(),e.TgZ(7,"ion-content")(8,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item"),e._UZ(12,"ion-input",4),e.qZA(),e.TgZ(13,"ion-item"),e._UZ(14,"ion-input",5),e.qZA(),e.TgZ(15,"ion-item"),e._UZ(16,"ion-input",6),e.qZA()()(),e.TgZ(17,"ion-row",7)(18,"ion-button",8),e._uU(19,"Save"),e.qZA()()()()),2&n&&(e.xp6(2),e.Q6J("ngIf","null"==o.fluidId),e.xp6(1),e.Q6J("ngIf","null"!=o.fluidId),e.xp6(3),e.Q6J("ngIf","null"!=o.fluidId),e.xp6(2),e.Q6J("formGroup",o.fluidForm))},dependencies:[A.O5,t.Ge,t.YG,t.Sm,t.PM,t.W2,t.Gu,t.pK,t.Ie,t.q_,t.Nd,t.wd,t.sr,t.j9,t.oU,g._Y,g.JJ,g.JL,g.sg,g.u]}),d})();function P(i,d){1&i&&(e.TgZ(0,"ion-card",6)(1,"ion-card-content")(2,"p",7),e._uU(3,"No water intake recorded"),e.qZA()()())}function le(i,d){if(1&i&&(e.TgZ(0,"ion-card")(1,"ion-card-content")(2,"b"),e._uU(3,"Total Intake"),e.qZA(),e._UZ(4,"br"),e._uU(5),e._UZ(6,"br")(7,"ion-progress-bar",8),e.qZA()()),2&i){const c=e.oxw();e.xp6(5),e.hij(" ",c.totalWater,"/8 glasses "),e.xp6(2),e.Q6J("value",c.totalWater/8)}}function ce(i,d){if(1&i&&(e.TgZ(0,"div")(1,"a",9)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",10),e._uU(6),e.qZA()()()()()()),2&i){const c=d.$implicit;e.xp6(1),e.MGl("routerLink","/mother/baby-book/maternal-nutrition/water/edit/",c.id,""),e.xp6(5),e.hij("",c.amount," glasses")}}let se=(()=>{var i;class d{constructor(n,o){this.router=n,this.mNService=o,this.water=[],this.totalWater=0,this.noWater=!0}ngOnInit(){}ionViewWillEnter(){this.getWater()}navigate(n){console.log(n),this.router.navigate([n])}getWater(){this.water=[],this.totalWater=0,this.mNService.getAllByRefId("water","scheduleId",this.mNService.currentSched.id).then(n=>{console.log(n),n.forEach(o=>{this.water.push(o),this.totalWater+=Number(o.amount)}),0!=n.length&&(this.noWater=!1)})}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.F0),e.Y36(x))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-water"]],decls:13,vars:3,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],[3,"value"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Water"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e.NdJ("click",function(){return o.navigate("/mother/baby-book/maternal-nutrition/water/add")}),e._uU(8,"Add"),e.qZA()()()(),e.TgZ(9,"ion-content"),e.YNc(10,P,4,0,"ion-card",3),e.YNc(11,le,8,2,"ion-card",4),e.YNc(12,ce,7,2,"div",5),e.qZA()),2&n&&(e.xp6(10),e.Q6J("ngIf",o.noWater),e.xp6(1),e.Q6J("ngIf",!o.noWater),e.xp6(1),e.Q6J("ngForOf",o.water))},dependencies:[A.sg,A.O5,m.rH,m.Od,t.YG,t.Sm,t.PM,t.FN,t.wI,t.W2,t.Gu,t.X7,t.Nd,t.wd,t.sr,t.oU,t.Fo]}),d})();function de(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Add Water"),e.qZA())}function ue(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Edit Water"),e.qZA())}function me(i,d){if(1&i&&(e.TgZ(0,"ion-buttons",7)(1,"ion-button",8),e._uU(2,"Delete"),e.qZA(),e._UZ(3,"ion-alert",9),e.qZA()),2&i){const c=e.oxw();e.xp6(3),e.Q6J("buttons",c.alertButtons)}}let oe=(()=>{var i;class d{constructor(n,o,s,f,k){this.route=n,this.formBuilder=o,this.mNService=s,this.toastController=f,this.router=k,this.alertButtons=["Delete"]}ngOnInit(){this.waterForm=this.formBuilder.group({id:[""],scheduleId:[""],amount:[]}),this.getWater()}onSubmit(){const n=this.waterForm.value;this.mNService.addUpdateElement("water",{id:n.id,scheduleId:n.scheduleId,amount:n.amount}).then(()=>{this.presentToast("null"==this.waterId?"Water added":"Water updated"),this.router.navigate(["/mother/baby-book/maternal-nutrition/water"])})}getWater(){this.waterId=String(this.route.snapshot.paramMap.get("id")),"null"==this.waterId?this.waterForm.setValue({id:(0,L.Z)(),scheduleId:this.mNService.currentSched.id,amount:0}):this.mNService.getById("water",this.waterId).then(n=>{this.waterForm.setValue({id:n.id,scheduleId:n.scheduleId,amount:n.amount})})}presentToast(n){var o=this;return(0,l.Z)(function*(){yield(yield o.toastController.create({message:n,duration:1500,position:"top"})).present()})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.gz),e.Y36(g.qu),e.Y36(x),e.Y36(t.yF),e.Y36(m.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-form",5,"k"]],decls:19,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Amount","formControlName","amount","labelPlacement","stacked","placeholder","glasses","type","number"],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Account","message","Are you sure you want to delete water log?",3,"buttons"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e.YNc(2,de,2,0,"ion-title",0),e.YNc(3,ue,2,0,"ion-title",0),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-back-button"),e.qZA(),e.YNc(6,me,4,1,"ion-buttons",2),e.qZA()(),e.TgZ(7,"ion-content")(8,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-card-content")(12,"h2"),e._uU(13,"240ml = 1 Glass"),e.qZA()(),e.TgZ(14,"ion-item"),e._UZ(15,"ion-input",4),e.qZA()()(),e.TgZ(16,"ion-row",5)(17,"ion-button",6),e._uU(18,"Save"),e.qZA()()()()),2&n&&(e.xp6(2),e.Q6J("ngIf","null"==o.waterId),e.xp6(1),e.Q6J("ngIf","null"!=o.waterId),e.xp6(3),e.Q6J("ngIf","null"!=o.waterId),e.xp6(2),e.Q6J("formGroup",o.waterForm))},dependencies:[A.O5,t.Ge,t.YG,t.Sm,t.PM,t.FN,t.W2,t.Gu,t.pK,t.Ie,t.q_,t.Nd,t.wd,t.sr,t.as,t.oU,g._Y,g.JJ,g.JL,g.sg,g.u]}),d})();var ie=p(5472),pe=p(4678),re=p(4532);function he(i,d){if(1&i){const c=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-icon",9),e.NdJ("click",function(){e.CHM(c);const o=e.oxw(2);return e.KtG(o.deleteImage())}),e.qZA(),e._UZ(3,"ion-img",10),e.qZA()()}if(2&i){const c=e.oxw(2);e.xp6(3),e.Q6J("src",c.mealPhoto)}}function ge(i,d){if(1&i){const c=e.EpF();e.TgZ(0,"ion-row",6)(1,"ion-col",11),e.NdJ("click",function(){e.CHM(c);const o=e.oxw(2);return e.KtG(o.addPhotoToGallery())}),e._UZ(2,"ion-icon",12),e.qZA()()}}function _e(i,d){if(1&i&&(e.TgZ(0,"ion-grid"),e.YNc(1,he,4,1,"ion-row",4),e.YNc(2,ge,3,0,"ion-row",8),e.qZA()),2&i){const c=e.oxw();e.xp6(1),e.Q6J("ngIf",c.mealPhoto),e.xp6(1),e.Q6J("ngIf",!c.mealPhoto&&c.platform.is("hybrid"))}}function fe(i,d){1&i&&(e.TgZ(0,"ion-card",16)(1,"ion-card-content")(2,"p",17),e._uU(3,"No food indicated"),e.qZA()()())}function be(i,d){if(1&i&&(e.TgZ(0,"div")(1,"a",18)(2,"ion-card")(3,"ion-card-content")(4,"ion-row")(5,"ion-col",19),e._uU(6),e.qZA()()()()()()),2&i){const c=d.$implicit;e.xp6(1),e.MGl("routerLink","/mother/baby-book/maternal-nutrition/food/edit/",c.id,""),e.xp6(5),e.hij("",c.name," ")}}function Ze(i,d){if(1&i&&(e.TgZ(0,"div")(1,"h3",13),e._uU(2,"Food Consumed"),e.qZA(),e.YNc(3,fe,4,0,"ion-card",14),e.YNc(4,be,7,2,"div",15),e.ALo(5,"async"),e.qZA()),2&i){const c=e.oxw();e.xp6(3),e.Q6J("ngIf",c.noFood),e.xp6(1),e.Q6J("ngForOf",e.lcZ(5,2,c.foods$))}}function ve(i,d){1&i&&(e.TgZ(0,"h3",13),e._uU(1,"Meal Skipped"),e.qZA())}let ye=(()=>{var i;class d{constructor(n,o,s,f,k,D){this.router=o,this.route=s,this.photoService=f,this.pouchService=k,this.utilsService=D,this.mealType=String(this.route.snapshot.paramMap.get("type")),this.foodsSubject=new I.X([]),this.foods$=this.foodsSubject.asObservable(),this.noFood=!0,this.skipMeal=!1,this.platform=n}ngOnInit(){return(0,l.Z)(function*(){})()}ionViewWillEnter(){var n=this;return(0,l.Z)(function*(){localStorage.setItem("selected_food_type",String(n.route.snapshot.paramMap.get("type"))),n.mealPhoto=null,n.skipMeal=!1,n.getMealFoods().then(()=>{n.photoService.loadSaved().then(()=>{n.photoService.mealDoc&&(n.mealDoc=n.photoService.mealDoc,n.skipMeal=n.photoService.mealDoc.skipped),n.mealPhoto=n.photoService.mealPhoto})})})()}ionViewWillLeave(){var n=this;return(0,l.Z)(function*(){yield n.patchSkipped()})()}navigate(n){this.router.navigate([n])}addPhotoToGallery(){var n=this;return(0,l.Z)(function*(){yield n.photoService.addNewToGallery().then((0,l.Z)(function*(){for(;;){if(n.photoService.mealPhoto){n.mealPhoto=n.photoService.mealPhoto;break}yield n.delay(100)}}))})()}delay(n){return(0,l.Z)(function*(){return new Promise(o=>setTimeout(o,n))})()}deleteImage(){var n=this;return(0,l.Z)(function*(){n.mealPhoto=null,n.photoService.mealPhoto=null,yield n.photoService.deleteImage()})()}patchSkipped(){var n=this;return(0,l.Z)(function*(){try{const{docs:o}=yield n.pouchService.mealDb.find({selector:{scheduleId:localStorage.getItem("selected_sched"),type:localStorage.getItem("selected_food_type")},attachments:!0,include_docs:!0});if(o.length>0){const f=o[0];yield n.pouchService.mealDb.put({_id:f._id,_rev:f._rev,scheduleId:f.scheduleId,type:f.type,skipped:n.skipMeal,_attachments:f._attachments})}else yield n.pouchService.mealDb.put({_id:n.utilsService.generateId(),scheduleId:localStorage.getItem("selected_sched"),type:localStorage.getItem("selected_food_type"),skipped:n.skipMeal});console.log("replicating to couchdb");let s=yield n.pouchService.mealDb.replicate.to(n.pouchService.customRemote("meal","per-user"),{retry:!0});console.log(s)}catch(o){console.log(o)}})()}getMealFoods(){var n=this;return(0,l.Z)(function*(){try{let o=yield n.pouchService.consumptionDb.find({selector:{scheduleId:localStorage.getItem("selected_sched"),type:n.route.snapshot.paramMap.get("type")}});n.noFood=!(o.docs.length>0);const s=o.docs.map(f=>({id:f._id,name:f.name}));n.foodsSubject.next(s)}catch(o){console.log(o)}})()}toggleDisable(){this.skipMeal=!this.skipMeal}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(ie.t4),e.Y36(m.F0),e.Y36(m.gz),e.Y36(pe.T),e.Y36(C.M),e.Y36(re.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-meal"]],decls:17,vars:8,consts:[["slot","start"],["slot","end"],[3,"disabled","click"],[1,""],[4,"ngIf"],["class","ion-text-center",4,"ngIf"],[1,"ion-padding"],["labelPlacement","end",3,"checked","disabled","ionChange"],["class","ion-padding",4,"ngIf"],["name","trash-outline","size","large",1,"ion-padding","delete-image","ion-align-items-end",3,"click"],[3,"src"],["size","12",1,"camera","d-flex","ion-align-items-center","ion-justify-content-center",3,"click"],["name","camera","size","large"],[1,"ion-text-center"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","12",1,"d-flex","ion-align-items-center","ion-justify-content-center"]],template:function(n,o){if(1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Log Meal"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e.NdJ("click",function(){return o.navigate("/mother/baby-book/maternal-nutrition/food/add")}),e._uU(8,"Add Food "),e.qZA()()()(),e.TgZ(9,"ion-content",3),e.YNc(10,_e,3,2,"ion-grid",4),e.YNc(11,Ze,6,4,"div",4),e.YNc(12,ve,2,0,"h3",5),e.TgZ(13,"div",6)(14,"ion-checkbox",7),e.NdJ("ionChange",function(){return o.toggleDisable()}),e.ALo(15,"async"),e._uU(16,"Skip meal"),e.qZA()()()),2&n){let s;e.xp6(7),e.Q6J("disabled",o.skipMeal),e.xp6(3),e.Q6J("ngIf",!o.skipMeal),e.xp6(1),e.Q6J("ngIf",!o.skipMeal),e.xp6(1),e.Q6J("ngIf",o.skipMeal),e.xp6(2),e.Q6J("checked",o.skipMeal)("disabled",o.mealPhoto||0!==(null==(s=e.lcZ(15,6,o.foods$))?null:s.length))}},dependencies:[A.sg,A.O5,m.rH,m.Od,t.YG,t.Sm,t.PM,t.FN,t.nz,t.wI,t.W2,t.jY,t.Gu,t.gu,t.Xz,t.Nd,t.wd,t.sr,t.w,t.oU,t.Fo,A.Ov],styles:["ion-card[_ngcontent-%COMP%]{margin:10px}ion-card-content[_ngcontent-%COMP%]{padding:10px;text-align:center}.d-flex[_ngcontent-%COMP%]{display:flex}.camera[_ngcontent-%COMP%]{height:285px;background:lightgray;border-radius:8px}.delete-image[_ngcontent-%COMP%]{position:absolute;z-index:100;left:82%}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:3px}"]}),d})();const Ae=["selectSubtype"];function Te(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Add Consumption"),e.qZA())}function Ce(i,d){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Edit Consumption"),e.qZA())}function Se(i,d){if(1&i){const c=e.EpF();e.TgZ(0,"ion-buttons",13)(1,"ion-button",14),e._uU(2,"Delete"),e.qZA(),e.TgZ(3,"ion-alert",15),e.NdJ("ionAlertDidDismiss",function(o){e.CHM(c);const s=e.oxw();return e.KtG(s.delete(o))}),e.qZA()()}if(2&i){const c=e.oxw();e.xp6(3),e.Q6J("buttons",c.alertButtons)}}function Ie(i,d){if(1&i&&(e.TgZ(0,"ion-select-option",21),e._uU(1),e.qZA()),2&i){const c=d.$implicit;e.Q6J("value",c),e.xp6(1),e.hij("",c," ")}}function ke(i,d){if(1&i){const c=e.EpF();e.TgZ(0,"ion-card")(1,"ion-list")(2,"ion-item"),e._UZ(3,"ion-input",16),e.qZA(),e.TgZ(4,"ion-item")(5,"ion-input",17),e.NdJ("ionInput",function(o){e.CHM(c);const s=e.oxw();return e.KtG(s.formatInput(o,"measure"))}),e.qZA()(),e.TgZ(6,"ion-item")(7,"ion-select",18),e.YNc(8,Ie,2,2,"ion-select-option",19),e.qZA()(),e.TgZ(9,"ion-item"),e._UZ(10,"ion-textarea",20),e.qZA()()()}if(2&i){const c=e.oxw();e.xp6(8),e.Q6J("ngForOf",c.units),e.xp6(2),e.Q6J("autoGrow",!0)}}function Ue(i,d){if(1&i){const c=e.EpF();e.TgZ(0,"ion-card")(1,"ion-list")(2,"ion-item"),e._UZ(3,"ion-input",22),e.qZA(),e.TgZ(4,"ion-item")(5,"ion-input",23),e.NdJ("ionInput",function(o){e.CHM(c);const s=e.oxw();return e.KtG(s.formatInput(o,"servingSize"))}),e.qZA()(),e.TgZ(6,"ion-item")(7,"ion-input",24),e.NdJ("ionInput",function(o){e.CHM(c);const s=e.oxw();return e.KtG(s.formatInput(o,"servingSize"))}),e.qZA()(),e.TgZ(8,"ion-item"),e._UZ(9,"ion-input",25),e.qZA(),e.TgZ(10,"ion-item"),e._UZ(11,"ion-input",26),e.qZA(),e.TgZ(12,"ion-item"),e._UZ(13,"ion-input",27),e.qZA(),e.TgZ(14,"ion-item"),e._UZ(15,"ion-input",28),e.qZA(),e.TgZ(16,"ion-item"),e._UZ(17,"ion-textarea",20),e.qZA()()()}2&i&&(e.xp6(17),e.Q6J("autoGrow",!0))}function Fe(i,d){if(1&i){const c=e.EpF();e.TgZ(0,"ion-card")(1,"ion-list")(2,"ion-item"),e._UZ(3,"ion-input",22),e.qZA(),e.TgZ(4,"ion-item")(5,"ion-input",23),e.NdJ("ionInput",function(o){e.CHM(c);const s=e.oxw();return e.KtG(s.formatInput(o,"servingSize"))}),e.qZA()(),e.TgZ(6,"ion-item")(7,"ion-input",24),e.NdJ("ionInput",function(o){e.CHM(c);const s=e.oxw();return e.KtG(s.formatInput(o,"servingSize"))}),e.qZA()(),e.TgZ(8,"ion-item"),e._UZ(9,"ion-input",25),e.qZA(),e.TgZ(10,"ion-item"),e._UZ(11,"ion-input",26),e.qZA(),e.TgZ(12,"ion-item"),e._UZ(13,"ion-input",27),e.qZA(),e.TgZ(14,"ion-item"),e._UZ(15,"ion-input",28),e.qZA(),e.TgZ(16,"ion-item"),e._UZ(17,"ion-textarea",20),e.qZA()()()}2&i&&(e.xp6(17),e.Q6J("autoGrow",!0))}function Me(i,d){1&i&&(e.TgZ(0,"ion-card")(1,"ion-list")(2,"ion-item"),e._UZ(3,"ion-input",22),e.qZA(),e.TgZ(4,"ion-item"),e._UZ(5,"ion-input",25),e.qZA(),e.TgZ(6,"ion-item"),e._UZ(7,"ion-input",26),e.qZA(),e.TgZ(8,"ion-item"),e._UZ(9,"ion-input",27),e.qZA()()())}function Ne(i,d){if(1&i){const c=e.EpF();e.TgZ(0,"ion-card")(1,"ion-list")(2,"ion-item")(3,"ion-input",29),e.NdJ("ionInput",function(o){e.CHM(c);const s=e.oxw();return e.KtG(s.formatInput(o,"waterAmt"))}),e.qZA()(),e.TgZ(4,"ion-item",30)(5,"ion-note"),e._uU(6,"One glass is equal to 240mL"),e.qZA()()()()}}let ae=(()=>{var i;class d{constructor(n,o,s,f,k,D,V){this.route=n,this.formBuilder=o,this.toastController=s,this.router=f,this.pouchService=k,this.utilsService=D,this.navCtrl=V,this.alertButtons=["Delete"],this.units=["Cups (c)","Tablespoons (T)","Teaspoons (t)","Pieces (pcs)","Slices","Grams (g)","Kilograms (kg)","Pound (lb)","Ounces (oz)","Milliliters (ml)","Liters (L)","Fluid ounces (fl oz)"],this.id=String(this.route.snapshot.paramMap.get("id"))}ngOnInit(){this.foodForm=this.formBuilder.group({id:[null],scheduleId:[null],type:[null],subtype:[null],name:[null],servingSize:[null],noOfServings:[null],measure:[null],unit:[null],details:[null],ironPortion:[null],vitAPortion:[null],vitCPortion:[null],fatPortion:[null],consumptionName:[null],ironAmt:[null],retinolAmt:[null],ascorbicAcidAmt:[null],fatAmt:[null],waterAmt:[null],validated:[!1]})}ionViewWillEnter(){this.getFood()}ionViewDidEnter(){}onSubmit(){var n=this;return(0,l.Z)(function*(){const o=n.foodForm.value,s={_id:o.id,scheduleId:o.scheduleId?o.scheduleId:localStorage.getItem("selected_sched"),type:o.type?o.type:localStorage.getItem("selected_food_type"),subtype:o.subtype,name:"water"===o.subtype?"Water":o.name,servingSize:o.servingSize,noOfServings:o.noOfServings,measure:o.measure,unit:o.unit,details:o.details,ironPortion:o.ironPortion,vitAPortion:o.vitAPortion,vitCPortion:o.vitCPortion,fatPortion:o.fatPortion,consumptionName:null,ironAmt:null,retinolAmt:null,ascorbicAcidAmt:null,fatAmt:null,waterAmt:o.waterAmt?240*o.waterAmt:null,validated:!1};try{if(s._id){const f=yield n.pouchService.consumptionDb.get(n.id);s._rev=f._rev,yield n.pouchService.consumptionDb.put(s),n.presentToast("Food updated")}else s._id=n.utilsService.generateId(),yield n.pouchService.consumptionDb.put(s),n.presentToast("Food added");n.pouchService.consumptionDb.replicate.to(n.pouchService.customRemote("consumption","per-user"),{retry:!0}),n.navCtrl.pop()}catch(f){console.log(f)}})()}clearFormData(n){this.foodForm.reset(),this.foodForm.patchValue({subtype:n.detail.value})}getFood(){var n=this;return(0,l.Z)(function*(){if("null"!==n.id)try{let o=yield n.pouchService.consumptionDb.get(n.id);n.foodForm.setValue({id:o._id,scheduleId:o.scheduleId,type:o.type,subtype:o.subtype,name:o.name,servingSize:o.servingSize,noOfServings:o.noOfServings,measure:o.measure,unit:o.unit,details:o.details,ironPortion:o.ironPortion,vitAPortion:o.vitAPortion,vitCPortion:o.vitCPortion,fatPortion:o.fatPortion,consumptionName:o.consumptionName,ironAmt:o.ironAmt,retinolAmt:o.retinolAmt,ascorbicAcidAmt:o.ascorbicAcidAmt,fatAmt:o.fatAmt,waterAmt:o.waterAmt/240,validated:o.validated})}catch(o){console.log(o)}else n.selectSubtype.open()})()}formatInput(n,o){let s=n.target.value;const f=s.indexOf(".");-1!==f&&(s=s.slice(0,f+3),this.foodForm.patchValue({[o]:parseFloat(s)}))}presentToast(n){var o=this;return(0,l.Z)(function*(){yield(yield o.toastController.create({message:n,duration:1500,position:"top"})).present()})()}delete(n){var o=this;return(0,l.Z)(function*(){if("backdrop"!==n.detail.role)try{const s=yield o.pouchService.consumptionDb.get(o.id);yield o.pouchService.consumptionDb.remove(s).then(f=>{o.pouchService.consumptionDb.replicate.to(o.pouchService.customRemote("consumption","per-user"),{retry:!0}),o.navCtrl.pop(),o.presentToast("Food deleted")})}catch(s){console.log(s)}})()}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.gz),e.Y36(g.qu),e.Y36(t.yF),e.Y36(m.F0),e.Y36(C.M),e.Y36(re.F),e.Y36(ie.SH))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-food"]],viewQuery:function(n,o){if(1&n&&e.Gf(Ae,5),2&n){let s;e.iGM(s=e.CRH())&&(o.selectSubtype=s.first)}},decls:31,vars:9,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["interface","action-sheet","label","Food Type","label-placement","floating","formControlName","subtype","fill","outline","placeholder","Food Type",2,"width","100%",3,"ionChange"],["selectSubtype",""],["value","food"],["value","snack"],["value","supplement"],["value","drink"],["value","water"],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Consumption","message","Are you sure you want to delete food?",3,"buttons","ionAlertDidDismiss"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","type","text","placeholder","Name"],["label","Measure","formControlName","measure","id","measure","labelPlacement","stacked","type","number","placeholder","Measure",3,"ionInput"],["interface","action-sheet","label","Unit","label-placement","floating","formControlName","unit","fill","outline","placeholder","Unit"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Details","label","Details","formControlName","details","label-placement","floating",3,"autoGrow"],[3,"value"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","placeholder","Name","type","text"],["label","Serving Size","formControlName","servingSize","id","servingSize","labelPlacement","stacked","placeholder","Serving Size","type","number",3,"ionInput"],["label","Number of Servings","formControlName","noOfServings","id","noOfServings","labelPlacement","stacked","placeholder","Number of Servings","type","number",3,"ionInput"],["label","Iron Portion","formControlName","ironPortion","id","ironPortion","placeholder","Iron Portion","labelPlacement","stacked","type","text"],["label","Vitamin A Portion","formControlName","vitAPortion","id","vitAPortion","placeholder","Vitamin A Portion","labelPlacement","stacked","type","text"],["label","Vitamin C Portion","formControlName","vitCPortion","id","vitCPortion","placeholder","Vitamin C Portion","labelPlacement","stacked","type","text"],["label","Fat Portion","formControlName","fatPortion","id","fatPortion","placeholder","Fat Portion","labelPlacement","stacked","type","text"],["type","number","label","Amount","formControlName","waterAmt","labelPlacement","stacked","placeholder","Glasses",3,"ionInput"],[1,"ion-padding-start"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar"),e.YNc(2,Te,2,0,"ion-title",0),e.YNc(3,Ce,2,0,"ion-title",0),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-back-button"),e.qZA(),e.YNc(6,Se,4,1,"ion-buttons",2),e.qZA()(),e.TgZ(7,"ion-content")(8,"form",3),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(9,"ion-card")(10,"ion-item")(11,"ion-select",4,5),e.NdJ("ionChange",function(f){return o.clearFormData(f)}),e.TgZ(13,"ion-select-option",6),e._uU(14,"Food"),e.qZA(),e.TgZ(15,"ion-select-option",7),e._uU(16,"Snack"),e.qZA(),e.TgZ(17,"ion-select-option",8),e._uU(18,"Supplement"),e.qZA(),e.TgZ(19,"ion-select-option",9),e._uU(20,"Drink"),e.qZA(),e.TgZ(21,"ion-select-option",10),e._uU(22,"Water"),e.qZA()()()(),e.YNc(23,ke,11,2,"ion-card",0),e.YNc(24,Ue,18,1,"ion-card",0),e.YNc(25,Fe,18,1,"ion-card",0),e.YNc(26,Me,10,0,"ion-card",0),e.YNc(27,Ne,7,0,"ion-card",0),e.TgZ(28,"ion-row",11)(29,"ion-button",12),e._uU(30,"Save"),e.qZA()()()()),2&n&&(e.xp6(2),e.Q6J("ngIf","null"==o.id),e.xp6(1),e.Q6J("ngIf","null"!=o.id),e.xp6(3),e.Q6J("ngIf","null"!=o.id),e.xp6(2),e.Q6J("formGroup",o.foodForm),e.xp6(15),e.Q6J("ngIf","food"==o.foodForm.controls.subtype.value),e.xp6(1),e.Q6J("ngIf","snack"==o.foodForm.controls.subtype.value),e.xp6(1),e.Q6J("ngIf","drink"==o.foodForm.controls.subtype.value),e.xp6(1),e.Q6J("ngIf","supplement"==o.foodForm.controls.subtype.value),e.xp6(1),e.Q6J("ngIf","water"==o.foodForm.controls.subtype.value))},dependencies:[A.sg,A.O5,t.Ge,t.YG,t.Sm,t.PM,t.W2,t.Gu,t.pK,t.Ie,t.q_,t.uN,t.Nd,t.t9,t.n0,t.g2,t.wd,t.sr,t.as,t.QI,t.j9,t.oU,g._Y,g.JJ,g.JL,g.sg,g.u]}),d})(),G=(()=>{var i;class d{constructor(n,o){this.router=n,this.route=o}ngOnInit(){console.log(this.route.snapshot.paramMap.get("id"))}navigate(n){this.router.navigate([n])}}return(i=d).\u0275fac=function(n){return new(n||i)(e.Y36(m.F0),e.Y36(m.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-consumption"]],decls:11,vars:0,consts:[["slot","start"],["slot","end"],[3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"AM Snack"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button"),e.qZA(),e.TgZ(6,"ion-buttons",1)(7,"ion-button",2),e.NdJ("click",function(){return o.navigate("/mother/baby-book/maternal-nutrition/food")}),e._uU(8,"Add Food"),e.qZA()()()(),e.TgZ(9,"ion-content"),e._uU(10," QWEQWE "),e.qZA())},dependencies:[t.YG,t.Sm,t.W2,t.Gu,t.wd,t.sr,t.oU]}),d})();const xe=[{path:"",component:Q},{path:"log/:id",component:R},{path:"vitamins-minerals",component:q},{path:"vitamins-minerals/edit/:id",component:S},{path:"vitamins-minerals/add",component:S},{path:"snack/:type",component:U},{path:"snacks/edit/:id",component:B},{path:"snacks/add",component:B},{path:"milk",component:j},{path:"milk/edit/:id",component:u},{path:"milk/add",component:u},{path:"fluid",component:a},{path:"fluid/edit/:id",component:J},{path:"fluid/add",component:J},{path:"water",component:se},{path:"water/edit/:id",component:oe},{path:"water/add",component:oe},{path:"meal/:type",component:ye},{path:"food/add",component:ae},{path:"food/edit/:id",component:ae},{path:"breakfast",component:G},{path:"lunch",component:G},{path:"dinner",component:G},{path:"am-snack/:id",component:G},{path:"am-snack/add",component:G},{path:"consumption/pm-snack/:id",component:G},{path:"consumption/pm-snack/add",component:G},{path:"consumption/mn-snack/:id",component:G},{path:"consumption/mn-snack/add",component:G}];let Pe=(()=>{var i;class d{}return(i=d).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(xe),m.Bz]}),d})()},4888:(H,Y,p)=>{p.d(Y,{Z:()=>A});var m=p(6814),l=p(95),I=p(4960),e=p(9810),C=p(6689);let A=(()=>{var t;class O{}return(t=O).\u0275fac=function(R){return new(R||t)},t.\u0275mod=C.oAB({type:t}),t.\u0275inj=C.cJS({imports:[m.ez,I.MaternalNutritionRoutingModule,e.Pc,l.UX,l.u5]}),O})()},5068:(H,Y,p)=>{p.r(Y),p.d(Y,{PersonalHealthRecordModule:()=>ne});var m=p(6814),l=p(9810),I=p(95),e=p(3699),C=p(5861),A=p(5619),t=p(6689),O=p(3970);function Q(u,T){if(1&u&&(t.TgZ(0,"ion-col",15)(1,"p"),t._uU(2),t.ALo(3,"async"),t.qZA()()),2&u){const y=t.oxw();let a;t.xp6(2),t.hij("",null==(a=t.lcZ(3,1,y.phr$))?null:a.heightCm," cm")}}function R(u,T){if(1&u&&(t.TgZ(0,"ion-col",15)(1,"p"),t._uU(2),t.ALo(3,"async"),t.ALo(4,"async"),t.qZA()()),2&u){const y=t.oxw();let a;t.xp6(2),t.AsE("",null==(a=t.lcZ(3,2,y.phr$))?null:a.heightFt," feet, ",null==(a=t.lcZ(4,4,y.phr$))?null:a.heightIn," inches")}}function L(u,T){if(1&u&&(t.TgZ(0,"ion-col",15)(1,"p"),t._uU(2),t.ALo(3,"async"),t.qZA()()),2&u){const y=t.oxw();let a;t.xp6(2),t.hij("",null==(a=t.lcZ(3,1,y.phr$))?null:a.weight," kg")}}function W(u,T){if(1&u&&(t.TgZ(0,"ion-col",15)(1,"p"),t._uU(2),t.ALo(3,"async"),t.qZA()()),2&u){const y=t.oxw();let a;t.xp6(2),t.hij("",null==(a=t.lcZ(3,1,y.phr$))?null:a.weight," lbs")}}function x(u,T){if(1&u&&(t.TgZ(0,"ion-item",16)(1,"ion-col",17)(2,"p"),t._uU(3),t.ALo(4,"async"),t.qZA()()()),2&u){const y=t.oxw();let a;t.xp6(3),t.hij("Other Comorbidity: ",null==(a=t.lcZ(4,1,y.phr$))?null:a.otherComorbidityIndicate,"")}}function E(u,T){1&u&&(t.TgZ(0,"ion-card",18)(1,"ion-card-content")(2,"p",19),t._uU(3,"No medications added yet"),t.qZA()()())}function z(u,T){if(1&u&&(t.TgZ(0,"ion-card")(1,"ion-card-content")(2,"ion-row")(3,"ion-col",20)(4,"p"),t._uU(5),t.qZA()(),t.TgZ(6,"ion-col",20)(7,"p"),t._uU(8),t.qZA()(),t.TgZ(9,"ion-col",20)(10,"p"),t._uU(11),t.qZA()()()()()),2&u){const y=T.$implicit;t.xp6(5),t.Oqu(y.name),t.xp6(3),t.Oqu(y.dosage),t.xp6(3),t.Oqu(y.frequency)}}let q=(()=>{var u;class T{constructor(a,r){this.router=a,this.pouchService=r,this.noMeds=!0,this.phrSubject=new A.X({id:"",pregnancyId:"",weightUnit:"",weight:0,heightUnit:"cm",heightCm:1,heightFt:0,heightIn:0,heartProblem:!1,liverProblem:!1,kidneyProblem:!1,cancer:!1,lungProblem:!1,hypertension:!1,diabetes:!1,obesity:!1,stroke:!1,hiv:!1,otherComorbidity:!1,otherComorbidityIndicate:""}),this.phr$=this.phrSubject.asObservable(),this.medsSubject=new A.X([]),this.meds$=this.medsSubject.asObservable(),this.comorbs={heartProblem:!1,liverProblem:!1,kidneyProblem:!1,cancer:!1,lungProblem:!1,hypertension:!1,diabetes:!1,obesity:!1,stroke:!1,hiv:!1,otherComorbidity:!1}}ngOnInit(){}ionViewWillEnter(){this.getPhrMeds()}getPhrMeds(){var a=this;return(0,C.Z)(function*(){try{var r=yield a.pouchService.phrDb.get(localStorage.getItem("selected_phr"));const v={id:r._id,pregnancyId:r.pregnancyId,weightUnit:r.weightUnit,weight:r.weight,heightUnit:r.heightUnit,heightCm:r.heightCm,heightFt:r.heightFt,heightIn:r.heightIn,heartProblem:r.heartProblem,liverProblem:r.liverProblem,kidneyProblem:r.kidneyProblem,cancer:r.cancer,lungProblem:r.lungProblem,hypertension:r.hypertension,diabetes:r.diabetes,obesity:r.obesity,stroke:r.stroke,hiv:r.hiv,otherComorbidity:r.otherComorbidity,otherComorbidityIndicate:r.otherComorbidityIndicate};a.phrSubject.next(v),a.phrSubject.subscribe(P=>{a.comorbs.heartProblem=P.heartProblem,a.comorbs.liverProblem=P.liverProblem,a.comorbs.kidneyProblem=P.kidneyProblem,a.comorbs.cancer=P.cancer,a.comorbs.lungProblem=P.lungProblem,a.comorbs.hypertension=P.hypertension,a.comorbs.diabetes=P.diabetes,a.comorbs.obesity=P.obesity,a.comorbs.stroke=P.stroke,a.comorbs.hiv=P.hiv,a.comorbs.otherComorbidity=P.otherComorbidity}),yield a.pouchService.medsDb.info();let b=yield a.pouchService.medsDb.find({selector:{personalHealthRecordId:v.id}});a.noMeds=!(b.docs.length>0);const J=b.docs.map(P=>({id:P._id,personalHealthRecordId:P.personalHealthRecordId,name:P.name,dosage:P.dosage,frequency:P.frequency}));a.medsSubject.next(J)}catch(v){console.log(v)}})()}navigate(){let a;this.phrSubject.subscribe(r=>{a="/mother/baby-book/phr/edit/"+r.id}),this.router.navigate([a])}}return(u=T).\u0275fac=function(a){return new(a||u)(t.Y36(e.F0),t.Y36(O.M))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-personal-health-record"]],decls:89,vars:27,consts:[["slot","start"],["slot","end"],[3,"click"],[1,""],["lines","full"],["size","3"],["size","6",4,"ngIf"],[1,"border-1"],["size","4"],["size","2"],["disabled","true",3,"ngModel","ngModelChange"],["class","border-1 bottom-padding-5",4,"ngIf"],[1,"ion-text-center"],["color","warning",4,"ngIf"],[4,"ngFor","ngForOf"],["size","6"],[1,"border-1","bottom-padding-5"],["size","12"],["color","warning"],[1,"ion-text-center","ion-padding"],["size","4",1,"d-flex","ion-align-items-center","ion-text-left"]],template:function(a,r){if(1&a&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Personal Health Record"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA(),t.TgZ(6,"ion-buttons",1)(7,"ion-button",2),t.NdJ("click",function(){return r.navigate()}),t._uU(8,"Edit"),t.qZA()()()(),t.TgZ(9,"ion-content",3)(10,"ion-card")(11,"ion-list",4)(12,"ion-item")(13,"ion-col",5)(14,"p"),t._uU(15,"Height"),t.qZA()(),t.YNc(16,Q,4,3,"ion-col",6),t.ALo(17,"async"),t.YNc(18,R,5,6,"ion-col",6),t.ALo(19,"async"),t.qZA(),t.TgZ(20,"ion-item")(21,"ion-col",5)(22,"p"),t._uU(23,"Weight"),t.qZA()(),t.YNc(24,L,4,3,"ion-col",6),t.ALo(25,"async"),t.YNc(26,W,4,3,"ion-col",6),t.ALo(27,"async"),t.qZA(),t.TgZ(28,"ion-item",7)(29,"ion-col",8)(30,"p"),t._uU(31,"Heart Problem"),t.qZA()(),t.TgZ(32,"ion-col",9)(33,"ion-checkbox",10),t.NdJ("ngModelChange",function(b){return r.comorbs.heartProblem=b}),t.qZA()(),t.TgZ(34,"ion-col",8)(35,"p"),t._uU(36,"Liver Problem"),t.qZA()(),t.TgZ(37,"ion-col",9)(38,"ion-checkbox",10),t.NdJ("ngModelChange",function(b){return r.comorbs.liverProblem=b}),t.qZA()()(),t.TgZ(39,"ion-item",7)(40,"ion-col",8)(41,"p"),t._uU(42,"Kidney Problem"),t.qZA()(),t.TgZ(43,"ion-col",9)(44,"ion-checkbox",10),t.NdJ("ngModelChange",function(b){return r.comorbs.kidneyProblem=b}),t.qZA()(),t.TgZ(45,"ion-col",8)(46,"p"),t._uU(47,"Cancer"),t.qZA()(),t.TgZ(48,"ion-col",9)(49,"ion-checkbox",10),t.NdJ("ngModelChange",function(b){return r.comorbs.cancer=b}),t.qZA()()(),t.TgZ(50,"ion-item",7)(51,"ion-col",8)(52,"p"),t._uU(53,"Lung Problem"),t.qZA()(),t.TgZ(54,"ion-col",9)(55,"ion-checkbox",10),t.NdJ("ngModelChange",function(b){return r.comorbs.lungProblem=b}),t.qZA()(),t.TgZ(56,"ion-col",8)(57,"p"),t._uU(58,"Hypertension"),t.qZA()(),t.TgZ(59,"ion-col",9)(60,"ion-checkbox",10),t.NdJ("ngModelChange",function(b){return r.comorbs.hypertension=b}),t.qZA()()(),t.TgZ(61,"ion-item",7)(62,"ion-col",8)(63,"p"),t._uU(64,"Diabetes"),t.qZA()(),t.TgZ(65,"ion-col",9)(66,"ion-checkbox",10),t.NdJ("ngModelChange",function(b){return r.comorbs.diabetes=b}),t.qZA()(),t.TgZ(67,"ion-col",8)(68,"p"),t._uU(69,"Obesity"),t.qZA()(),t.TgZ(70,"ion-col",9)(71,"ion-checkbox",10),t.NdJ("ngModelChange",function(b){return r.comorbs.obesity=b}),t.qZA()()(),t.TgZ(72,"ion-item",7)(73,"ion-col",8)(74,"p"),t._uU(75,"Stroke"),t.qZA()(),t.TgZ(76,"ion-col",9)(77,"ion-checkbox",10),t.NdJ("ngModelChange",function(b){return r.comorbs.stroke=b}),t.qZA()(),t.TgZ(78,"ion-col",8)(79,"p"),t._uU(80,"HIV"),t.qZA()(),t.TgZ(81,"ion-col",9)(82,"ion-checkbox",10),t.NdJ("ngModelChange",function(b){return r.comorbs.hiv=b}),t.qZA()()(),t.YNc(83,x,5,3,"ion-item",11),t.qZA()(),t.TgZ(84,"h3",12),t._uU(85,"Medications"),t.qZA(),t.YNc(86,E,4,0,"ion-card",13),t.YNc(87,z,12,3,"ion-card",14),t.ALo(88,"async"),t.qZA()),2&a){let v,b,J,P;t.xp6(16),t.Q6J("ngIf","cm"==(null==(v=t.lcZ(17,17,r.phr$))?null:v.heightUnit)),t.xp6(2),t.Q6J("ngIf","foot"==(null==(b=t.lcZ(19,19,r.phr$))?null:b.heightUnit)),t.xp6(6),t.Q6J("ngIf","kg"==(null==(J=t.lcZ(25,21,r.phr$))?null:J.weightUnit)),t.xp6(2),t.Q6J("ngIf","lbs"==(null==(P=t.lcZ(27,23,r.phr$))?null:P.weightUnit)),t.xp6(7),t.Q6J("ngModel",r.comorbs.heartProblem),t.xp6(5),t.Q6J("ngModel",r.comorbs.liverProblem),t.xp6(6),t.Q6J("ngModel",r.comorbs.kidneyProblem),t.xp6(5),t.Q6J("ngModel",r.comorbs.cancer),t.xp6(6),t.Q6J("ngModel",r.comorbs.lungProblem),t.xp6(5),t.Q6J("ngModel",r.comorbs.hypertension),t.xp6(6),t.Q6J("ngModel",r.comorbs.diabetes),t.xp6(5),t.Q6J("ngModel",r.comorbs.obesity),t.xp6(6),t.Q6J("ngModel",r.comorbs.stroke),t.xp6(5),t.Q6J("ngModel",r.comorbs.hiv),t.xp6(1),t.Q6J("ngIf",1==r.comorbs.otherComorbidity),t.xp6(3),t.Q6J("ngIf",r.noMeds),t.xp6(1),t.Q6J("ngForOf",t.lcZ(88,25,r.meds$))}},dependencies:[m.sg,m.O5,l.YG,l.Sm,l.PM,l.FN,l.nz,l.wI,l.W2,l.Gu,l.Ie,l.q_,l.Nd,l.wd,l.sr,l.w,l.oU,I.JJ,I.On,m.Ov],styles:[".d-flex[_ngcontent-%COMP%]{display:flex}.reduced-margin-bottom[_ngcontent-%COMP%]{margin-bottom:0!important}ion-checkbox[_ngcontent-%COMP%]{--size: 28px;--checkbox-background: white}p[_ngcontent-%COMP%]{font-size:15px}.divider[_ngcontent-%COMP%]{border-top:1px solid white;padding-bottom:8px}.border-1[_ngcontent-%COMP%]{border-top:1px solid white}.bottom-padding-5[_ngcontent-%COMP%]{padding-bottom:5px}"]}),T})();function g(u,T){1&u&&t._UZ(0,"ion-input",33)}function w(u,T){1&u&&t._UZ(0,"ion-input",34)}function Z(u,T){1&u&&t._UZ(0,"ion-input",35)}function M(u,T){1&u&&t._UZ(0,"ion-input",36)}function S(u,T){1&u&&t._UZ(0,"ion-input",37)}function h(u,T){1&u&&t._UZ(0,"ion-input",38)}let _=(()=>{var u;class T{constructor(a,r,v,b){this.router=a,this.route=r,this.formBuilder=v,this.pouchService=b,this.id=String(this.route.snapshot.paramMap.get("id"))}ngOnInit(){this.phrForm=this.formBuilder.group({id:[""],pregnancyId:[""],weightUnit:[""],weight:[0],heightUnit:[""],heightCm:[0],heightFt:[0],heightIn:[0],heartProblem:["false"],liverProblem:["false"],kidneyProblem:["false"],cancer:["false"],lungProblem:["false"],hypertension:["false"],diabetes:["false"],obesity:["false"],stroke:["false"],hiv:["false"],otherComorbidity:["false"],otherComorbidityIndicate:[""]}),this.getPhr()}onSubmit(){var a=this;return(0,C.Z)(function*(){const r=a.phrForm.value,v={_id:r.id,pregnancyId:r.pregnancyId,weightUnit:r.weightUnit,weight:r.weight,heightUnit:r.heightUnit,heightCm:r.heightCm,heightFt:r.heightFt,heightIn:r.heightIn,heartProblem:r.heartProblem,liverProblem:r.liverProblem,kidneyProblem:r.kidneyProblem,cancer:r.cancer,lungProblem:r.lungProblem,hypertension:r.hypertension,diabetes:r.diabetes,obesity:r.obesity,stroke:r.stroke,hiv:r.hiv,otherComorbidity:r.otherComorbidity,otherComorbidityIndicate:r.otherComorbidityIndicate};try{var b=yield a.pouchService.phrDb.get(a.id);v._rev=b._rev,yield a.pouchService.phrDb.put(v),a.router.navigate(["/mother/baby-book/phr"]),yield a.pouchService.phrDb.replicate.to(a.pouchService.customRemote("phr","per-user"),{retry:!0})}catch(J){console.log(J)}})()}getPhr(){var a=this;return(0,C.Z)(function*(){try{let r=yield a.pouchService.phrDb.get(a.id);a.phrForm.setValue({id:r._id,pregnancyId:r.pregnancyId,weightUnit:r.weightUnit,weight:r.weight,heightUnit:r.heightUnit,heightCm:r.heightCm,heightFt:r.heightFt,heightIn:r.heightIn,heartProblem:r.heartProblem,liverProblem:r.liverProblem,kidneyProblem:r.kidneyProblem,cancer:r.cancer,lungProblem:r.lungProblem,hypertension:r.hypertension,diabetes:r.diabetes,obesity:r.obesity,stroke:r.stroke,hiv:r.hiv,otherComorbidity:r.otherComorbidity,otherComorbidityIndicate:r.otherComorbidityIndicate})}catch(r){console.log(r)}})()}navigate(a){this.router.navigate([a])}convertWeight(a){"kg"==a.target.value?this.phrForm.patchValue({weight:Math.round(.453592*this.phrForm.controls.weight.value*100)/100}):"lbs"==a.target.value&&this.phrForm.patchValue({weight:Math.round(2.20462*this.phrForm.controls.weight.value*100)/100})}convertHeight(a){if("foot"==a.target.value){const r=this.phrForm.controls.heightCm.value/2.54,v=Math.floor(r/12),b=Math.round(r%12);this.phrForm.patchValue({heightFt:v,heightIn:b})}else if("cm"==a.target.value){const r=Math.max(this.phrForm.controls.heightIn.value);this.phrForm.patchValue({heightCm:Math.round(2.54*(12*this.phrForm.controls.heightFt.value+r)*100)/100})}}}return(u=T).\u0275fac=function(a){return new(a||u)(t.Y36(e.F0),t.Y36(e.gz),t.Y36(I.qu),t.Y36(O.M))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-edit"]],decls:103,vars:7,consts:[["slot","start"],["slot","end"],[3,"click"],[3,"formGroup","ngSubmit"],["label","Centimeters","formControlName","heightCm","labelPlacement","stacked","type","number",4,"ngIf"],["label","Feet","formControlName","heightFt","labelPlacement","stacked","type","number",4,"ngIf"],["label","Inches","formControlName","heightIn","labelPlacement","stacked","type","number",4,"ngIf"],["formControlName","heightUnit","value","cm",1,"d-flex",3,"ionChange"],["value","cm",1,"ion-padding-end"],["value","foot"],["label","Kilograms","formControlName","weight","labelPlacement","stacked","type","number",4,"ngIf"],["label","Pounds","formControlName","weight","labelPlacement","stacked","type","decimal",4,"ngIf"],["formControlName","weightUnit","value","kg",1,"d-flex",3,"ionChange"],["value","kg",1,"ion-padding-end"],["value","lbs"],[1,"border-1"],["size","4"],["size","2"],["formControlName","heartProblem"],["formControlName","liverProblem"],["formControlName","kidneyProblem"],["formControlName","cancer"],["formControlName","lungProblem"],["formControlName","hypertension"],["formControlName","diabetes"],["formControlName","obesity"],["formControlName","stroke"],["formControlName","hiv"],["formControlName","otherComorbidity"],["size","6"],["label","Indicate Comorbidity","formControlName","otherComorbidityIndicate","type","text","labelPlacement","stacked",4,"ngIf"],[2,"display","flex","justify-content","center"],["type","submit"],["label","Centimeters","formControlName","heightCm","labelPlacement","stacked","type","number"],["label","Feet","formControlName","heightFt","labelPlacement","stacked","type","number"],["label","Inches","formControlName","heightIn","labelPlacement","stacked","type","number"],["label","Kilograms","formControlName","weight","labelPlacement","stacked","type","number"],["label","Pounds","formControlName","weight","labelPlacement","stacked","type","decimal"],["label","Indicate Comorbidity","formControlName","otherComorbidityIndicate","type","text","labelPlacement","stacked"]],template:function(a,r){1&a&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Edit Health Record"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA(),t.TgZ(6,"ion-buttons",1)(7,"ion-button",2),t.NdJ("click",function(){return r.navigate("/mother/baby-book/phr/medications")}),t._uU(8,"Meds"),t.qZA()()()(),t.TgZ(9,"ion-content")(10,"form",3),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(11,"ion-card")(12,"ion-list")(13,"ion-item")(14,"p"),t._uU(15," Height "),t.qZA()(),t.TgZ(16,"ion-item"),t.YNc(17,g,1,0,"ion-input",4),t.YNc(18,w,1,0,"ion-input",5),t.YNc(19,Z,1,0,"ion-input",6),t.TgZ(20,"ion-radio-group",7),t.NdJ("ionChange",function(b){return r.convertHeight(b)}),t.TgZ(21,"ion-radio",8),t._uU(22,"cm"),t.qZA(),t.TgZ(23,"ion-radio",9),t._uU(24,"ft & in"),t.qZA()()(),t.TgZ(25,"ion-item")(26,"p"),t._uU(27," Weight "),t.qZA()(),t.TgZ(28,"ion-item"),t.YNc(29,M,1,0,"ion-input",10),t.YNc(30,S,1,0,"ion-input",11),t.TgZ(31,"ion-radio-group",12),t.NdJ("ionChange",function(b){return r.convertWeight(b)}),t.TgZ(32,"ion-radio",13),t._uU(33,"kg"),t.qZA(),t.TgZ(34,"ion-radio",14),t._uU(35,"lb"),t.qZA()()(),t._UZ(36,"br"),t.TgZ(37,"ion-item",15)(38,"ion-col",16)(39,"p"),t._uU(40,"Heart Problem"),t.qZA()(),t.TgZ(41,"ion-col",17),t._UZ(42,"ion-checkbox",18),t.qZA(),t.TgZ(43,"ion-col",16)(44,"p"),t._uU(45,"Liver Problem"),t.qZA()(),t.TgZ(46,"ion-col",17),t._UZ(47,"ion-checkbox",19),t.qZA()(),t.TgZ(48,"ion-item",15)(49,"ion-col",16)(50,"p"),t._uU(51,"Kidney Problem"),t.qZA()(),t.TgZ(52,"ion-col",17),t._UZ(53,"ion-checkbox",20),t.qZA(),t.TgZ(54,"ion-col",16)(55,"p"),t._uU(56,"Cancer"),t.qZA()(),t.TgZ(57,"ion-col",17),t._UZ(58,"ion-checkbox",21),t.qZA()(),t.TgZ(59,"ion-item",15)(60,"ion-col",16)(61,"p"),t._uU(62,"Lung Problem"),t.qZA()(),t.TgZ(63,"ion-col",17),t._UZ(64,"ion-checkbox",22),t.qZA(),t.TgZ(65,"ion-col",16)(66,"p"),t._uU(67,"Hypertension"),t.qZA()(),t.TgZ(68,"ion-col",17),t._UZ(69,"ion-checkbox",23),t.qZA()(),t.TgZ(70,"ion-item",15)(71,"ion-col",16)(72,"p"),t._uU(73,"Diabetes"),t.qZA()(),t.TgZ(74,"ion-col",17),t._UZ(75,"ion-checkbox",24),t.qZA(),t.TgZ(76,"ion-col",16)(77,"p"),t._uU(78,"Obesity"),t.qZA()(),t.TgZ(79,"ion-col",17),t._UZ(80,"ion-checkbox",25),t.qZA()(),t.TgZ(81,"ion-item",15)(82,"ion-col",16)(83,"p"),t._uU(84,"Stroke"),t.qZA()(),t.TgZ(85,"ion-col",17),t._UZ(86,"ion-checkbox",26),t.qZA(),t.TgZ(87,"ion-col",16)(88,"p"),t._uU(89,"HIV"),t.qZA()(),t.TgZ(90,"ion-col",17),t._UZ(91,"ion-checkbox",27),t.qZA()(),t.TgZ(92,"ion-item",15)(93,"ion-col",16)(94,"p"),t._uU(95,"Other Comorbidity"),t.qZA()(),t.TgZ(96,"ion-col",17),t._UZ(97,"ion-checkbox",28),t.qZA(),t.TgZ(98,"ion-col",29),t.YNc(99,h,1,0,"ion-input",30),t.qZA()()()(),t.TgZ(100,"ion-row",31)(101,"ion-button",32),t._uU(102,"Save"),t.qZA()()()()),2&a&&(t.xp6(10),t.Q6J("formGroup",r.phrForm),t.xp6(7),t.Q6J("ngIf","cm"==r.phrForm.controls.heightUnit.value),t.xp6(1),t.Q6J("ngIf","foot"==r.phrForm.controls.heightUnit.value),t.xp6(1),t.Q6J("ngIf","foot"==r.phrForm.controls.heightUnit.value),t.xp6(10),t.Q6J("ngIf","kg"==r.phrForm.controls.weightUnit.value),t.xp6(1),t.Q6J("ngIf","lbs"==r.phrForm.controls.weightUnit.value),t.xp6(69),t.Q6J("ngIf",1==r.phrForm.controls.otherComorbidity.value))},dependencies:[m.O5,l.YG,l.Sm,l.PM,l.nz,l.wI,l.W2,l.Gu,l.pK,l.Ie,l.q_,l.B7,l.se,l.Nd,l.wd,l.sr,l.w,l.as,l.U5,l.QI,l.j9,l.oU,I._Y,I.JJ,I.JL,I.sg,I.u],styles:[".d-flex[_ngcontent-%COMP%]{display:flex}.reduced-margin-bottom[_ngcontent-%COMP%]{margin-bottom:0!important}ion-checkbox[_ngcontent-%COMP%]{--size: 28px;--checkbox-background: white}p[_ngcontent-%COMP%]{font-size:15px}.divider[_ngcontent-%COMP%]{border-top:1px solid white;padding-bottom:8px}.border-1[_ngcontent-%COMP%]{border-top:2px solid white}"]}),T})();function U(u,T){1&u&&(t.TgZ(0,"ion-card",5)(1,"ion-card-content")(2,"p",6),t._uU(3,"No medications added yet"),t.qZA()()())}function F(u,T){if(1&u&&(t.TgZ(0,"a",7)(1,"ion-card")(2,"ion-card-content")(3,"ion-row")(4,"ion-col",8)(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"ion-col",9)(8,"p"),t._uU(9),t.qZA()(),t.TgZ(10,"ion-col",9)(11,"p"),t._uU(12),t.qZA()()()()()()),2&u){const y=T.$implicit;t.MGl("routerLink","/mother/baby-book/phr/medications/edit/",y.id,""),t.xp6(6),t.Oqu(y.name),t.xp6(3),t.Oqu(y.dosage),t.xp6(3),t.Oqu(y.frequency)}}let N=(()=>{var u;class T{constructor(a,r){this.router=a,this.pouchService=r,this.noMeds=!0,this.medsSubject=new A.X([]),this.meds$=this.medsSubject.asObservable()}ngOnInit(){}ionViewWillEnter(){this.getMeds()}navigate(a){this.router.navigate([a])}getMeds(){var a=this;return(0,C.Z)(function*(){try{yield a.pouchService.medsDb.info();const r=yield a.pouchService.medsDb.find({selector:{personalHealthRecordId:localStorage.getItem("selected_phr")}});a.noMeds=!(r.docs.length>0);const v=r.docs.map(b=>({id:b._id,personalHealthRecordId:b.personalHealthRecordId,name:b.name,dosage:b.dosage,frequency:b.frequency}));a.medsSubject.next(v)}catch(r){console.log(r)}})()}}return(u=T).\u0275fac=function(a){return new(a||u)(t.Y36(e.F0),t.Y36(O.M))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-medications"]],decls:13,vars:4,consts:[["slot","start"],["slot","end"],[3,"click"],["color","warning",4,"ngIf"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink",4,"ngFor","ngForOf"],["color","warning"],[1,"ion-text-center","ion-padding"],["routerLinkActive","active","ariaCurrentWhenActive","page",3,"routerLink"],["size","6",1,"d-flex","ion-align-items-center","ion-text-left"],["size","3",1,"d-flex","ion-align-items-center","ion-text-left"]],template:function(a,r){1&a&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Medications"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button"),t.qZA(),t.TgZ(6,"ion-buttons",1)(7,"ion-button",2),t.NdJ("click",function(){return r.navigate("/mother/baby-book/phr/medications/add")}),t._uU(8,"Add"),t.qZA()()()(),t.TgZ(9,"ion-content"),t.YNc(10,U,4,0,"ion-card",3),t.YNc(11,F,13,4,"a",4),t.ALo(12,"async"),t.qZA()),2&a&&(t.xp6(10),t.Q6J("ngIf",r.noMeds),t.xp6(1),t.Q6J("ngForOf",t.lcZ(12,2,r.meds$)))},dependencies:[m.sg,m.O5,e.rH,e.Od,l.YG,l.Sm,l.PM,l.FN,l.wI,l.W2,l.Gu,l.Nd,l.wd,l.sr,l.oU,l.Fo,m.Ov],styles:["p[_ngcontent-%COMP%]{font-size:15px}"]}),T})();var $=p(4532);function B(u,T){1&u&&(t.TgZ(0,"ion-title"),t._uU(1,"Add Medication"),t.qZA())}function X(u,T){1&u&&(t.TgZ(0,"ion-title"),t._uU(1,"Edit Medication"),t.qZA())}function K(u,T){if(1&u){const y=t.EpF();t.TgZ(0,"ion-buttons",9)(1,"ion-button",10),t._uU(2,"Delete"),t.qZA(),t.TgZ(3,"ion-alert",11),t.NdJ("ionAlertDidDismiss",function(r){t.CHM(y);const v=t.oxw();return t.KtG(v.delete(r))}),t.qZA()()}if(2&u){const y=t.oxw();t.xp6(3),t.Q6J("buttons",y.alertButtons)}}let j=(()=>{var u;class T{constructor(a,r,v,b,J,P){this.route=a,this.formBuilder=r,this.router=v,this.toastController=b,this.pouchService=J,this.utilsService=P,this.id=String(this.route.snapshot.paramMap.get("id")),this.alertButtons=["Delete"]}ngOnInit(){this.medForm=this.formBuilder.group({id:[""],personalHealthRecordId:[""],name:[""],dosage:[""],frequency:[""]}),this.getMeds()}onSubmit(){var a=this;return(0,C.Z)(function*(){const r=a.medForm.value,v={_id:r.id,_rev:"",personalHealthRecordId:""==r.personalHealthRecordId?localStorage.getItem("selected_phr"):r.personalHealthRecordId,name:r.name,dosage:r.dosage,frequency:r.frequency};try{if(""==v._id)v._id=a.utilsService.generateId(),yield a.pouchService.medsDb.put(v),a.presentToast("Medication added");else{var b=yield a.pouchService.medsDb.get(a.id);v._rev=b._rev,yield a.pouchService.medsDb.put(v),a.presentToast("Medication updated")}a.pouchService.medsDb.replicate.to(a.pouchService.customRemote("meds","per-user"),{retry:!0}),a.router.navigate(["/mother/baby-book/phr/medications"])}catch(J){console.log(J)}})()}getMeds(){var a=this;return(0,C.Z)(function*(){if("null"==a.id)a.medForm.setValue({id:"",personalHealthRecordId:"",name:"",dosage:"",frequency:""});else try{let r=yield a.pouchService.medsDb.get(a.id);a.medForm.setValue({id:r._id,personalHealthRecordId:r.personalHealthRecordId,name:r.name,dosage:r.dosage,frequency:r.frequency})}catch(r){console.log(r)}})()}getPhrID(){var a=this;return(0,C.Z)(function*(){return yield a.pouchService.phrDb.info(),(yield a.pouchService.phrDb.find({selector:{pregnancyId:localStorage.getItem("selected_preg")},fields:["_id"],limit:1})).docs[0]._id})()}presentToast(a){var r=this;return(0,C.Z)(function*(){yield(yield r.toastController.create({message:a,duration:1500,position:"top"})).present()})()}delete(a){var r=this;return(0,C.Z)(function*(){if("backdrop"!==a.detail.role)try{var v=yield r.pouchService.medsDb.get(r.id),b=yield r.pouchService.medsDb.remove(v).then(J=>{r.pouchService.medsDb.replicate.to(r.pouchService.customRemote("meds","per-user"),{retry:!0}),console.log(J),r.router.navigate(["/mother/baby-book/phr/medications"])});console.log(b)}catch(J){console.log(J)}})()}}return(u=T).\u0275fac=function(a){return new(a||u)(t.Y36(e.gz),t.Y36(I.qu),t.Y36(e.F0),t.Y36(l.yF),t.Y36(O.M),t.Y36($.F))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-add-edit"]],decls:20,vars:4,consts:[[4,"ngIf"],["slot","start"],["slot","end",4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Name","formControlName","name","id","name","labelPlacement","stacked","value",""],["label","Dosage","formControlName","dosage","labelPlacement","stacked","value",""],["label","Frequency","formControlName","frequency","labelPlacement","stacked","value",""],[2,"display","flex","justify-content","center"],["type","submit"],["slot","end"],["id","present-alert"],["trigger","present-alert","header","Delete Account","message","Are you sure you want to delete medication?",3,"buttons","ionAlertDidDismiss"]],template:function(a,r){1&a&&(t.TgZ(0,"ion-header")(1,"ion-toolbar"),t.YNc(2,B,2,0,"ion-title",0),t.YNc(3,X,2,0,"ion-title",0),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button"),t.qZA(),t.YNc(6,K,4,1,"ion-buttons",2),t.qZA()(),t.TgZ(7,"ion-content")(8,"form",3),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(9,"ion-card")(10,"ion-list")(11,"ion-item"),t._UZ(12,"ion-input",4),t.qZA(),t.TgZ(13,"ion-item"),t._UZ(14,"ion-input",5),t.qZA(),t.TgZ(15,"ion-item"),t._UZ(16,"ion-input",6),t.qZA()()(),t.TgZ(17,"ion-row",7)(18,"ion-button",8),t._uU(19,"Save"),t.qZA()()()()),2&a&&(t.xp6(2),t.Q6J("ngIf","null"==r.id),t.xp6(1),t.Q6J("ngIf","null"!=r.id),t.xp6(3),t.Q6J("ngIf","null"!=r.id),t.xp6(2),t.Q6J("formGroup",r.medForm))},dependencies:[m.O5,l.Ge,l.YG,l.Sm,l.PM,l.W2,l.Gu,l.pK,l.Ie,l.q_,l.Nd,l.wd,l.sr,l.j9,l.oU,I._Y,I.JJ,I.JL,I.sg,I.u]}),T})();const ee=[{path:"",component:q},{path:"edit/:id",component:_},{path:"medications",component:N},{path:"medications/edit/:id",component:j},{path:"medications/add",component:j}];let te=(()=>{var u;class T{}return(u=T).\u0275fac=function(a){return new(a||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[e.Bz.forChild(ee),e.Bz]}),T})(),ne=(()=>{var u;class T{}return(u=T).\u0275fac=function(a){return new(a||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[m.ez,te,l.Pc,I.UX,I.u5]}),T})()},4678:(H,Y,p)=>{p.d(Y,{T:()=>W});var m=p(5861),l=p(2726),I=p(3669);const e=(0,l.fo)("Camera",{web:()=>p.e(6468).then(p.bind(p,6468)).then(x=>new x.CameraWeb)});p(5346);const A=(0,l.fo)("Filesystem",{web:()=>p.e(4522).then(p.bind(p,4522)).then(x=>new x.FilesystemWeb)}),t=(0,l.fo)("Preferences",{web:()=>p.e(899).then(p.bind(p,899)).then(x=>new x.PreferencesWeb)});var O=p(6689),Q=p(5472),R=p(3970),L=p(4532);let W=(()=>{var x;class E{constructor(q,g,w){this.pouchService=g,this.utilsService=w,this.convertBlobToBase64=Z=>new Promise((M,S)=>{const h=new FileReader;h.onerror=S,h.onload=()=>{M(h.result)},h.readAsDataURL(Z)}),this.platform=q}addNewToGallery(){var q=this;return(0,m.Z)(function*(){const g=yield e.getPhoto({resultType:I.dk.Uri,source:I.oK.Camera,quality:100});yield q.savePicture(g)})()}clearSaved(){return(0,m.Z)(function*(){yield t.clear()})()}deleteImage(q){var g=this;return(0,m.Z)(function*(){try{const{docs:w}=yield g.pouchService.mealDb.find({selector:{scheduleId:localStorage.getItem("selected_sched"),type:localStorage.getItem("selected_food_type")}});yield g.pouchService.mealDb.remove(w[0]._id,w[0]._rev),yield g.pouchService.mealDb.replicate.to(g.pouchService.customRemote("meal","per-user"),{retry:!0})}catch(w){console.log(w)}})()}loadSaved(){var q=this;return(0,m.Z)(function*(){try{q.mealPhoto=null,q.mealDoc=null;const{docs:g}=yield q.pouchService.mealDb.find({selector:{scheduleId:localStorage.getItem("selected_sched"),type:localStorage.getItem("selected_food_type")}});if(g.length>0&&(q.mealDoc=g[0],g[0]._attachments)){const w=yield q.pouchService.mealDb.getAttachment(g[0]._id,"food-image");q.mealPhoto=URL.createObjectURL(w)}}catch(g){console.log(g)}})()}savePicture(q){var g=this;return(0,m.Z)(function*(){const w=yield g.readAsBase64(q);try{const{docs:Z}=yield g.pouchService.mealDb.find({selector:{scheduleId:localStorage.getItem("selected_sched"),type:localStorage.getItem("selected_food_type")}});let M;if(Z.length>0){const S=Z[0];M=yield g.pouchService.mealDb.put({_id:S._id,_rev:S._rev,scheduleId:S.scheduleId,type:S.type,skipped:!1,_attachments:{"food-image":{content_type:"image/jpeg",data:w}}})}else M=yield g.pouchService.mealDb.put({_id:g.utilsService.generateId(),scheduleId:localStorage.getItem("selected_sched"),type:localStorage.getItem("selected_food_type"),skipped:!1,_attachments:{"food-image":{content_type:"image/jpeg",data:w}}});g.pouchService.mealDb.getAttachment(M.id,"food-image").then(S=>{console.log("mealAttachment:"),console.log(S),g.mealPhoto=URL.createObjectURL(S)})}catch(Z){console.log(Z)}})()}readAsBase64(q){var g=this;return(0,m.Z)(function*(){if(g.platform.is("hybrid"))return(yield A.readFile({path:q.path})).data;{const Z=yield(yield fetch(q.webPath)).blob();return yield g.convertBlobToBase64(Z)}})()}}return(x=E).\u0275fac=function(q){return new(q||x)(O.LFG(Q.t4),O.LFG(R.M),O.LFG(L.F))},x.\u0275prov=O.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),E})()}}]);