"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4678],{5961:(V,$,d)=>{d.d($,{GW:()=>A,dk:()=>Z,oK:()=>s});var s=function(p){return p.Prompt="PROMPT",p.Camera="CAMERA",p.Photos="PHOTOS",p}(s||{}),A=function(p){return p.Rear="REAR",p.Front="FRONT",p}(A||{}),Z=function(p){return p.Uri="uri",p.Base64="base64",p.DataUrl="dataUrl",p}(Z||{})},2726:(V,$,d)=>{d.d($,{Sd:()=>ee,Uw:()=>h,dV:()=>a,fo:()=>E,xz:()=>c});var s=d(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var I=function(r){return r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE",r}(I||{});class c extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const f=r=>{var e,t,i,l,n;const v=r.CapacitorCustomPlatform||null,o=r.Capacitor||{},C=o.Plugins=o.Plugins||{},m=r.CapacitorPlatforms,G=(null===(e=null==m?void 0:m.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==v?v.name:(r=>{var e,t;return null!=r&&r.androidBridge?"android":null!==(t=null===(e=null==r?void 0:r.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(r)),le=(null===(t=null==m?void 0:m.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==G()),de=(null===(i=null==m?void 0:m.currentPlatform)||void 0===i?void 0:i.isPluginAvailable)||(P=>{const y=X.get(P);return!!(null!=y&&y.platforms.has(G())||te(P))}),te=(null===(l=null==m?void 0:m.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(P=>{var y;return null===(y=o.PluginHeaders)||void 0===y?void 0:y.find(K=>K.name===P)}),X=new Map,ge=(null===(n=null==m?void 0:m.currentPlatform)||void 0===n?void 0:n.registerPlugin)||((P,y={})=>{const K=X.get(P);if(K)return console.warn(`Capacitor plugin "${P}" already registered. Cannot register plugins twice.`),K.proxy;const x=G(),N=te(P);let j;const me=function(){var O=(0,s.Z)(function*(){return!j&&x in y?j=j="function"==typeof y[x]?yield y[x]():y[x]:null!==v&&!j&&"web"in y&&(j=j="function"==typeof y.web?yield y.web():y.web),j});return function(){return O.apply(this,arguments)}}(),Q=O=>{let S;const k=(...D)=>{const W=me().then(R=>{const _=((O,S)=>{var k,D;if(!N){if(O)return null===(D=O[S])||void 0===D?void 0:D.bind(O);throw new c(`"${P}" plugin is not implemented on ${x}`,I.Unimplemented)}{const W=null==N?void 0:N.methods.find(R=>S===R.name);if(W)return"promise"===W.rtype?R=>o.nativePromise(P,S.toString(),R):(R,_)=>o.nativeCallback(P,S.toString(),R,_);if(O)return null===(k=O[S])||void 0===k?void 0:k.bind(O)}})(R,O);if(_){const J=_(...D);return S=null==J?void 0:J.remove,J}throw new c(`"${P}.${O}()" is not implemented on ${x}`,I.Unimplemented)});return"addListener"===O&&(W.remove=(0,s.Z)(function*(){return S()})),W};return k.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(k,"name",{value:O,writable:!1,configurable:!1}),k},re=Q("addListener"),ne=Q("removeListener"),Pe=(O,S)=>{const k=re({eventName:O},S),D=function(){var R=(0,s.Z)(function*(){const _=yield k;ne({eventName:O,callbackId:_},S)});return function(){return R.apply(this,arguments)}}(),W=new Promise(R=>k.then(()=>R({remove:D})));return W.remove=(0,s.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield D()}),W},q=new Proxy({},{get(O,S){switch(S){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return N?Pe:re;case"removeListener":return ne;default:return Q(S)}}});return C[P]=q,X.set(P,{name:P,proxy:q,platforms:new Set([...Object.keys(y),...N?[x]:[]])}),q});return o.convertFileSrc||(o.convertFileSrc=P=>P),o.getPlatform=G,o.handleError=P=>r.console.error(P),o.isNativePlatform=le,o.isPluginAvailable=de,o.pluginMethodNoop=(P,y,K)=>Promise.reject(`${K} does not have an implementation of "${y}".`),o.registerPlugin=ge,o.Exception=c,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},a=(r=>r.Capacitor=f(r))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),E=a.registerPlugin;class h{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var i=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);const v=function(){var C=(0,s.Z)(function*(){return i.removeListener(e,t)});return function(){return C.apply(this,arguments)}}(),o=Promise.resolve({remove:v});return Object.defineProperty(o,"remove",{value:(C=(0,s.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield v()}),function(){return C.apply(this,arguments)})}),o;var C}removeAllListeners(){var e=this;return(0,s.Z)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const i=this.listeners[e];i&&i.forEach(l=>l(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:i=>{this.notifyListeners(t,i)}}}unimplemented(e="not implemented"){return new a.Exception(e,I.Unimplemented)}unavailable(e="not available"){return new a.Exception(e,I.Unavailable)}removeListener(e,t){var i=this;return(0,s.Z)(function*(){const l=i.listeners[e];if(!l)return;const n=l.indexOf(t);i.listeners[e].splice(n,1),i.listeners[e].length||i.removeWindowListener(i.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const L=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),M=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class H extends h{getCookies(){return(0,s.Z)(function*(){const e=document.cookie,t={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[l,n]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=M(l).trim(),n=M(n).trim(),t[l]=n}),t})()}setCookie(e){return(0,s.Z)(function*(){try{const t=L(e.key),i=L(e.value),l=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),v=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${i||""}${l}; path=${n}; ${v};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,s.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,s.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,s.Z)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}E("CapacitorCookies",{web:()=>new H});const ie=function(){var r=(0,s.Z)(function*(e){return new Promise((t,i)=>{const l=new FileReader;l.onload=()=>{const n=l.result;t(n.indexOf(",")>=0?n.split(",")[1]:n)},l.onerror=n=>i(n),l.readAsDataURL(e)})});return function(t){return r.apply(this,arguments)}}(),ee=(r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),l=((r={})=>{const e=Object.keys(r);return Object.keys(r).map(l=>l.toLocaleLowerCase()).reduce((l,n,v)=>(l[n]=r[e[v]],l),{})})(r.headers)["content-type"]||"";if("string"==typeof r.data)t.body=r.data;else if(l.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[v,o]of Object.entries(r.data||{}))n.set(v,o);t.body=n.toString()}else if(l.includes("multipart/form-data")){const n=new FormData;if(r.data instanceof FormData)r.data.forEach((o,C)=>{n.append(C,o)});else for(const o of Object.keys(r.data))n.append(o,r.data[o]);t.body=n;const v=new Headers(t.headers);v.delete("content-type"),t.headers=v}else(l.includes("application/json")||"object"==typeof r.data)&&(t.body=JSON.stringify(r.data));return t};class ae extends h{request(e){return(0,s.Z)(function*(){const t=ee(e,e.webFetchExtra),i=((r,e=!0)=>r?Object.entries(r).reduce((i,l)=>{const[n,v]=l;let o,C;return Array.isArray(v)?(C="",v.forEach(m=>{o=e?encodeURIComponent(m):m,C+=`${n}=${o}&`}),C.slice(0,-1)):(o=e?encodeURIComponent(v):v,C=`${n}=${o}`),`${i}&${C}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),l=i?`${e.url}?${i}`:e.url,n=yield fetch(l,t),v=n.headers.get("content-type")||"";let C,m,{responseType:o="text"}=n.ok?e:{};switch(v.includes("application/json")&&(o="json"),o){case"arraybuffer":case"blob":m=yield n.blob(),C=yield ie(m);break;case"json":C=yield n.json();break;default:C=yield n.text()}const z={};return n.headers.forEach((G,Y)=>{z[Y]=G}),{data:C,headers:z,status:n.status,url:n.url}})()}get(e){var t=this;return(0,s.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,s.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,s.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,s.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,s.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}E("CapacitorHttp",{web:()=>new ae})},5346:(V,$,d)=>{d.d($,{ez:()=>A,tP:()=>s});var s=function(w){return w.Documents="DOCUMENTS",w.Data="DATA",w.Library="LIBRARY",w.Cache="CACHE",w.External="EXTERNAL",w.ExternalStorage="EXTERNAL_STORAGE",w}(s||{}),A=function(w){return w.UTF8="utf8",w.ASCII="ascii",w.UTF16="utf16",w}(A||{})},1917:(V,$,d)=>{d.d($,{R:()=>w});var s=d(5861),A=d(4004),Z=d(6689),p=d(3401);let w=(()=>{var U;class F{constructor(c){this.storageService=c,this.currentWater={id:"null",scheduleId:"",amount:0},this.currentMealId=""}getAll(c){var u=this;return(0,s.Z)(function*(){return yield u.storageService.get(c)})()}set(c,u){this.getAll(c).then(f=>{f.push(u),this.storageService.set(c,f)})}getKeys(){this.storageService.getKeys().then(c=>{console.log(c)})}getById(c,u){var f=this;return(0,s.Z)(function*(){return yield f.storageService.get(c).then(g=>g.find(a=>a.id===u)).catch(g=>g)})()}getAllByRefId(c,u,f){var g=this;return(0,s.Z)(function*(){return yield g.getAll(c).then(a=>{let E=[];return a.forEach(B=>{B[u]===f&&E.push(B)}),E}).catch(a=>a)})()}addUpdateElement(c,u){var f=this;return(0,s.Z)(function*(){yield f.getAll(c).then(g=>{let a=!1;g.forEach(E=>{if(u.id===E.id)for(var B in a=!0,E)E[B]=u[B]}),!1===a&&g.push(u),f.storageService.set(c,g)})})()}seedSchedule(c){this.getAll("schedule").then(u=>{let f=[];for(let g=0;g<3;g++){let a=new Date;a.setDate(a.getDate()+g);let E={id:(0,A.Z)(),maternalNutritionId:c,startDate:a};f.push(E.id),u.push(E)}return this.storageService.set("schedule",u),f}).then(u=>{this.seedMeals(u)})}seedMeals(c){this.getAll("meal").then(u=>{let f=["breakfast","lunch","dinner"];c.forEach(g=>{f.forEach(a=>{let E={id:(0,A.Z)(),scheduleId:g,type:a,imageRef:""};u.push(E)})}),this.storageService.set("meal",u)})}updateCurrentSched(c){var u=this;return(0,s.Z)(function*(){return u.getById("schedule",c).then(f=>(u.currentSched=f,f))})()}updateMeals(c){var u=this;return(0,s.Z)(function*(){return u.getAllByRefId("meal","scheduleId",c).then(f=>{let g={breakfast:"",lunch:"",dinner:""};return f.forEach(a=>{switch(a.type){case"breakfast":g.breakfast=a.id;break;case"lunch":g.lunch=a.id;break;case"dinner":g.dinner=a.id}}),g})})()}updateMn(c){var u=this;return(0,s.Z)(function*(){return u.getById("maternalNutrition",c).then(f=>(u.currentMn=f,f))})()}}return(U=F).\u0275fac=function(c){return new(c||U)(Z.LFG(p.V))},U.\u0275prov=Z.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),F})()},4678:(V,$,d)=>{d.d($,{T:()=>g});var s=d(5861),A=d(2726),Z=d(5961);const p=(0,A.fo)("Camera",{web:()=>d.e(6468).then(d.bind(d,6468)).then(a=>new a.CameraWeb)});var w=d(5346);const U=(0,A.fo)("Filesystem",{web:()=>d.e(4522).then(d.bind(d,4522)).then(a=>new a.FilesystemWeb)}),F=(0,A.fo)("Preferences",{web:()=>d.e(899).then(d.bind(d,899)).then(a=>new a.PreferencesWeb)});var I=d(4004),c=d(6689),u=d(5472),f=d(1917);let g=(()=>{var a;class E{constructor(b,h){this.mNService=h,this.photos=[],this.PHOTO_STORAGE="photos",this.convertBlobToBase64=T=>new Promise((L,M)=>{const H=new FileReader;H.onerror=M,H.onload=()=>{L(H.result)},H.readAsDataURL(T)}),this.platform=b}addNewToGallery(b){var h=this;return(0,s.Z)(function*(){const T=yield p.getPhoto({resultType:Z.dk.Uri,source:Z.oK.Camera,quality:100}),L=yield h.savePicture(T);h.photos.unshift(L),F.set({key:h.PHOTO_STORAGE,value:JSON.stringify(h.photos)}),h.mNService.getById("meal",b).then(M=>{M.imageRef=L.id,h.mNService.addUpdateElement("meal",M)})})()}clearSaved(){return(0,s.Z)(function*(){yield F.clear()})()}deleteImage(b){var h=this;return(0,s.Z)(function*(){h.photos.some((T,L)=>{b==T.id&&(h.photos.splice(L,1),F.set({key:h.PHOTO_STORAGE,value:JSON.stringify(h.photos)}))})})()}loadSaved(){var b=this;return(0,s.Z)(function*(){const{value:h}=yield F.get({key:b.PHOTO_STORAGE});if(b.photos=h?JSON.parse(h):[],!b.platform.is("hybrid"))for(let T of b.photos){const L=yield U.readFile({path:T.filepath,directory:w.tP.Data});T.webviewPath=`data:image/jpeg;base64,${L.data}`}})()}savePicture(b){var h=this;return(0,s.Z)(function*(){const T=yield h.readAsBase64(b),L=Date.now()+".jpeg",M=yield U.writeFile({path:L,data:T,directory:w.tP.Data});return h.platform.is("hybrid")?{filepath:M.uri,webviewPath:A.dV.convertFileSrc(M.uri),id:(0,I.Z)()}:{filepath:L,webviewPath:b.webPath,id:(0,I.Z)()}})()}readAsBase64(b){var h=this;return(0,s.Z)(function*(){if(h.platform.is("hybrid"))return(yield U.readFile({path:b.path})).data;{const L=yield(yield fetch(b.webPath)).blob();return yield h.convertBlobToBase64(L)}})()}}return(a=E).\u0275fac=function(b){return new(b||a)(c.LFG(u.t4),c.LFG(f.R))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),E})()}}]);